function Vu(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Fn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const V={},Rt=[],Ye=()=>{},Ur=()=>!1,en=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Nn=e=>e.startsWith("onUpdate:"),ue=Object.assign,Vn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Or=Object.prototype.hasOwnProperty,R=(e,t)=>Or.call(e,t),x=Array.isArray,Dt=e=>Ts(e)==="[object Map]",qt=e=>Ts(e)==="[object Set]",bi=e=>Ts(e)==="[object Date]",_=e=>typeof e=="function",Q=e=>typeof e=="string",Ge=e=>typeof e=="symbol",q=e=>e!==null&&typeof e=="object",so=e=>(q(e)||_(e))&&_(e.then)&&_(e.catch),no=Object.prototype.toString,Ts=e=>no.call(e),Rr=e=>Ts(e).slice(8,-1),io=e=>Ts(e)==="[object Object]",zn=e=>Q(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,os=Fn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Dr=/-(\w)/g,Ae=tn(e=>e.replace(Dr,(t,s)=>s?s.toUpperCase():"")),Fr=/\B([A-Z])/g,$t=tn(e=>e.replace(Fr,"-$1").toLowerCase()),sn=tn(e=>e.charAt(0).toUpperCase()+e.slice(1)),hn=tn(e=>e?"on".concat(sn(e)):""),Tt=(e,t)=>!Object.is(e,t),Us=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},oo=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Vs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ci;const nn=()=>Ci||(Ci=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wn(e){if(x(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Q(n)?Wr(n):Wn(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(Q(e)||q(e))return e}const Nr=/;(?![^(]*\))/g,Vr=/:([^]+)/,zr=/\/\*[^]*?\*\//g;function Wr(e){const t={};return e.replace(zr,"").split(Nr).forEach(s=>{if(s){const n=s.split(Vr);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function on(e){let t="";if(Q(e))t=e;else if(x(e))for(let s=0;s<e.length;s++){const n=on(e[s]);n&&(t+=n+" ")}else if(q(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Kr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jr=Fn(Kr);function ro(e){return!!e||e===""}function qr(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Lt(e[n],t[n]);return s}function Lt(e,t){if(e===t)return!0;let s=bi(e),n=bi(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Ge(e),n=Ge(t),s||n)return e===t;if(s=x(e),n=x(t),s||n)return s&&n?qr(e,t):!1;if(s=q(e),n=q(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const l=e.hasOwnProperty(r),a=t.hasOwnProperty(r);if(l&&!a||!l&&a||!Lt(e[r],t[r]))return!1}}return String(e)===String(t)}function Kn(e,t){return e.findIndex(s=>Lt(s,t))}const lo=e=>!!(e&&e.__v_isRef===!0),we=e=>Q(e)?e:e==null?"":x(e)||q(e)&&(e.toString===no||!_(e.toString))?lo(e)?we(e.value):JSON.stringify(e,ao,2):String(e),ao=(e,t)=>lo(t)?ao(e,t.value):Dt(t)?{["Map(".concat(t.size,")")]:[...t.entries()].reduce((s,[n,i],o)=>(s[gn(n,o)+" =>"]=i,s),{})}:qt(t)?{["Set(".concat(t.size,")")]:[...t.values()].map(s=>gn(s))}:Ge(t)?gn(t):q(t)&&!x(t)&&!io(t)?String(t):t,gn=(e,t="")=>{var s;return Ge(e)?"Symbol(".concat((s=e.description)!=null?s:t,")"):e};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ve;class Yr{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ve,!t&&ve&&(this.index=(ve.scopes||(ve.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ve;try{return ve=this,t()}finally{ve=s}}}on(){++this._on===1&&(this.prevScope=ve,ve=this)}off(){this._on>0&&--this._on===0&&(ve=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Xr(){return ve}let K;const yn=new WeakSet;class co{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ve&&ve.active&&ve.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yn.has(this)&&(yn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ei(this),mo(this);const t=K,s=Ue;K=this,Ue=!0;try{return this.fn()}finally{po(this),K=t,Ue=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Yn(t);this.deps=this.depsTail=void 0,Ei(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Sn(this)&&this.run()}get dirty(){return Sn(this)}}let uo=0,rs,ls;function fo(e,t=!1){if(e.flags|=8,t){e.next=ls,ls=e;return}e.next=rs,rs=e}function jn(){uo++}function qn(){if(--uo>0)return;if(ls){let t=ls;for(ls=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;rs;){let t=rs;for(rs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function mo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function po(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),Yn(n),Gr(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function Sn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ho(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ho(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ms)||(e.globalVersion=ms,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Sn(e))))return;e.flags|=2;const t=e.dep,s=K,n=Ue;K=e,Ue=!0;try{mo(e);const i=e.fn(e._value);(t.version===0||Tt(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{K=s,Ue=n,po(e),e.flags&=-3}}function Yn(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Yn(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Gr(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ue=!0;const go=[];function nt(){go.push(Ue),Ue=!1}function it(){const e=go.pop();Ue=e===void 0?!0:e}function Ei(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=K;K=void 0;try{t()}finally{K=s}}}let ms=0;class Jr{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!K||!Ue||K===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==K)s=this.activeLink=new Jr(K,this),K.deps?(s.prevDep=K.depsTail,K.depsTail.nextDep=s,K.depsTail=s):K.deps=K.depsTail=s,vo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=K.depsTail,s.nextDep=void 0,K.depsTail.nextDep=s,K.depsTail=s,K.deps===s&&(K.deps=n)}return s}trigger(t){this.version++,ms++,this.notify(t)}notify(t){jn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{qn()}}}function vo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)vo(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Pn=new WeakMap,St=Symbol(""),Ln=Symbol(""),ps=Symbol("");function re(e,t,s){if(Ue&&K){let n=Pn.get(e);n||Pn.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new yo),i.map=n,i.key=s),i.track()}}function et(e,t,s,n,i,o){const r=Pn.get(e);if(!r){ms++;return}const l=a=>{a&&a.trigger()};if(jn(),t==="clear")r.forEach(l);else{const a=x(e),m=a&&zn(s);if(a&&s==="length"){const f=Number(n);r.forEach((h,b)=>{(b==="length"||b===ps||!Ge(b)&&b>=f)&&l(h)})}else switch((s!==void 0||r.has(void 0))&&l(r.get(s)),m&&l(r.get(ps)),t){case"add":a?m&&l(r.get("length")):(l(r.get(St)),Dt(e)&&l(r.get(Ln)));break;case"delete":a||(l(r.get(St)),Dt(e)&&l(r.get(Ln)));break;case"set":Dt(e)&&l(r.get(St));break}}qn()}function Mt(e){const t=F(e);return t===e?t:(re(t,"iterate",ps),Oe(e)?t:t.map(pe))}function rn(e){return re(e=F(e),"iterate",ps),e}const Qr={__proto__:null,[Symbol.iterator](){return vn(this,Symbol.iterator,pe)},concat(...e){return Mt(this).concat(...e.map(t=>x(t)?Mt(t):t))},entries(){return vn(this,"entries",e=>(e[1]=pe(e[1]),e))},every(e,t){return Qe(this,"every",e,t,void 0,arguments)},filter(e,t){return Qe(this,"filter",e,t,s=>s.map(pe),arguments)},find(e,t){return Qe(this,"find",e,t,pe,arguments)},findIndex(e,t){return Qe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Qe(this,"findLast",e,t,pe,arguments)},findLastIndex(e,t){return Qe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Qe(this,"forEach",e,t,void 0,arguments)},includes(...e){return wn(this,"includes",e)},indexOf(...e){return wn(this,"indexOf",e)},join(e){return Mt(this).join(e)},lastIndexOf(...e){return wn(this,"lastIndexOf",e)},map(e,t){return Qe(this,"map",e,t,void 0,arguments)},pop(){return es(this,"pop")},push(...e){return es(this,"push",e)},reduce(e,...t){return Ii(this,"reduce",e,t)},reduceRight(e,...t){return Ii(this,"reduceRight",e,t)},shift(){return es(this,"shift")},some(e,t){return Qe(this,"some",e,t,void 0,arguments)},splice(...e){return es(this,"splice",e)},toReversed(){return Mt(this).toReversed()},toSorted(e){return Mt(this).toSorted(e)},toSpliced(...e){return Mt(this).toSpliced(...e)},unshift(...e){return es(this,"unshift",e)},values(){return vn(this,"values",pe)}};function vn(e,t,s){const n=rn(e),i=n[t]();return n!==e&&!Oe(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=s(o.value)),o}),i}const Zr=Array.prototype;function Qe(e,t,s,n,i,o){const r=rn(e),l=r!==e&&!Oe(e),a=r[t];if(a!==Zr[t]){const h=a.apply(e,o);return l?pe(h):h}let m=s;r!==e&&(l?m=function(h,b){return s.call(this,pe(h),b,e)}:s.length>2&&(m=function(h,b){return s.call(this,h,b,e)}));const f=a.call(r,m,n);return l&&i?i(f):f}function Ii(e,t,s,n){const i=rn(e);let o=s;return i!==e&&(Oe(e)?s.length>3&&(o=function(r,l,a){return s.call(this,r,l,a,e)}):o=function(r,l,a){return s.call(this,r,pe(l),a,e)}),i[t](o,...n)}function wn(e,t,s){const n=F(e);re(n,"iterate",ps);const i=n[t](...s);return(i===-1||i===!1)&&Qn(s[0])?(s[0]=F(s[0]),n[t](...s)):i}function es(e,t,s=[]){nt(),jn();const n=F(e)[t].apply(e,s);return qn(),it(),n}const el=Fn("__proto__,__v_isRef,__isVue"),wo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ge));function tl(e){Ge(e)||(e=String(e));const t=F(this);return re(t,"has",e),t.hasOwnProperty(e)}class bo{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?dl:To:o?Io:Eo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=x(t);if(!i){let a;if(r&&(a=Qr[s]))return a;if(s==="hasOwnProperty")return tl}const l=Reflect.get(t,s,ge(t)?t:n);return(Ge(s)?wo.has(s):el(s))||(i||re(t,"get",s),o)?l:ge(l)?r&&zn(s)?l:l.value:q(l)?i?So(l):Gn(l):l}}class Co extends bo{constructor(t=!1){super(!1,t)}set(t,s,n,i){let o=t[s];if(!this._isShallow){const a=xt(o);if(!Oe(n)&&!xt(n)&&(o=F(o),n=F(n)),!x(t)&&ge(o)&&!ge(n))return a?!1:(o.value=n,!0)}const r=x(t)&&zn(s)?Number(s)<t.length:R(t,s),l=Reflect.set(t,s,n,ge(t)?t:i);return t===F(i)&&(r?Tt(n,o)&&et(t,"set",s,n):et(t,"add",s,n)),l}deleteProperty(t,s){const n=R(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&et(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!Ge(s)||!wo.has(s))&&re(t,"has",s),n}ownKeys(t){return re(t,"iterate",x(t)?"length":St),Reflect.ownKeys(t)}}class sl extends bo{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const nl=new Co,il=new sl,ol=new Co(!0);const xn=e=>e,Ms=e=>Reflect.getPrototypeOf(e);function rl(e,t,s){return function(...n){const i=this.__v_raw,o=F(i),r=Dt(o),l=e==="entries"||e===Symbol.iterator&&r,a=e==="keys"&&r,m=i[e](...n),f=s?xn:t?zs:pe;return!t&&re(o,"iterate",a?Ln:St),{next(){const{value:h,done:b}=m.next();return b?{value:h,done:b}:{value:l?[f(h[0]),f(h[1])]:f(h),done:b}},[Symbol.iterator](){return this}}}}function _s(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ll(e,t){const s={get(i){const o=this.__v_raw,r=F(o),l=F(i);e||(Tt(i,l)&&re(r,"get",i),re(r,"get",l));const{has:a}=Ms(r),m=t?xn:e?zs:pe;if(a.call(r,i))return m(o.get(i));if(a.call(r,l))return m(o.get(l));o!==r&&o.get(i)},get size(){const i=this.__v_raw;return!e&&re(F(i),"iterate",St),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,r=F(o),l=F(i);return e||(Tt(i,l)&&re(r,"has",i),re(r,"has",l)),i===l?o.has(i):o.has(i)||o.has(l)},forEach(i,o){const r=this,l=r.__v_raw,a=F(l),m=t?xn:e?zs:pe;return!e&&re(a,"iterate",St),l.forEach((f,h)=>i.call(o,m(f),m(h),r))}};return ue(s,e?{add:_s("add"),set:_s("set"),delete:_s("delete"),clear:_s("clear")}:{add(i){!t&&!Oe(i)&&!xt(i)&&(i=F(i));const o=F(this);return Ms(o).has.call(o,i)||(o.add(i),et(o,"add",i,i)),this},set(i,o){!t&&!Oe(o)&&!xt(o)&&(o=F(o));const r=F(this),{has:l,get:a}=Ms(r);let m=l.call(r,i);m||(i=F(i),m=l.call(r,i));const f=a.call(r,i);return r.set(i,o),m?Tt(o,f)&&et(r,"set",i,o):et(r,"add",i,o),this},delete(i){const o=F(this),{has:r,get:l}=Ms(o);let a=r.call(o,i);a||(i=F(i),a=r.call(o,i)),l&&l.call(o,i);const m=o.delete(i);return a&&et(o,"delete",i,void 0),m},clear(){const i=F(this),o=i.size!==0,r=i.clear();return o&&et(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=rl(i,e,t)}),s}function Xn(e,t){const s=ll(e,t);return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(R(s,i)&&i in n?s:n,i,o)}const al={get:Xn(!1,!1)},cl={get:Xn(!1,!0)},ul={get:Xn(!0,!1)};const Eo=new WeakMap,Io=new WeakMap,To=new WeakMap,dl=new WeakMap;function fl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ml(e){return e.__v_skip||!Object.isExtensible(e)?0:fl(Rr(e))}function Gn(e){return xt(e)?e:Jn(e,!1,nl,al,Eo)}function pl(e){return Jn(e,!1,ol,cl,Io)}function So(e){return Jn(e,!0,il,ul,To)}function Jn(e,t,s,n,i){if(!q(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=ml(e);if(o===0)return e;const r=i.get(e);if(r)return r;const l=new Proxy(e,o===2?n:s);return i.set(e,l),l}function Ft(e){return xt(e)?Ft(e.__v_raw):!!(e&&e.__v_isReactive)}function xt(e){return!!(e&&e.__v_isReadonly)}function Oe(e){return!!(e&&e.__v_isShallow)}function Qn(e){return e?!!e.__v_raw:!1}function F(e){const t=e&&e.__v_raw;return t?F(t):e}function hl(e){return!R(e,"__v_skip")&&Object.isExtensible(e)&&oo(e,"__v_skip",!0),e}const pe=e=>q(e)?Gn(e):e,zs=e=>q(e)?So(e):e;function ge(e){return e?e.__v_isRef===!0:!1}function gl(e){return ge(e)?e.value:e}const yl={get:(e,t,s)=>t==="__v_raw"?e:gl(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return ge(i)&&!ge(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Po(e){return Ft(e)?e:new Proxy(e,yl)}class vl{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new yo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&K!==this)return fo(this,!0),!0}get value(){const t=this.dep.track();return ho(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function wl(e,t,s=!1){let n,i;return _(e)?n=e:(n=e.get,i=e.set),new vl(n,i,s)}const As={},Ws=new WeakMap;let Ct;function bl(e,t=!1,s=Ct){if(s){let n=Ws.get(s);n||Ws.set(s,n=[]),n.push(e)}}function Cl(e,t,s=V){const{immediate:n,deep:i,once:o,scheduler:r,augmentJob:l,call:a}=s,m=$=>i?$:Oe($)||i===!1||i===0?tt($,1):tt($);let f,h,b,S,O=!1,U=!1;if(ge(e)?(h=()=>e.value,O=Oe(e)):Ft(e)?(h=()=>m(e),O=!0):x(e)?(U=!0,O=e.some($=>Ft($)||Oe($)),h=()=>e.map($=>{if(ge($))return $.value;if(Ft($))return m($);if(_($))return a?a($,2):$()})):_(e)?t?h=a?()=>a(e,2):e:h=()=>{if(b){nt();try{b()}finally{it()}}const $=Ct;Ct=f;try{return a?a(e,3,[S]):e(S)}finally{Ct=$}}:h=Ye,t&&i){const $=h,ee=i===!0?1/0:i;h=()=>tt($(),ee)}const ie=Xr(),N=()=>{f.stop(),ie&&ie.active&&Vn(ie.effects,f)};if(o&&t){const $=t;t=(...ee)=>{$(...ee),N()}}let X=U?new Array(e.length).fill(As):As;const G=$=>{if(!(!(f.flags&1)||!f.dirty&&!$))if(t){const ee=f.run();if(i||O||(U?ee.some((lt,Re)=>Tt(lt,X[Re])):Tt(ee,X))){b&&b();const lt=Ct;Ct=f;try{const Re=[ee,X===As?void 0:U&&X[0]===As?[]:X,S];X=ee,a?a(t,3,Re):t(...Re)}finally{Ct=lt}}}else f.run()};return l&&l(G),f=new co(h),f.scheduler=r?()=>r(G,!1):G,S=$=>bl($,!1,f),b=f.onStop=()=>{const $=Ws.get(f);if($){if(a)a($,4);else for(const ee of $)ee();Ws.delete(f)}},t?n?G(!0):X=f.run():r?r(G.bind(null,!0),!0):f.run(),N.pause=f.pause.bind(f),N.resume=f.resume.bind(f),N.stop=N,N}function tt(e,t=1/0,s){if(t<=0||!q(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ge(e))tt(e.value,t,s);else if(x(e))for(let n=0;n<e.length;n++)tt(e[n],t,s);else if(qt(e)||Dt(e))e.forEach(n=>{tt(n,t,s)});else if(io(e)){for(const n in e)tt(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&tt(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ss(e,t,s,n){try{return n?e(...n):e()}catch(i){ln(i,t,s)}}function Je(e,t,s,n){if(_(e)){const i=Ss(e,t,s,n);return i&&so(i)&&i.catch(o=>{ln(o,t,s)}),i}if(x(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Je(e[o],t,s,n));return i}}function ln(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||V;if(t){let l=t.parent;const a=t.proxy,m="https://vuejs.org/error-reference/#runtime-".concat(s);for(;l;){const f=l.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](e,a,m)===!1)return}l=l.parent}if(o){nt(),Ss(o,null,10,[e,a,m]),it();return}}El(e,s,i,n,r)}function El(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const he=[];let We=-1;const Nt=[];let ct=null,_t=0;const Lo=Promise.resolve();let Ks=null;function xo(e){const t=Ks||Lo;return e?t.then(this?e.bind(this):e):t}function Il(e){let t=We+1,s=he.length;for(;t<s;){const n=t+s>>>1,i=he[n],o=hs(i);o<e||o===e&&i.flags&2?t=n+1:s=n}return t}function Zn(e){if(!(e.flags&1)){const t=hs(e),s=he[he.length-1];!s||!(e.flags&2)&&t>=hs(s)?he.push(e):he.splice(Il(t),0,e),e.flags|=1,ko()}}function ko(){Ks||(Ks=Lo.then(Bo))}function Tl(e){x(e)?Nt.push(...e):ct&&e.id===-1?ct.splice(_t+1,0,e):e.flags&1||(Nt.push(e),e.flags|=1),ko()}function Ti(e,t,s=We+1){for(;s<he.length;s++){const n=he[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;he.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function $o(e){if(Nt.length){const t=[...new Set(Nt)].sort((s,n)=>hs(s)-hs(n));if(Nt.length=0,ct){ct.push(...t);return}for(ct=t,_t=0;_t<ct.length;_t++){const s=ct[_t];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ct=null,_t=0}}const hs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Bo(e){try{for(We=0;We<he.length;We++){const t=he[We];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ss(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;We<he.length;We++){const t=he[We];t&&(t.flags&=-2)}We=-1,he.length=0,$o(),Ks=null,(he.length||Nt.length)&&Bo()}}let Le=null,Mo=null;function js(e){const t=Le;return Le=e,Mo=e&&e.type.__scopeId||null,t}function Sl(e,t=Le,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Ai(-1);const o=js(t);let r;try{r=e(...i)}finally{js(o),n._d&&Ai(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function $e(e,t){if(Le===null)return e;const s=dn(Le),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,l,a=V]=t[i];o&&(_(o)&&(o={mounted:o,updated:o}),o.deep&&tt(r),n.push({dir:o,instance:s,value:r,oldValue:void 0,arg:l,modifiers:a}))}return e}function wt(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const l=i[r];o&&(l.oldValue=o[r].value);let a=l.dir[n];a&&(nt(),Je(a,s,8,[e.el,l,e,t]),it())}}const Pl=Symbol("_vte"),Ll=e=>e.__isTeleport;function ei(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ei(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function xl(e,t){return _(e)?ue({name:e.name},t,{setup:e}):e}function _o(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function qs(e,t,s,n,i=!1){if(x(e)){e.forEach((O,U)=>qs(O,t&&(x(t)?t[U]:t),s,n,i));return}if(as(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&qs(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?dn(n.component):n.el,r=i?null:o,{i:l,r:a}=e,m=t&&t.r,f=l.refs===V?l.refs={}:l.refs,h=l.setupState,b=F(h),S=h===V?()=>!1:O=>R(b,O);if(m!=null&&m!==a&&(Q(m)?(f[m]=null,S(m)&&(h[m]=null)):ge(m)&&(m.value=null)),_(a))Ss(a,l,12,[r,f]);else{const O=Q(a),U=ge(a);if(O||U){const ie=()=>{if(e.f){const N=O?S(a)?h[a]:f[a]:a.value;i?x(N)&&Vn(N,o):x(N)?N.includes(o)||N.push(o):O?(f[a]=[o],S(a)&&(h[a]=f[a])):(a.value=[o],e.k&&(f[e.k]=a.value))}else O?(f[a]=r,S(a)&&(h[a]=r)):U&&(a.value=r,e.k&&(f[e.k]=r))};r?(ie.id=-1,Pe(ie,s)):ie()}}}nn().requestIdleCallback;nn().cancelIdleCallback;const as=e=>!!e.type.__asyncLoader,Ao=e=>e.type.__isKeepAlive;function kl(e,t){Ho(e,"a",t)}function $l(e,t){Ho(e,"da",t)}function Ho(e,t,s=le){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(an(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Ao(i.parent.vnode)&&Bl(n,t,s,i),i=i.parent}}function Bl(e,t,s,n){const i=an(t,e,n,!0);Uo(()=>{Vn(n[t],i)},s)}function an(e,t,s=le,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{nt();const l=Ps(s),a=Je(t,s,e,r);return l(),it(),a});return n?i.unshift(o):i.push(o),o}}const rt=e=>(t,s=le)=>{(!vs||e==="sp")&&an(e,(...n)=>t(...n),s)},Ml=rt("bm"),_l=rt("m"),Al=rt("bu"),Hl=rt("u"),Ul=rt("bum"),Uo=rt("um"),Ol=rt("sp"),Rl=rt("rtg"),Dl=rt("rtc");function Fl(e,t=le){an("ec",e,t)}const Nl="components",Oo=Symbol.for("v-ndc");function Vl(e){return Q(e)?zl(Nl,e,!1)||e:e||Oo}function zl(e,t,s=!0,n=!1){const i=Le||le;if(i){const o=i.type;{const l=ka(o,!1);if(l&&(l===t||l===Ae(t)||l===sn(Ae(t))))return o}const r=Si(i[e]||o[e],t)||Si(i.appContext[e],t);return!r&&n?o:r}}function Si(e,t){return e&&(e[t]||e[Ae(t)]||e[sn(Ae(t))])}function gs(e,t,s,n){let i;const o=s,r=x(e);if(r||Q(e)){const l=r&&Ft(e);let a=!1,m=!1;l&&(a=!Oe(e),m=xt(e),e=rn(e)),i=new Array(e.length);for(let f=0,h=e.length;f<h;f++)i[f]=t(a?m?zs(pe(e[f])):pe(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,o)}else if(q(e))if(e[Symbol.iterator])i=Array.from(e,(l,a)=>t(l,a,void 0,o));else{const l=Object.keys(e);i=new Array(l.length);for(let a=0,m=l.length;a<m;a++){const f=l[a];i[a]=t(e[f],f,a,o)}}else i=[];return i}const kn=e=>e?rr(e)?dn(e):kn(e.parent):null,cs=ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kn(e.parent),$root:e=>kn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Do(e),$forceUpdate:e=>e.f||(e.f=()=>{Zn(e.update)}),$nextTick:e=>e.n||(e.n=xo.bind(e.proxy)),$watch:e=>da.bind(e)}),bn=(e,t)=>e!==V&&!e.__isScriptSetup&&R(e,t),Wl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:l,appContext:a}=e;let m;if(t[0]!=="$"){const S=r[t];if(S!==void 0)switch(S){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(bn(n,t))return r[t]=1,n[t];if(i!==V&&R(i,t))return r[t]=2,i[t];if((m=e.propsOptions[0])&&R(m,t))return r[t]=3,o[t];if(s!==V&&R(s,t))return r[t]=4,s[t];$n&&(r[t]=0)}}const f=cs[t];let h,b;if(f)return t==="$attrs"&&re(e.attrs,"get",""),f(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(s!==V&&R(s,t))return r[t]=4,s[t];if(b=a.config.globalProperties,R(b,t))return b[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return bn(i,t)?(i[t]=s,!0):n!==V&&R(n,t)?(n[t]=s,!0):R(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let l;return!!s[r]||e!==V&&R(e,r)||bn(t,r)||(l=o[0])&&R(l,r)||R(n,r)||R(cs,r)||R(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:R(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Pi(e){return x(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let $n=!0;function Kl(e){const t=Do(e),s=e.proxy,n=e.ctx;$n=!1,t.beforeCreate&&Li(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:l,provide:a,inject:m,created:f,beforeMount:h,mounted:b,beforeUpdate:S,updated:O,activated:U,deactivated:ie,beforeDestroy:N,beforeUnmount:X,destroyed:G,unmounted:$,render:ee,renderTracked:lt,renderTriggered:Re,errorCaptured:at,serverPrefetch:Ls,expose:gt,inheritAttrs:Gt,components:xs,directives:ks,filters:mn}=t;if(m&&jl(m,n,null),r)for(const Y in r){const z=r[Y];_(z)&&(n[Y]=z.bind(s))}if(i){const Y=i.call(s,s);q(Y)&&(e.data=Gn(Y))}if($n=!0,o)for(const Y in o){const z=o[Y],yt=_(z)?z.bind(s,s):_(z.get)?z.get.bind(s,s):Ye,$s=!_(z)&&_(z.set)?z.set.bind(s):Ye,vt=Ba({get:yt,set:$s});Object.defineProperty(n,Y,{enumerable:!0,configurable:!0,get:()=>vt.value,set:De=>vt.value=De})}if(l)for(const Y in l)Ro(l[Y],n,s,Y);if(a){const Y=_(a)?a.call(s):a;Reflect.ownKeys(Y).forEach(z=>{Ql(z,Y[z])})}f&&Li(f,e,"c");function de(Y,z){x(z)?z.forEach(yt=>Y(yt.bind(s))):z&&Y(z.bind(s))}if(de(Ml,h),de(_l,b),de(Al,S),de(Hl,O),de(kl,U),de($l,ie),de(Fl,at),de(Dl,lt),de(Rl,Re),de(Ul,X),de(Uo,$),de(Ol,Ls),x(gt))if(gt.length){const Y=e.exposed||(e.exposed={});gt.forEach(z=>{Object.defineProperty(Y,z,{get:()=>s[z],set:yt=>s[z]=yt})})}else e.exposed||(e.exposed={});ee&&e.render===Ye&&(e.render=ee),Gt!=null&&(e.inheritAttrs=Gt),xs&&(e.components=xs),ks&&(e.directives=ks),Ls&&_o(e)}function jl(e,t,s=Ye){x(e)&&(e=Bn(e));for(const n in e){const i=e[n];let o;q(i)?"default"in i?o=Os(i.from||n,i.default,!0):o=Os(i.from||n):o=Os(i),ge(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o}}function Li(e,t,s){Je(x(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ro(e,t,s,n){let i=n.includes(".")?Qo(s,n):()=>s[n];if(Q(e)){const o=t[e];_(o)&&En(i,o)}else if(_(e))En(i,e.bind(s));else if(q(e))if(x(e))e.forEach(o=>Ro(o,t,s,n));else{const o=_(e.handler)?e.handler.bind(s):t[e.handler];_(o)&&En(i,o,e)}}function Do(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,l=o.get(t);let a;return l?a=l:!i.length&&!s&&!n?a=t:(a={},i.length&&i.forEach(m=>Ys(a,m,r,!0)),Ys(a,t,r)),q(t)&&o.set(t,a),a}function Ys(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&Ys(e,o,s,!0),i&&i.forEach(r=>Ys(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const l=ql[r]||s&&s[r];e[r]=l?l(e[r],t[r]):t[r]}return e}const ql={data:xi,props:ki,emits:ki,methods:ss,computed:ss,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:ss,directives:ss,watch:Xl,provide:xi,inject:Yl};function xi(e,t){return t?e?function(){return ue(_(e)?e.call(this,this):e,_(t)?t.call(this,this):t)}:t:e}function Yl(e,t){return ss(Bn(e),Bn(t))}function Bn(e){if(x(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function fe(e,t){return e?[...new Set([].concat(e,t))]:t}function ss(e,t){return e?ue(Object.create(null),e,t):t}function ki(e,t){return e?x(e)&&x(t)?[...new Set([...e,...t])]:ue(Object.create(null),Pi(e),Pi(t!=null?t:{})):t}function Xl(e,t){if(!e)return t;if(!t)return e;const s=ue(Object.create(null),e);for(const n in t)s[n]=fe(e[n],t[n]);return s}function Fo(){return{app:null,config:{isNativeTag:Ur,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gl=0;function Jl(e,t){return function(n,i=null){_(n)||(n=ue({},n)),i!=null&&!q(i)&&(i=null);const o=Fo(),r=new WeakSet,l=[];let a=!1;const m=o.app={_uid:Gl++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Ma,get config(){return o.config},set config(f){},use(f,...h){return r.has(f)||(f&&_(f.install)?(r.add(f),f.install(m,...h)):_(f)&&(r.add(f),f(m,...h))),m},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),m},component(f,h){return h?(o.components[f]=h,m):o.components[f]},directive(f,h){return h?(o.directives[f]=h,m):o.directives[f]},mount(f,h,b){if(!a){const S=m._ceVNode||Xe(n,i);return S.appContext=o,b===!0?b="svg":b===!1&&(b=void 0),e(S,f,b),a=!0,m._container=f,f.__vue_app__=m,dn(S.component)}},onUnmount(f){l.push(f)},unmount(){a&&(Je(l,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(f,h){return o.provides[f]=h,m},runWithContext(f){const h=Vt;Vt=m;try{return f()}finally{Vt=h}}};return m}}let Vt=null;function Ql(e,t){if(le){let s=le.provides;const n=le.parent&&le.parent.provides;n===s&&(s=le.provides=Object.create(n)),s[e]=t}}function Os(e,t,s=!1){const n=le||Le;if(n||Vt){let i=Vt?Vt._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&_(t)?t.call(n&&n.proxy):t}}const No={},Vo=()=>Object.create(No),zo=e=>Object.getPrototypeOf(e)===No;function Zl(e,t,s,n=!1){const i={},o=Vo();e.propsDefaults=Object.create(null),Wo(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:pl(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function ea(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,l=F(i),[a]=e.propsOptions;let m=!1;if((n||r>0)&&!(r&16)){if(r&8){const f=e.vnode.dynamicProps;for(let h=0;h<f.length;h++){let b=f[h];if(cn(e.emitsOptions,b))continue;const S=t[b];if(a)if(R(o,b))S!==o[b]&&(o[b]=S,m=!0);else{const O=Ae(b);i[O]=Mn(a,l,O,S,e,!1)}else S!==o[b]&&(o[b]=S,m=!0)}}}else{Wo(e,t,i,o)&&(m=!0);let f;for(const h in l)(!t||!R(t,h)&&((f=$t(h))===h||!R(t,f)))&&(a?s&&(s[h]!==void 0||s[f]!==void 0)&&(i[h]=Mn(a,l,h,void 0,e,!0)):delete i[h]);if(o!==l)for(const h in o)(!t||!R(t,h))&&(delete o[h],m=!0)}m&&et(e.attrs,"set","")}function Wo(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,l;if(t)for(let a in t){if(os(a))continue;const m=t[a];let f;i&&R(i,f=Ae(a))?!o||!o.includes(f)?s[f]=m:(l||(l={}))[f]=m:cn(e.emitsOptions,a)||(!(a in n)||m!==n[a])&&(n[a]=m,r=!0)}if(o){const a=F(s),m=l||V;for(let f=0;f<o.length;f++){const h=o[f];s[h]=Mn(i,a,h,m[h],e,!R(m,h))}}return r}function Mn(e,t,s,n,i,o){const r=e[s];if(r!=null){const l=R(r,"default");if(l&&n===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&_(a)){const{propsDefaults:m}=i;if(s in m)n=m[s];else{const f=Ps(i);n=m[s]=a.call(null,t),f()}}else n=a;i.ce&&i.ce._setProp(s,n)}r[0]&&(o&&!l?n=!1:r[1]&&(n===""||n===$t(s))&&(n=!0))}return n}const ta=new WeakMap;function Ko(e,t,s=!1){const n=s?ta:t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},l=[];let a=!1;if(!_(e)){const f=h=>{a=!0;const[b,S]=Ko(h,t,!0);ue(r,b),S&&l.push(...S)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!a)return q(e)&&n.set(e,Rt),Rt;if(x(o))for(let f=0;f<o.length;f++){const h=Ae(o[f]);$i(h)&&(r[h]=V)}else if(o)for(const f in o){const h=Ae(f);if($i(h)){const b=o[f],S=r[h]=x(b)||_(b)?{type:b}:ue({},b),O=S.type;let U=!1,ie=!0;if(x(O))for(let N=0;N<O.length;++N){const X=O[N],G=_(X)&&X.name;if(G==="Boolean"){U=!0;break}else G==="String"&&(ie=!1)}else U=_(O)&&O.name==="Boolean";S[0]=U,S[1]=ie,(U||R(S,"default"))&&l.push(h)}}const m=[r,l];return q(e)&&n.set(e,m),m}function $i(e){return e[0]!=="$"&&!os(e)}const ti=e=>e[0]==="_"||e==="$stable",si=e=>x(e)?e.map(je):[je(e)],sa=(e,t,s)=>{if(t._n)return t;const n=Sl((...i)=>si(t(...i)),s);return n._c=!1,n},jo=(e,t,s)=>{const n=e._ctx;for(const i in e){if(ti(i))continue;const o=e[i];if(_(o))t[i]=sa(i,o,n);else if(o!=null){const r=si(o);t[i]=()=>r}}},qo=(e,t)=>{const s=si(t);e.slots.default=()=>s},Yo=(e,t,s)=>{for(const n in t)(s||!ti(n))&&(e[n]=t[n])},na=(e,t,s)=>{const n=e.slots=Vo();if(e.vnode.shapeFlag&32){const i=t._;i?(Yo(n,t,s),s&&oo(n,"_",i,!0)):jo(t,n)}else t&&qo(e,t)},ia=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=V;if(n.shapeFlag&32){const l=t._;l?s&&l===1?o=!1:Yo(i,t,s):(o=!t.$stable,jo(t,i)),r=t}else t&&(qo(e,t),r={default:1});if(o)for(const l in i)!ti(l)&&r[l]==null&&delete i[l]},Pe=va;function oa(e){return ra(e)}function ra(e,t){const s=nn();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:l,createComment:a,setText:m,setElementText:f,parentNode:h,nextSibling:b,setScopeId:S=Ye,insertStaticContent:O}=e,U=(c,u,p,v=null,g=null,y=null,I=void 0,E=null,C=!!u.dynamicChildren)=>{if(c===u)return;c&&!ts(c,u)&&(v=Bs(c),De(c,g,y,!0),c=null),u.patchFlag===-2&&(C=!1,u.dynamicChildren=null);const{type:w,ref:L,shapeFlag:T}=u;switch(w){case un:ie(c,u,p,v);break;case ft:N(c,u,p,v);break;case Rs:c==null&&X(u,p,v,I);break;case se:xs(c,u,p,v,g,y,I,E,C);break;default:T&1?ee(c,u,p,v,g,y,I,E,C):T&6?ks(c,u,p,v,g,y,I,E,C):(T&64||T&128)&&w.process(c,u,p,v,g,y,I,E,C,Qt)}L!=null&&g&&qs(L,c&&c.ref,y,u||c,!u)},ie=(c,u,p,v)=>{if(c==null)n(u.el=l(u.children),p,v);else{const g=u.el=c.el;u.children!==c.children&&m(g,u.children)}},N=(c,u,p,v)=>{c==null?n(u.el=a(u.children||""),p,v):u.el=c.el},X=(c,u,p,v)=>{[c.el,c.anchor]=O(c.children,u,p,v,c.el,c.anchor)},G=({el:c,anchor:u},p,v)=>{let g;for(;c&&c!==u;)g=b(c),n(c,p,v),c=g;n(u,p,v)},$=({el:c,anchor:u})=>{let p;for(;c&&c!==u;)p=b(c),i(c),c=p;i(u)},ee=(c,u,p,v,g,y,I,E,C)=>{u.type==="svg"?I="svg":u.type==="math"&&(I="mathml"),c==null?lt(u,p,v,g,y,I,E,C):Ls(c,u,g,y,I,E,C)},lt=(c,u,p,v,g,y,I,E)=>{let C,w;const{props:L,shapeFlag:T,transition:P,dirs:B}=c;if(C=c.el=r(c.type,y,L&&L.is,L),T&8?f(C,c.children):T&16&&at(c.children,C,null,v,g,Cn(c,y),I,E),B&&wt(c,null,v,"created"),Re(C,c,c.scopeId,I,v),L){for(const W in L)W!=="value"&&!os(W)&&o(C,W,null,L[W],y,v);"value"in L&&o(C,"value",null,L.value,y),(w=L.onVnodeBeforeMount)&&ze(w,v,c)}B&&wt(c,null,v,"beforeMount");const H=la(g,P);H&&P.beforeEnter(C),n(C,u,p),((w=L&&L.onVnodeMounted)||H||B)&&Pe(()=>{w&&ze(w,v,c),H&&P.enter(C),B&&wt(c,null,v,"mounted")},g)},Re=(c,u,p,v,g)=>{if(p&&S(c,p),v)for(let y=0;y<v.length;y++)S(c,v[y]);if(g){let y=g.subTree;if(u===y||er(y.type)&&(y.ssContent===u||y.ssFallback===u)){const I=g.vnode;Re(c,I,I.scopeId,I.slotScopeIds,g.parent)}}},at=(c,u,p,v,g,y,I,E,C=0)=>{for(let w=C;w<c.length;w++){const L=c[w]=E?ut(c[w]):je(c[w]);U(null,L,u,p,v,g,y,I,E)}},Ls=(c,u,p,v,g,y,I)=>{const E=u.el=c.el;let{patchFlag:C,dynamicChildren:w,dirs:L}=u;C|=c.patchFlag&16;const T=c.props||V,P=u.props||V;let B;if(p&&bt(p,!1),(B=P.onVnodeBeforeUpdate)&&ze(B,p,u,c),L&&wt(u,c,p,"beforeUpdate"),p&&bt(p,!0),(T.innerHTML&&P.innerHTML==null||T.textContent&&P.textContent==null)&&f(E,""),w?gt(c.dynamicChildren,w,E,p,v,Cn(u,g),y):I||z(c,u,E,null,p,v,Cn(u,g),y,!1),C>0){if(C&16)Gt(E,T,P,p,g);else if(C&2&&T.class!==P.class&&o(E,"class",null,P.class,g),C&4&&o(E,"style",T.style,P.style,g),C&8){const H=u.dynamicProps;for(let W=0;W<H.length;W++){const D=H[W],Ie=T[D],ye=P[D];(ye!==Ie||D==="value")&&o(E,D,Ie,ye,g,p)}}C&1&&c.children!==u.children&&f(E,u.children)}else!I&&w==null&&Gt(E,T,P,p,g);((B=P.onVnodeUpdated)||L)&&Pe(()=>{B&&ze(B,p,u,c),L&&wt(u,c,p,"updated")},v)},gt=(c,u,p,v,g,y,I)=>{for(let E=0;E<u.length;E++){const C=c[E],w=u[E],L=C.el&&(C.type===se||!ts(C,w)||C.shapeFlag&198)?h(C.el):p;U(C,w,L,null,v,g,y,I,!0)}},Gt=(c,u,p,v,g)=>{if(u!==p){if(u!==V)for(const y in u)!os(y)&&!(y in p)&&o(c,y,u[y],null,g,v);for(const y in p){if(os(y))continue;const I=p[y],E=u[y];I!==E&&y!=="value"&&o(c,y,E,I,g,v)}"value"in p&&o(c,"value",u.value,p.value,g)}},xs=(c,u,p,v,g,y,I,E,C)=>{const w=u.el=c?c.el:l(""),L=u.anchor=c?c.anchor:l("");let{patchFlag:T,dynamicChildren:P,slotScopeIds:B}=u;B&&(E=E?E.concat(B):B),c==null?(n(w,p,v),n(L,p,v),at(u.children||[],p,L,g,y,I,E,C)):T>0&&T&64&&P&&c.dynamicChildren?(gt(c.dynamicChildren,P,p,g,y,I,E),(u.key!=null||g&&u===g.subTree)&&Xo(c,u,!0)):z(c,u,p,L,g,y,I,E,C)},ks=(c,u,p,v,g,y,I,E,C)=>{u.slotScopeIds=E,c==null?u.shapeFlag&512?g.ctx.activate(u,p,v,I,C):mn(u,p,v,g,y,I,C):hi(c,u,C)},mn=(c,u,p,v,g,y,I)=>{const E=c.component=Ta(c,v,g);if(Ao(c)&&(E.ctx.renderer=Qt),Sa(E,!1,I),E.asyncDep){if(g&&g.registerDep(E,de,I),!c.el){const C=E.subTree=Xe(ft);N(null,C,u,p)}}else de(E,c,u,p,g,y,I)},hi=(c,u,p)=>{const v=u.component=c.component;if(ga(c,u,p))if(v.asyncDep&&!v.asyncResolved){Y(v,u,p);return}else v.next=u,v.update();else u.el=c.el,v.vnode=u},de=(c,u,p,v,g,y,I)=>{const E=()=>{if(c.isMounted){let{next:T,bu:P,u:B,parent:H,vnode:W}=c;{const Ne=Go(c);if(Ne){T&&(T.el=W.el,Y(c,T,I)),Ne.asyncDep.then(()=>{c.isUnmounted||E()});return}}let D=T,Ie;bt(c,!1),T?(T.el=W.el,Y(c,T,I)):T=W,P&&Us(P),(Ie=T.props&&T.props.onVnodeBeforeUpdate)&&ze(Ie,H,T,W),bt(c,!0);const ye=Mi(c),Fe=c.subTree;c.subTree=ye,U(Fe,ye,h(Fe.el),Bs(Fe),c,g,y),T.el=ye.el,D===null&&ya(c,ye.el),B&&Pe(B,g),(Ie=T.props&&T.props.onVnodeUpdated)&&Pe(()=>ze(Ie,H,T,W),g)}else{let T;const{el:P,props:B}=u,{bm:H,m:W,parent:D,root:Ie,type:ye}=c,Fe=as(u);bt(c,!1),H&&Us(H),!Fe&&(T=B&&B.onVnodeBeforeMount)&&ze(T,D,u),bt(c,!0);{Ie.ce&&Ie.ce._injectChildStyle(ye);const Ne=c.subTree=Mi(c);U(null,Ne,p,v,c,g,y),u.el=Ne.el}if(W&&Pe(W,g),!Fe&&(T=B&&B.onVnodeMounted)){const Ne=u;Pe(()=>ze(T,D,Ne),g)}(u.shapeFlag&256||D&&as(D.vnode)&&D.vnode.shapeFlag&256)&&c.a&&Pe(c.a,g),c.isMounted=!0,u=p=v=null}};c.scope.on();const C=c.effect=new co(E);c.scope.off();const w=c.update=C.run.bind(C),L=c.job=C.runIfDirty.bind(C);L.i=c,L.id=c.uid,C.scheduler=()=>Zn(L),bt(c,!0),w()},Y=(c,u,p)=>{u.component=c;const v=c.vnode.props;c.vnode=u,c.next=null,ea(c,u.props,v,p),ia(c,u.children,p),nt(),Ti(c),it()},z=(c,u,p,v,g,y,I,E,C=!1)=>{const w=c&&c.children,L=c?c.shapeFlag:0,T=u.children,{patchFlag:P,shapeFlag:B}=u;if(P>0){if(P&128){$s(w,T,p,v,g,y,I,E,C);return}else if(P&256){yt(w,T,p,v,g,y,I,E,C);return}}B&8?(L&16&&Jt(w,g,y),T!==w&&f(p,T)):L&16?B&16?$s(w,T,p,v,g,y,I,E,C):Jt(w,g,y,!0):(L&8&&f(p,""),B&16&&at(T,p,v,g,y,I,E,C))},yt=(c,u,p,v,g,y,I,E,C)=>{c=c||Rt,u=u||Rt;const w=c.length,L=u.length,T=Math.min(w,L);let P;for(P=0;P<T;P++){const B=u[P]=C?ut(u[P]):je(u[P]);U(c[P],B,p,null,g,y,I,E,C)}w>L?Jt(c,g,y,!0,!1,T):at(u,p,v,g,y,I,E,C,T)},$s=(c,u,p,v,g,y,I,E,C)=>{let w=0;const L=u.length;let T=c.length-1,P=L-1;for(;w<=T&&w<=P;){const B=c[w],H=u[w]=C?ut(u[w]):je(u[w]);if(ts(B,H))U(B,H,p,null,g,y,I,E,C);else break;w++}for(;w<=T&&w<=P;){const B=c[T],H=u[P]=C?ut(u[P]):je(u[P]);if(ts(B,H))U(B,H,p,null,g,y,I,E,C);else break;T--,P--}if(w>T){if(w<=P){const B=P+1,H=B<L?u[B].el:v;for(;w<=P;)U(null,u[w]=C?ut(u[w]):je(u[w]),p,H,g,y,I,E,C),w++}}else if(w>P)for(;w<=T;)De(c[w],g,y,!0),w++;else{const B=w,H=w,W=new Map;for(w=H;w<=P;w++){const Te=u[w]=C?ut(u[w]):je(u[w]);Te.key!=null&&W.set(Te.key,w)}let D,Ie=0;const ye=P-H+1;let Fe=!1,Ne=0;const Zt=new Array(ye);for(w=0;w<ye;w++)Zt[w]=0;for(w=B;w<=T;w++){const Te=c[w];if(Ie>=ye){De(Te,g,y,!0);continue}let Ve;if(Te.key!=null)Ve=W.get(Te.key);else for(D=H;D<=P;D++)if(Zt[D-H]===0&&ts(Te,u[D])){Ve=D;break}Ve===void 0?De(Te,g,y,!0):(Zt[Ve-H]=w+1,Ve>=Ne?Ne=Ve:Fe=!0,U(Te,u[Ve],p,null,g,y,I,E,C),Ie++)}const vi=Fe?aa(Zt):Rt;for(D=vi.length-1,w=ye-1;w>=0;w--){const Te=H+w,Ve=u[Te],wi=Te+1<L?u[Te+1].el:v;Zt[w]===0?U(null,Ve,p,wi,g,y,I,E,C):Fe&&(D<0||w!==vi[D]?vt(Ve,p,wi,2):D--)}}},vt=(c,u,p,v,g=null)=>{const{el:y,type:I,transition:E,children:C,shapeFlag:w}=c;if(w&6){vt(c.component.subTree,u,p,v);return}if(w&128){c.suspense.move(u,p,v);return}if(w&64){I.move(c,u,p,Qt);return}if(I===se){n(y,u,p);for(let T=0;T<C.length;T++)vt(C[T],u,p,v);n(c.anchor,u,p);return}if(I===Rs){G(c,u,p);return}if(v!==2&&w&1&&E)if(v===0)E.beforeEnter(y),n(y,u,p),Pe(()=>E.enter(y),g);else{const{leave:T,delayLeave:P,afterLeave:B}=E,H=()=>{c.ctx.isUnmounted?i(y):n(y,u,p)},W=()=>{T(y,()=>{H(),B&&B()})};P?P(y,H,W):W()}else n(y,u,p)},De=(c,u,p,v=!1,g=!1)=>{const{type:y,props:I,ref:E,children:C,dynamicChildren:w,shapeFlag:L,patchFlag:T,dirs:P,cacheIndex:B}=c;if(T===-2&&(g=!1),E!=null&&(nt(),qs(E,null,p,c,!0),it()),B!=null&&(u.renderCache[B]=void 0),L&256){u.ctx.deactivate(c);return}const H=L&1&&P,W=!as(c);let D;if(W&&(D=I&&I.onVnodeBeforeUnmount)&&ze(D,u,c),L&6)Hr(c.component,p,v);else{if(L&128){c.suspense.unmount(p,v);return}H&&wt(c,null,u,"beforeUnmount"),L&64?c.type.remove(c,u,p,Qt,v):w&&!w.hasOnce&&(y!==se||T>0&&T&64)?Jt(w,u,p,!1,!0):(y===se&&T&384||!g&&L&16)&&Jt(C,u,p),v&&gi(c)}(W&&(D=I&&I.onVnodeUnmounted)||H)&&Pe(()=>{D&&ze(D,u,c),H&&wt(c,null,u,"unmounted")},p)},gi=c=>{const{type:u,el:p,anchor:v,transition:g}=c;if(u===se){Ar(p,v);return}if(u===Rs){$(c);return}const y=()=>{i(p),g&&!g.persisted&&g.afterLeave&&g.afterLeave()};if(c.shapeFlag&1&&g&&!g.persisted){const{leave:I,delayLeave:E}=g,C=()=>I(p,y);E?E(c.el,y,C):C()}else y()},Ar=(c,u)=>{let p;for(;c!==u;)p=b(c),i(c),c=p;i(u)},Hr=(c,u,p)=>{const{bum:v,scope:g,job:y,subTree:I,um:E,m:C,a:w,parent:L,slots:{__:T}}=c;Bi(C),Bi(w),v&&Us(v),L&&x(T)&&T.forEach(P=>{L.renderCache[P]=void 0}),g.stop(),y&&(y.flags|=8,De(I,c,u,p)),E&&Pe(E,u),Pe(()=>{c.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},Jt=(c,u,p,v=!1,g=!1,y=0)=>{for(let I=y;I<c.length;I++)De(c[I],u,p,v,g)},Bs=c=>{if(c.shapeFlag&6)return Bs(c.component.subTree);if(c.shapeFlag&128)return c.suspense.next();const u=b(c.anchor||c.el),p=u&&u[Pl];return p?b(p):u};let pn=!1;const yi=(c,u,p)=>{c==null?u._vnode&&De(u._vnode,null,null,!0):U(u._vnode||null,c,u,null,null,null,p),u._vnode=c,pn||(pn=!0,Ti(),$o(),pn=!1)},Qt={p:U,um:De,m:vt,r:gi,mt:mn,mc:at,pc:z,pbc:gt,n:Bs,o:e};return{render:yi,hydrate:void 0,createApp:Jl(yi)}}function Cn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function bt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function la(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Xo(e,t,s=!1){const n=e.children,i=t.children;if(x(n)&&x(i))for(let o=0;o<n.length;o++){const r=n[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=ut(i[o]),l.el=r.el),!s&&l.patchFlag!==-2&&Xo(r,l)),l.type===un&&(l.el=r.el),l.type===ft&&!l.el&&(l.el=r.el)}}function aa(e){const t=e.slice(),s=[0];let n,i,o,r,l;const a=e.length;for(n=0;n<a;n++){const m=e[n];if(m!==0){if(i=s[s.length-1],e[i]<m){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)l=o+r>>1,e[s[l]]<m?o=l+1:r=l;m<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function Go(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Go(t)}function Bi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ca=Symbol.for("v-scx"),ua=()=>Os(ca);function En(e,t,s){return Jo(e,t,s)}function Jo(e,t,s=V){const{immediate:n,deep:i,flush:o,once:r}=s,l=ue({},s),a=t&&n||!t&&o!=="post";let m;if(vs){if(o==="sync"){const S=ua();m=S.__watcherHandles||(S.__watcherHandles=[])}else if(!a){const S=()=>{};return S.stop=Ye,S.resume=Ye,S.pause=Ye,S}}const f=le;l.call=(S,O,U)=>Je(S,f,O,U);let h=!1;o==="post"?l.scheduler=S=>{Pe(S,f&&f.suspense)}:o!=="sync"&&(h=!0,l.scheduler=(S,O)=>{O?S():Zn(S)}),l.augmentJob=S=>{t&&(S.flags|=4),h&&(S.flags|=2,f&&(S.id=f.uid,S.i=f))};const b=Cl(e,t,l);return vs&&(m?m.push(b):a&&b()),b}function da(e,t,s){const n=this.proxy,i=Q(e)?e.includes(".")?Qo(n,e):()=>n[e]:e.bind(n,n);let o;_(t)?o=t:(o=t.handler,s=t);const r=Ps(this),l=Jo(i,o.bind(n),s);return r(),l}function Qo(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const fa=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e["".concat(t,"Modifiers")]||e["".concat(Ae(t),"Modifiers")]||e["".concat($t(t),"Modifiers")];function ma(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||V;let i=s;const o=t.startsWith("update:"),r=o&&fa(n,t.slice(7));r&&(r.trim&&(i=s.map(f=>Q(f)?f.trim():f)),r.number&&(i=s.map(Vs)));let l,a=n[l=hn(t)]||n[l=hn(Ae(t))];!a&&o&&(a=n[l=hn($t(t))]),a&&Je(a,e,6,i);const m=n[l+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Je(m,e,6,i)}}function Zo(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},l=!1;if(!_(e)){const a=m=>{const f=Zo(m,t,!0);f&&(l=!0,ue(r,f))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(q(e)&&n.set(e,null),null):(x(o)?o.forEach(a=>r[a]=null):ue(r,o),q(e)&&n.set(e,r),r)}function cn(e,t){return!e||!en(t)?!1:(t=t.slice(2).replace(/Once$/,""),R(e,t[0].toLowerCase()+t.slice(1))||R(e,$t(t))||R(e,t))}function Mi(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[o],slots:r,attrs:l,emit:a,render:m,renderCache:f,props:h,data:b,setupState:S,ctx:O,inheritAttrs:U}=e,ie=js(e);let N,X;try{if(s.shapeFlag&4){const $=i||n,ee=$;N=je(m.call(ee,$,f,h,S,b,O)),X=l}else{const $=t;N=je($.length>1?$(h,{attrs:l,slots:r,emit:a}):$(h,null)),X=t.props?l:pa(l)}}catch($){us.length=0,ln($,e,1),N=Xe(ft)}let G=N;if(X&&U!==!1){const $=Object.keys(X),{shapeFlag:ee}=G;$.length&&ee&7&&(o&&$.some(Nn)&&(X=ha(X,o)),G=Kt(G,X,!1,!0))}return s.dirs&&(G=Kt(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(s.dirs):s.dirs),s.transition&&ei(G,s.transition),N=G,js(ie),N}const pa=e=>{let t;for(const s in e)(s==="class"||s==="style"||en(s))&&((t||(t={}))[s]=e[s]);return t},ha=(e,t)=>{const s={};for(const n in e)(!Nn(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function ga(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:l,patchFlag:a}=t,m=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return n?_i(n,r,m):!!r;if(a&8){const f=t.dynamicProps;for(let h=0;h<f.length;h++){const b=f[h];if(r[b]!==n[b]&&!cn(m,b))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===r?!1:n?r?_i(n,r,m):!0:!!r;return!1}function _i(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!cn(s,o))return!0}return!1}function ya({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const er=e=>e.__isSuspense;function va(e,t){t&&t.pendingBranch?x(e)?t.effects.push(...e):t.effects.push(e):Tl(e)}const se=Symbol.for("v-fgt"),un=Symbol.for("v-txt"),ft=Symbol.for("v-cmt"),Rs=Symbol.for("v-stc"),us=[];let xe=null;function k(e=!1){us.push(xe=e?null:[])}function wa(){us.pop(),xe=us[us.length-1]||null}let ys=1;function Ai(e,t=!1){ys+=e,e<0&&xe&&t&&(xe.hasOnce=!0)}function tr(e){return e.dynamicChildren=ys>0?xe||Rt:null,wa(),ys>0&&xe&&xe.push(e),e}function M(e,t,s,n,i,o){return tr(d(e,t,s,n,i,o,!0))}function sr(e,t,s,n,i){return tr(Xe(e,t,s,n,i,!0))}function nr(e){return e?e.__v_isVNode===!0:!1}function ts(e,t){return e.type===t.type&&e.key===t.key}const ir=({key:e})=>e!=null?e:null,Ds=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Q(e)||ge(e)||_(e)?{i:Le,r:e,k:t,f:!!s}:e:null);function d(e,t=null,s=null,n=0,i=null,o=e===se?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ir(t),ref:t&&Ds(t),scopeId:Mo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Le};return l?(ni(a,s),o&128&&e.normalize(a)):s&&(a.shapeFlag|=Q(s)?8:16),ys>0&&!r&&xe&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&xe.push(a),a}const Xe=ba;function ba(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===Oo)&&(e=ft),nr(e)){const l=Kt(e,t,!0);return s&&ni(l,s),ys>0&&!o&&xe&&(l.shapeFlag&6?xe[xe.indexOf(e)]=l:xe.push(l)),l.patchFlag=-2,l}if($a(e)&&(e=e.__vccOpts),t){t=Ca(t);let{class:l,style:a}=t;l&&!Q(l)&&(t.class=on(l)),q(a)&&(Qn(a)&&!x(a)&&(a=ue({},a)),t.style=Wn(a))}const r=Q(e)?1:er(e)?128:Ll(e)?64:q(e)?4:_(e)?2:0;return d(e,t,s,n,i,r,o,!0)}function Ca(e){return e?Qn(e)||zo(e)?ue({},e):e:null}function Kt(e,t,s=!1,n=!1){const{props:i,ref:o,patchFlag:r,children:l,transition:a}=e,m=t?or(i||{},t):i,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&ir(m),ref:t&&t.ref?s&&o?x(o)?o.concat(Ds(t)):[o,Ds(t)]:Ds(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==se?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kt(e.ssContent),ssFallback:e.ssFallback&&Kt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&n&&ei(f,a.clone(f)),f}function oe(e=" ",t=0){return Xe(un,null,e,t)}function Hi(e,t){const s=Xe(Rs,null,e);return s.staticCount=t,s}function Z(e="",t=!1){return t?(k(),sr(ft,null,e)):Xe(ft,null,e)}function je(e){return e==null||typeof e=="boolean"?Xe(ft):x(e)?Xe(se,null,e.slice()):nr(e)?ut(e):Xe(un,null,String(e))}function ut(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Kt(e)}function ni(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(x(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),ni(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!zo(t)?t._ctx=Le:i===3&&Le&&(Le.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _(t)?(t={default:t,_ctx:Le},s=32):(t=String(t),n&64?(s=16,t=[oe(t)]):s=8);e.children=t,e.shapeFlag|=s}function or(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=on([t.class,n.class]));else if(i==="style")t.style=Wn([t.style,n.style]);else if(en(i)){const o=t[i],r=n[i];r&&o!==r&&!(x(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function ze(e,t,s,n=null){Je(e,t,7,[s,n])}const Ea=Fo();let Ia=0;function Ta(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||Ea,o={uid:Ia++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ko(n,i),emitsOptions:Zo(n,i),emit:null,emitted:null,propsDefaults:V,inheritAttrs:n.inheritAttrs,ctx:V,data:V,props:V,attrs:V,slots:V,refs:V,setupState:V,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=ma.bind(null,o),e.ce&&e.ce(o),o}let le=null,Xs,_n;{const e=nn(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};Xs=t("__VUE_INSTANCE_SETTERS__",s=>le=s),_n=t("__VUE_SSR_SETTERS__",s=>vs=s)}const Ps=e=>{const t=le;return Xs(e),e.scope.on(),()=>{e.scope.off(),Xs(t)}},Ui=()=>{le&&le.scope.off(),Xs(null)};function rr(e){return e.vnode.shapeFlag&4}let vs=!1;function Sa(e,t=!1,s=!1){t&&_n(t);const{props:n,children:i}=e.vnode,o=rr(e);Zl(e,n,o,t),na(e,i,s||t);const r=o?Pa(e,t):void 0;return t&&_n(!1),r}function Pa(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Wl);const{setup:n}=s;if(n){nt();const i=e.setupContext=n.length>1?xa(e):null,o=Ps(e),r=Ss(n,e,0,[e.props,i]),l=so(r);if(it(),o(),(l||e.sp)&&!as(e)&&_o(e),l){if(r.then(Ui,Ui),t)return r.then(a=>{Oi(e,a)}).catch(a=>{ln(a,e,0)});e.asyncDep=r}else Oi(e,r)}else lr(e)}function Oi(e,t,s){_(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:q(t)&&(e.setupState=Po(t)),lr(e)}function lr(e,t,s){const n=e.type;e.render||(e.render=n.render||Ye);{const i=Ps(e);nt();try{Kl(e)}finally{it(),i()}}}const La={get(e,t){return re(e,"get",""),e[t]}};function xa(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,La),slots:e.slots,emit:e.emit,expose:t}}function dn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Po(hl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in cs)return cs[s](e)},has(t,s){return s in t||s in cs}})):e.proxy}function ka(e,t=!0){return _(e)?e.displayName||e.name:e.name||t&&e.__name}function $a(e){return _(e)&&"__vccOpts"in e}const Ba=(e,t)=>wl(e,t,vs),Ma="3.5.16";/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let An;const Ri=typeof window<"u"&&window.trustedTypes;if(Ri)try{An=Ri.createPolicy("vue",{createHTML:e=>e})}catch(e){}const ar=An?e=>An.createHTML(e):e=>e,_a="http://www.w3.org/2000/svg",Aa="http://www.w3.org/1998/Math/MathML",Ze=typeof document<"u"?document:null,Di=Ze&&Ze.createElement("template"),Ha={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?Ze.createElementNS(_a,e):t==="mathml"?Ze.createElementNS(Aa,e):s?Ze.createElement(e,{is:s}):Ze.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Ze.createTextNode(e),createComment:e=>Ze.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ze.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{Di.innerHTML=ar(n==="svg"?"<svg>".concat(e,"</svg>"):n==="mathml"?"<math>".concat(e,"</math>"):e);const l=Di.content;if(n==="svg"||n==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Ua=Symbol("_vtc");function Oa(e,t,s){const n=e[Ua];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Fi=Symbol("_vod"),Ra=Symbol("_vsh"),Da=Symbol(""),Fa=/(^|;)\s*display\s*:/;function Na(e,t,s){const n=e.style,i=Q(s);let o=!1;if(s&&!i){if(t)if(Q(t))for(const r of t.split(";")){const l=r.slice(0,r.indexOf(":")).trim();s[l]==null&&Fs(n,l,"")}else for(const r in t)s[r]==null&&Fs(n,r,"");for(const r in s)r==="display"&&(o=!0),Fs(n,r,s[r])}else if(i){if(t!==s){const r=n[Da];r&&(s+=";"+r),n.cssText=s,o=Fa.test(s)}}else t&&e.removeAttribute("style");Fi in e&&(e[Fi]=o?n.display:"",e[Ra]&&(n.display="none"))}const Ni=/\s*!important$/;function Fs(e,t,s){if(x(s))s.forEach(n=>Fs(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=Va(e,t);Ni.test(s)?e.setProperty($t(n),s.replace(Ni,""),"important"):e[n]=s}}const Vi=["Webkit","Moz","ms"],In={};function Va(e,t){const s=In[t];if(s)return s;let n=Ae(t);if(n!=="filter"&&n in e)return In[t]=n;n=sn(n);for(let i=0;i<Vi.length;i++){const o=Vi[i]+n;if(o in e)return In[t]=o}return t}const zi="http://www.w3.org/1999/xlink";function Wi(e,t,s,n,i,o=jr(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(zi,t.slice(6,t.length)):e.setAttributeNS(zi,t,s):s==null||o&&!ro(s)?e.removeAttribute(t):e.setAttribute(t,o?"":Ge(s)?String(s):s)}function Ki(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ar(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const l=o==="OPTION"?e.getAttribute("value")||"":e.value,a=s==null?e.type==="checkbox"?"on":"":String(s);(l!==a||!("_value"in e))&&(e.value=a),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=ro(s):s==null&&l==="string"?(s="",r=!0):l==="number"&&(s=0,r=!0)}try{e[t]=s}catch(l){}r&&e.removeAttribute(i||t)}function st(e,t,s,n){e.addEventListener(t,s,n)}function za(e,t,s,n){e.removeEventListener(t,s,n)}const ji=Symbol("_vei");function Wa(e,t,s,n,i=null){const o=e[ji]||(e[ji]={}),r=o[t];if(n&&r)r.value=n;else{const[l,a]=Ka(t);if(n){const m=o[t]=Ya(n,i);st(e,l,m,a)}else r&&(za(e,l,r,a),o[t]=void 0)}}const qi=/(?:Once|Passive|Capture)$/;function Ka(e){let t;if(qi.test(e)){t={};let n;for(;n=e.match(qi);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$t(e.slice(2)),t]}let Tn=0;const ja=Promise.resolve(),qa=()=>Tn||(ja.then(()=>Tn=0),Tn=Date.now());function Ya(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Je(Xa(n,s.value),t,5,[n])};return s.value=e,s.attached=qa(),s}function Xa(e,t){if(x(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Yi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ga=(e,t,s,n,i,o)=>{const r=i==="svg";t==="class"?Oa(e,n,r):t==="style"?Na(e,s,n):en(t)?Nn(t)||Wa(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ja(e,t,n,r))?(Ki(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Wi(e,t,n,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Q(n))?Ki(e,Ae(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Wi(e,t,n,r))};function Ja(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Yi(t)&&_(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Yi(t)&&Q(s)?!1:t in e}const mt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return x(t)?s=>Us(t,s):t};function Qa(e){e.target.composing=!0}function Xi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Me=Symbol("_assign"),Ke={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[Me]=mt(i);const o=n||i.props&&i.props.type==="number";st(e,t?"change":"input",r=>{if(r.target.composing)return;let l=e.value;s&&(l=l.trim()),o&&(l=Vs(l)),e[Me](l)}),s&&st(e,"change",()=>{e.value=e.value.trim()}),t||(st(e,"compositionstart",Qa),st(e,"compositionend",Xi),st(e,"change",Xi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:o}},r){if(e[Me]=mt(r),e.composing)return;const l=(o||e.type==="number")&&!/^0\d/.test(e.value)?Vs(e.value):e.value,a=t==null?"":t;l!==a&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===a)||(e.value=a))}},ii={deep:!0,created(e,t,s){e[Me]=mt(s),st(e,"change",()=>{const n=e._modelValue,i=jt(e),o=e.checked,r=e[Me];if(x(n)){const l=Kn(n,i),a=l!==-1;if(o&&!a)r(n.concat(i));else if(!o&&a){const m=[...n];m.splice(l,1),r(m)}}else if(qt(n)){const l=new Set(n);o?l.add(i):l.delete(i),r(l)}else r(cr(e,o))})},mounted:Gi,beforeUpdate(e,t,s){e[Me]=mt(s),Gi(e,t,s)}};function Gi(e,{value:t,oldValue:s},n){e._modelValue=t;let i;if(x(t))i=Kn(t,n.props.value)>-1;else if(qt(t))i=t.has(n.props.value);else{if(t===s)return;i=Lt(t,cr(e,!0))}e.checked!==i&&(e.checked=i)}const Za={created(e,{value:t},s){e.checked=Lt(t,s.props.value),e[Me]=mt(s),st(e,"change",()=>{e[Me](jt(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[Me]=mt(n),t!==s&&(e.checked=Lt(t,n.props.value))}},ec={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const i=qt(t);st(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Vs(jt(r)):jt(r));e[Me](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,xo(()=>{e._assigning=!1})}),e[Me]=mt(n)},mounted(e,{value:t}){Ji(e,t)},beforeUpdate(e,t,s){e[Me]=mt(s)},updated(e,{value:t}){e._assigning||Ji(e,t)}};function Ji(e,t){const s=e.multiple,n=x(t);if(!(s&&!n&&!qt(t))){for(let i=0,o=e.options.length;i<o;i++){const r=e.options[i],l=jt(r);if(s)if(n){const a=typeof l;a==="string"||a==="number"?r.selected=t.some(m=>String(m)===String(l)):r.selected=Kn(t,l)>-1}else r.selected=t.has(l);else if(Lt(jt(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function jt(e){return"_value"in e?e._value:e.value}function cr(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Qi={created(e,t,s){Hs(e,t,s,null,"created")},mounted(e,t,s){Hs(e,t,s,null,"mounted")},beforeUpdate(e,t,s,n){Hs(e,t,s,n,"beforeUpdate")},updated(e,t,s,n){Hs(e,t,s,n,"updated")}};function tc(e,t){switch(e){case"SELECT":return ec;case"TEXTAREA":return Ke;default:switch(t){case"checkbox":return ii;case"radio":return Za;default:return Ke}}}function Hs(e,t,s,n,i){const r=tc(e.tagName,s.props&&s.props.type)[i];r&&r(e,t,s,n)}const sc=ue({patchProp:Ga},Ha);let Zi;function nc(){return Zi||(Zi=oa(sc))}const oi=(...e)=>{const t=nc().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=oc(n);if(!i)return;const o=t._component;!_(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=s(i,!1,ic(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function ic(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function oc(e){return Q(e)?document.querySelector(e):e}const rc={data(){return{count:0,msgs:[]}},methods:{show(e){typeof e=="string"&&(e={type:"info",msg:e}),e.id=this.count,this.count++,this.msgs.push(e),e.persist||setTimeout(()=>{this.close(e.id)},e.timeout||4e3)},close(e){this.msgs.forEach((t,s)=>{if(t.id==e){this.msgs.splice(s,1);return}})}}},Bt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},lc={key:0},ac={key:1},cc={key:2},uc={key:3},dc=["innerHTML"],fc=["onClick"];function mc(e,t,s,n,i,o){return k(!0),M(se,null,gs(i.msgs,r=>(k(),M("div",{key:r.id,class:on([r.type,r.persist?"persist":""])},[r.type=="info"?(k(),M("i",lc,"💡")):Z("",!0),r.type=="success"?(k(),M("i",ac,"✅")):Z("",!0),r.type=="warn"?(k(),M("i",cc,"⚠️")):Z("",!0),r.type=="error"?(k(),M("i",uc,"❌")):Z("",!0),d("span",{innerHTML:r.msg},null,8,dc),r.persist?(k(),M("i",{key:4,class:"closeBtn",onClick:l=>o.close(r.id)},null,8,fc)):Z("",!0)],2))),128)}const pc=Bt(rc,[["render",mc]]),He=oi(pc).mount("#floatMsgs"),hc={data(){return{popups:[]}},methods:{show(e,t){e in this.$.appContext.components?this.popups.push({component:e,props:t}):Ce(void 0,'Cannot find a popup named "'.concat(e,'"'))},close(e){e!=null?this.popups.splice(e,1):this.popups=[]},getAllPopups(){const e=[];for(const t in this.$refs){const s=this.$refs[t];s.length&&e.push(s[0])}return e}}},gc={class:"popupContainer"},yc=["onClick"],vc={class:"popupItem"},wc=["onClick"];function bc(e,t,s,n,i,o){return k(!0),M(se,null,gs(i.popups,(r,l)=>(k(),M("div",gc,[d("div",{class:"popupBG",onClick:a=>o.close(l)},null,8,yc),d("div",vc,[(k(),sr(Vl(r.component),or({ref_for:!0,ref:"popup-".concat(l)},{ref_for:!0},r.props,{onClose:a=>o.close(l)}),null,16,["onClose"])),d("button",{class:"closeBtn",onClick:a=>o.close(l)},null,8,wc)])]))),256)}const Cc=Bt(hc,[["render",bc]]),Yt=oi(Cc),Ec=Yt.mount("#popups"),j=window.baseUrl?window.baseUrl.endsWith("/")?window.baseUrl:window.baseUrl+"/":"";console.log('Base URL: "'.concat(j,'"'));const te={baseUrl:"".concat(j,"api/"),token:"",send(e,t,s,n){return n=(()=>{let i={includeToken:!0};return n&&Object.assign(i,n),i})(),new Promise((i,o)=>{const r=new XMLHttpRequest;r.open(e,this.baseUrl+t),this.token&&n.includeToken&&r.setRequestHeader("token",this.token),typeof s==typeof{}?(r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(s))):r.send(s),r.onload=()=>{if(r.status<400)try{let l=JSON.parse(r.responseText);l.code&&l.code!=1&&He.show({type:"warn",msg:"".concat(l.message," (").concat(l.code,")")}),i(l)}catch(l){i(r.responseText)}else{r.status==401&&(this.token=""),He.show({type:"error",msg:"".concat(r.responseText," (").concat(r.status,")")});try{o(JSON.parse(r.responseText))}catch(l){o(r)}}},r.onerror=()=>{He.show({type:"error",msg:"Network error"}),o(r)},r.ontimeout=()=>{He.show({type:"error",msg:"Request timed out"}),o(r)}})},get(e,t,s){return this.send("GET",e+Js(t),void 0,s)},post(e,t,s){return this.send("POST",e,t,s)},put(e,t,s){return this.send("PUT",e,t,s)},delete(e,t,s){return this.send("DELETE",e,t,s)}},ot={elements:{showKami:document.getElementById("showKami")},init(){this.load(),this.elements.showKami.onchange=e=>this.showKami=e.target.checked},load(){ke("showKami")=="true"&&(this.showKami=!0)},get pageScale(){let e=parseFloat(document.documentElement.style.fontSize)/16;return e||1},set pageScale(e){document.documentElement.style.fontSize="".concat(16*e,"px")},get showKami(){return this.elements.showKami.checked},set showKami(e){this.elements.showKami.checked=e,Be("showKami",e),setTimeout(()=>{Ee.hasItem()&&(pt(),J())},0)},get showHidden(){let e=document.getElementById("showHiddenCSS");return e?!!e.innerHTML:!1},set showHidden(e){let t=document.getElementById("showHiddenCSS");t||(document.head.appendChild(ce('<style id="showHiddenCSS"></style>')),t=document.getElementById("showHiddenCSS")),t.innerHTML=e?"\n            #comments .commentBox.hidden {\n                display: block;\n            }\n        ":""}};try{ot.init()}catch(e){Ce(e,"failed to init settings")}function J(e={},t=void 0,s=!1){var n=e.db=="kami"?e.from>It():e.from>ws(),i=e.db=="kami"?e.from<Gs():e.from<zt();te.get("comments",e).then(o=>{if(be&&console.log(e),be&&console.log("isNewer:",n," isOlder:",i," length:",o.length),o.length==0){if(n){console.log("comments are up to date"),document.getElementById("loadingIndicatorBefore").style.display="none",Es=!0,window.clearCommentsUpToDateTimeout=setTimeout(()=>{Es=!1},1e4);return}if(i&&e.db=="kami"){console.log("reached the oldest comment"),document.getElementById("loadingIndicator").style.display="none";return}e.from&&document.getElementsByClassName("commentItem").length==0&&(document.getElementById("loadingIndicatorBefore").style.display="none");return}o[0].time>fs&&(fs=o[0].time,vr(fs),wr());var r=o[0].time>Wt()||t!=null;be&&console.log("KeepPos:",r),t==null&&(t=Pt());var l=t.getBoundingClientRect().top,a=t.getBoundingClientRect().left,m=Wt(),f=li();for(let S of o)e.db=="kami"&&S.id>=35668&&Wt()<=1684651800||ur(S,e.db=="kami");if(r&&document.getElementById("topComment")==null)if(be&&console.log(t),ae){var h=t.getBoundingClientRect().top;A.scrollTop+=h-l}else{var b=t.getBoundingClientRect().left;A.scrollLeft+=b-a}ot.showKami&&e.db==null&&s==!1&&(i?J({timeMin:o[o.length-1].time,timeMax:f,db:"kami"}):n?J({timeMin:m,timeMax:o[0].time,db:"kami"},t):e.time!=null||e.from!=null?J({timeMin:o[o.length-1].time,timeMax:o[0].time,db:"kami"}):e.timeMin==null&&e.timeMax==null&&J({timeMin:o[o.length-1].time,timeMax:parseInt(Date.now()/1e3),db:"kami"})),Cs(!0),be&&console.log("maxID:",ws()," minID:",zt())}).catch(o=>{o.status==401&&J()})}function ur(e,t=!1){var s=null;function n(b){return Ir([e.time,e.id],[parseInt(i[b].dataset.timestamp),i[b].id==""?parseInt(i[b].dataset.kamiid.replace("#","")):parseInt(i[b].id.replace("#",""))])}var i=document.getElementsByClassName("commentItem");if(i.length==0)s=document.getElementById("loadingIndicator");else if(n(0)>0)s=i[0];else if(n(i.length-1)<0)s=document.getElementById("loadingIndicator");else for(let b=0;b<i.length-1;b++)if(n(b)<0&&n(b+1)>0){s=i[b+1];break}if(s==null){console.log("Duplicate comment detected:",e.id);return}for(var o=new Date(e.time*1e3),r=o.toLocaleDateString(),l=o.toLocaleTimeString(),a;a=Er(1,mi),!!is.includes(a););is.push(a),is.length>5&&is.splice(0,1),t==!0&&(e.comment=e.comment.replace("This message is sent using a proxy. If it is dirty, please click here to delete it.",""));let m="";try{if(e.image!="")for(let b of e.image.split(","))m+='<img loading="lazy" src="'.concat(j,"api/data/images/posts/").concat(b,'.jpg" onclick="viewImg(this.src); Comments.forceLowerPanelUp()">')}catch(b){}m&&(m="<br><br>"+m),e.replyid&&(m='<br><div class="reply-quote"></div>'+m);let f=ce('\n        <div class="commentBox commentItem'.concat(e.hidden?" hidden":"",'" ').concat(t==!0?'data-kamiid="#'.concat(e.id,'"'):'id="#'.concat(e.id,'"'),' data-timestamp="').concat(e.time,'">\n            <img class="bg" loading="lazy" src="').concat(j,"bg/msgbg").concat(a,'.jpg" ').concat(e.hidden==1?'style="display: none;"':"",'>\n            <div class="bgcover"></div>\n            <img class="avatar" loading="lazy" src="').concat(t==!0?"https://kami.im/getavatar.php?uid=".concat(e.uid):_e.convertAvatarPath(e.avatar),'">\n            <div class="sender" onclick="this.previousElementSibling.click()">\n                ').concat(e.sender=="匿名用户"?'<span class="ui zh">匿名用户</span><span class="ui en">Anonymous</span>':e.sender,'\n            </div>\n            <div class="id">#').concat(e.id).concat(t==!0?" (kami.im)":"",'</div>\n            <div class="comment">').concat(di(e.comment)).concat(m,'</div>\n            <div class="time">').concat(r+" "+l).concat(e.hidden==1?" (hidden)":"",'</div>\n            <div class="action" ').concat(t?'style="display: none"':"",'>\n                <span class="btn like">\n                    <span class="like-count"></span>\n                </span>\n                <img class="btn reply" src="').concat(j,'res/reply.svg">\n            </div>\n        </div>\n    '));f.querySelector(".avatar").onclick=function(){e.uid!=null&&!t?ne.show("userHome",{id:e.uid,name:e.sender,avatar:e.avatar}):fn(e.sender,this.src,e.uid),Ee.forceLowerPanelUp()},{likeBtn:f.querySelector(".btn.like"),likeCount:f.querySelector(".like-count"),replyBtn:f.querySelector(".btn.reply"),replyQuote:f.querySelector(".reply-quote"),get liked(){return this.likeBtn.classList.contains("liked")},set liked(b){b?this.likeBtn.classList.add("liked"):this.likeBtn.classList.remove("liked")},get likes(){return parseInt(this.likeCount.textContent)||0},set likes(b){this.likeCount.textContent=b,this.likeCount.style.display=b?"block":"none"},init(){this.liked=e.liked,this.likes=e.likes,this.likeBtn.onclick=()=>{(this.liked?te.delete("comments/like?commentId=".concat(e.id)):te.post("comments/like?commentId=".concat(e.id))).then(()=>{te.get("comments",{from:e.id,count:1}).then(b=>{this.liked=b[0].liked,this.likes=b[0].likes})})},this.replyBtn.onclick=()=>{ht.reply(e.id)},e.replyid&&ri(this.replyQuote,e.replyid,{clickable:!0})}}.init(),A.insertBefore(f,s)}function ri(e,t,s){te.get("comments",{from:t,count:1}).then(n=>{let i=n[0];e.$comment=i,e.innerHTML='\n            <img class="reply-icon" src="'.concat(j,'res/reply.svg">\n            <div class="quote-content">\n                <div class="quote-head">\n                    <img class="quote-avatar" src="').concat(_e.convertAvatarPath(i.avatar),'">\n                    <div class="quote-sender">').concat(i.sender,'</div>\n                    <div class="quote-id">#').concat(i.id,'</div>\n                </div>\n                <div class="quote-body">').concat(i.comment,"</div>\n            </div>\n        "),e.classList.add("comment-reply-quote"),e.contentEditable=!1,s.clickable&&(e.classList.add("clickable"),e.onclick=()=>{pt(1),J({from:i.id})}),s.dark&&e.classList.add("dark")})}function pt(e){e==1?A.innerHTML=Dn+Rn:(A.innerHTML=Is+Dn+Rn,document.getElementById("loadingIndicatorBefore").style.display="none"),Ee.scrollPaused=!1,Es=!1,clearTimeout(window.clearCommentsUpToDateTimeout),document.body.classList.remove("touchKeyboardShowing")}function dr(){zt()==null||zt()<=1?Gs()==null?J({from:35662,db:"kami"}):J({from:Gs()-1,db:"kami"}):J({from:zt()-1})}function fr(){if(document.getElementById("newCommentBox")!=null&&document.getElementById("topComment")==null){console.log("newCommentBox is active, and you are viewing older comments\nskipping upper comments"),document.getElementById("loadingIndicatorBefore").style.display="none";return}var e=10;if(ae){for(e=Hn()*2;e<9;)e+=Hn();A.scrollTop=0}It()==null||It()>=35662?ws()==null?(It()==35662&&J({time:Wt()},Pt()),It()!=35662&&J({timeMin:li(),timeMax:Wt()},Pt(),!0)):J({from:ws()+1,count:0-e}):J({from:It()+1,count:0-e,db:"kami"})}function ws(){var e=document.querySelectorAll('.commentItem[id^="#"]');if(e.length>0)return parseInt(e[0].id.replace("#",""))}function zt(){var e=document.querySelectorAll('.commentItem[id^="#"]');if(e.length>0)return parseInt(e[e.length-1].id.replace("#",""))}function It(){var e=document.querySelectorAll('.commentItem[data-kamiid^="#"]');if(e.length>0)return parseInt(e[0].dataset.kamiid.replace("#",""))}function Gs(){var e=document.querySelectorAll('.commentItem[data-kamiid^="#"]');if(e.length>0)return parseInt(e[e.length-1].dataset.kamiid.replace("#",""))}function Wt(){var e=document.querySelectorAll(".commentItem");if(e.length>0)return parseInt(e[0].dataset.timestamp)}function li(){var e=document.querySelectorAll(".commentItem");if(e.length>0)return parseInt(e[e.length-1].dataset.timestamp)}function Pt(){return document.querySelector(".commentItem:not(.hidden)")||document.getElementById("loadingIndicatorBefore").nextElementSibling}const ht={show(){if(A.scrollLeft=0,A.scrollTop=0,document.getElementById("newCommentBox")){document.getElementById("msgText").focus({preventScroll:!0});return}A.insertBefore(ce('\n            <div class="commentBox" id="newCommentBox">\n                <div class="bgcover"></div>\n                <img class="avatar" id="msgPopupAvatar" onclick="XHR.token && User.changeAvatar()">\n                <div class="sender" id="senderText" onclick="XHR.token && User.changeName()"></div>\n                <div class="id" onclick="Popup.show(\'loginPopup\')"><span class="ui zh">注册/登录</span><span class="ui en">Login / Register</span></div>\n                <div class="comment">\n                    <div id="msgText" placeholder="圆神保佑~" contenteditable="true" onfocus="Comments.forceLowerPanelUp(); TouchKeyboardDetector.detect()" onblur="TouchKeyboardDetector.detect()"></div>\n                    <div id="uploadImgList"></div>\n                </div>\n                <label>\n                    <input id="uploadImgPicker" type="file" accept="image/*" onchange="previewLocalImgs()" multiple style="display: none;" />\n                    <span><span class="ui zh">+ 添加图片</span><span class="ui en">+ Add images</span></span>\n                </label>\n                <button id="sendBtn" onclick="sendMessage()"><span class="ui zh">发送 ✔</span><span class="ui en">Send ✔</span></button>\n            </div>\n        '),A.firstElementChild),ds(),document.getElementById("msgText").focus({preventScroll:!0})},previewLocalImgs(){var e=document.getElementById("uploadImgPicker");if(e.files.length===0){console.log("No file chosen");return}for(let t=0;t<e.files.length;t++)fi(e.files[t],null,2.1*1e3*1e3).then(s=>{document.getElementById("uploadImgList").appendChild(ce('\n                    <div>\n                        <img src="'.concat(s,'" class="uploadImg" onclick="viewImg(this.src)">\n                        <button onclick="this.parentNode.remove()">❌</button>\n                    </div>\n                ')))});e.value=""},reply(e){if(document.getElementById("newCommentBox")){let t=document.getElementById("msgText");this.removeReply();let s=ce('<div id="newCommentReplyQuote"></div>');this.getNewMessage()||t.appendChild(ce("<div><br></div>")),t.appendChild(s),ri(this.getReplyQuote(),e,{dark:!0}),this.show()}else mr(),this.reply(e)},removeReply(){let e=this.getReplyQuote();e&&e.remove()},getReplyQuote(){return document.getElementById("newCommentReplyQuote")},getReplyId(){let e=this.getReplyQuote();return e?e.$comment.id:void 0},getNewMessage(){let e=this.getReplyQuote();e&&(e.style.display="none");let t=document.getElementById("msgText").innerText;return e&&e.style.removeProperty("display"),t},send(){let e=this.getReplyId(),t=this.getNewMessage();var s=[],n=document.getElementsByClassName("uploadImg");if(n.length>0)for(let i=0;i<n.length;i++){const o=n[i];s.push(o.src.split(";base64,")[1])}if(t.replace(/\s/g,"")==""){He.show({type:"warn",msg:'<span class="ui zh">留言不能为空!</span><span class="ui en">Do not leave the message empty!</span>'});return}document.getElementById("sendBtn").disabled=!0,document.getElementById("sendBtn").innerHTML='<span class="ui zh">正在发送…</span><span class="ui en">Sending…</span>',te.post("comments/post",{sender:te.token?void 0:"匿名用户",comment:t,images:s,replyid:e}).then(i=>{console.log(i),document.getElementById("sendBtn").innerHTML='<span class="ui zh">发送成功!</span><span class="ui en">Sent!</span>',setTimeout(()=>{pt(),J()},1e3)}).catch(()=>{window.alert("发送留言失败\n如果问题持续, 请发邮件到 3112611479@qq.com (或加此QQ)\n\nFailed to send message, if problem persists, please contact 3112611479@qq.com"),document.getElementById("sendBtn").disabled=!1,document.getElementById("sendBtn").innerHTML='<span class="ui zh">发送 ✔</span><span class="ui en">Send ✔</span>'})}};var mr=ht.show.bind(ht),Ic=ht.send.bind(ht),Tc=ht.previewLocalImgs.bind(ht);const ne={elements:{popupContainer:document.getElementById("popupContainer"),popupItems:Array.from(document.querySelectorAll("#popupContainer .popupItem"))},VuePopups:Ec,hideAllPopupItems(){this.elements.popupItems.forEach(e=>{e.style.display="none"})},show(e,t){setTimeout(()=>{location.hash.startsWith("#popup-")||location.hash.startsWith("#resetpassword=")||(location.hash="popup"),document.documentElement.style.setProperty("--popupFromTranslateX","".concat(Ot?Ot.pageX-window.innerWidth/2:0,"px")),document.documentElement.style.setProperty("--popupFromTranslateY","".concat(Ot?Ot.pageY-window.innerHeight/2:0,"px"));let s=document.getElementById(e);if(!s){this.VuePopups.show(e,t);return}switch(this.hideAllPopupItems(),this.elements.popupContainer.style.removeProperty("display"),s.style.removeProperty("display"),e){case"getImgPopup":document.getElementById("getImgPopup").firstElementChild.lastElementChild.innerHTML="";for(var n in bs.themes){var i=bs.themes[n];try{for(let r=0;r<document.getElementsByClassName("".concat(i,"bg")).length;r++)document.getElementById("getImgPopup").firstElementChild.lastElementChild.appendChild(ce('\n                                    <img loading="lazy" src="'.concat(j,"bg/").concat(i!="default"?i:"","/mainbg").concat(r+1,'.jpg" style="min-height: 40vh;" onload="this.style.removeProperty(\'min-height\')">\n                                    <p>\n                                        ').concat(document.getElementsByClassName("".concat(i,"bg"))[r].children[1].innerHTML,"\n                                        ").concat(document.getElementsByClassName("".concat(i,"bg"))[r].dataset.pixivid!=null?'\n                                            <a href="https://www.pixiv.net/artworks/'.concat(document.getElementsByClassName("".concat(i,"bg"))[r].dataset.pixivid,'" target="_blank">Pixiv↗</a>\n                                        '):"","\n                                    </p>\n                                    <br>\n                                ")))}catch(r){console.log(r)}}for(let r=0;r<mi;r++)document.getElementById("getImgPopup").firstElementChild.lastElementChild.appendChild(ce('\n                            <img loading="lazy" src="'.concat(j,"bg/msgbg").concat(r+1,'.jpg" style="min-height: 40vh;" onload="this.style.removeProperty(\'min-height\')">\n                            <p>\n                                ').concat(Ut[r].description!=null?Ut[r].description:"Artwork by ".concat(Ut[r].illustrator,' <a href="https://www.pixiv.net/artworks/').concat(Ut[r].pixivid,'" target="_blank">Pixiv↗</a>'),"\n                            </p>\n                            <br>\n                        ")));break;case"displaySettings":let o=ke("graphicsMode");document.getElementById("graphicsMode").value=o||"high",document.getElementById("pageZoomController").value=Math.round(ot.pageScale*100);break}},35)},close(){if(location.hash=="#popup"){history.back();return}this.elements.popupContainer.style.display="none",this.hideAllPopupItems(),this.VuePopups.close()},isOpen(){return this.elements.popupContainer.style.display!="none"||this.VuePopups.popups.length>0},init(){this.elements.popupContainer.onclick=e=>{(e.target.classList.contains("closeBtn")||e.target.id=="popupBG")&&this.close()}}};var ai=ne.show.bind(ne),Xt=ne.close.bind(ne);try{ne.init()}catch(e){Ce(e,"failed to init popup")}const _e={LoggedOnUserId:null,init(){te.token=ke("token"),this.loadUserInfo(),ke("username")&&(te.token?Be("username",""):setTimeout(()=>{te.post("user/login",{name:ke("username")}).then(e=>{e.code==1&&(te.token=e.data,Be("token",e.data),Be("username",""),ds(),He.show({type:"info",persist:!0,msg:'\n                                <span class="ui zh">账号系统已升级, 您现在可以设置邮箱/密码了</span>\n                                <span class="ui en">Account system has been upgraded, you can set email/password now.</span>\n                            '}))})},0))},changeName(){this.getMe().then(e=>ne.show("promptInputPopup",{title:'<span class="ui zh">修改昵称</span><span class="ui en">Change nickname</span>',subtitle:'\n                    <span class="ui zh">'.concat(e.hasEmail?"":"更改后, <b>将无法使用旧昵称登录</b><br>请确保这是您的账号, 再进行修改, 否则, 请先创建一个自己的账号<br><br>",'输入新昵称</span>\n                    <span class="ui en">').concat(e.hasEmail?"":"After changing, <b>you won&rsquo;t be able to log in with the old name.</b><br>Make sure this is your account, if not, create a new one.<br><br>","Enter your new nickname</span>\n                    "),text:e.name,action(t){te.put("user/update",{name:t}).then(s=>{s.code==1&&(this.$emit("close"),He.show({type:"success",msg:'<span class="ui zh">修改成功</span><span class="ui en">Successfully changed</span>'}),ds())})}}))},changeEmail(){this.getMe().then(e=>ne.show("promptInputPopup",{title:'<span class="ui zh">修改邮箱</span><span class="ui en">Change email</span>',subtitle:'\n                    <span class="ui zh">设置邮箱后, <b>该账号仅能通过邮箱登录</b><br>如果这不是你的账号, 请不要修改, 请先创建一个自己的账号<br><br>输入新邮箱</span>\n                    <span class="ui en">\n                        <b>You can only log in with your email after setting it, </b>people who don\'t know your email won\'t be able to log in.<br>\n                        If this is not your account, please do not change anything. Log out and register your own one.<br><br>\n                        Enter your email\n                    </span>\n                    ',text:e.email,action(t){this.disabled=!0,te.put("user/update",{email:t}).then(s=>{s.code==1&&(this.$emit("close"),He.show({type:"success",persist:!0,msg:'\n                                <span class="ui zh">邮件发送成功! 请打开邮件中的链接, 以确认修改</span>\n                                <span class="ui en">Confirmation email sent, please check your inbox</span>'})),this.disabled=!1}).catch(()=>{this.disabled=!1})}}))},changePassword(){ne.show("setPasswordPopup")},changeAvatar(){ne.show("setAvatarPopup")},getMe(){return te.get("user/me")},showMe(){ne.show("userHome")},convertAvatarPath(e){return e?"".concat(j,"api/data/images/avatars/")+encodeURIComponent(e):""},loadUserInfo(){var e=document.getElementById("userInfo"),t=document.getElementById("userInfoAvatar"),s=document.getElementById("userInfoName");if(te.token)_e.getMe().then(n=>{this.LoggedOnUserId=n.id,t.src=_e.convertAvatarPath(n.avatar),s.textContent=n.name;try{document.getElementById("msgPopupAvatar").src=_e.convertAvatarPath(n.avatar),document.getElementById("senderText").textContent=n.name}catch(i){}try{ne.VuePopups.getAllPopups().forEach(i=>{i.$el.classList.contains("userHome")&&i.getUser()})}catch(i){Ce(i,"Failed to access popup instances")}}).catch(n=>{n.status==401&&this.loadUserInfo()}),e.onclick=()=>this.showMe(),e.classList.remove("nologin");else{this.LoggedOnUserId=null,t.src="".concat(j,"api/data/images/defaultAvatar.png"),s.innerHTML='<span class="ui zh">访客</span><span class="ui en">Anonymous</span>';try{document.getElementById("msgPopupAvatar").src="".concat(j,"api/data/images/defaultAvatar.png"),document.getElementById("senderText").innerHTML='<span class="ui zh">匿名用户</span><span class="ui en">Anonymous</span>'}catch(n){}e.onclick=()=>ne.show("loginPopup"),e.classList.add("nologin")}},logout(){Be("token",""),te.token="",Xt(),setTimeout(ds,0)},resetToken(){te.post("user/resettoken").then(e=>e&&this.logout())}};var ds=_e.loadUserInfo.bind(_e);try{_e.init()}catch(e){Ce(e,"failed to init user")}function fn(e,t,s){if(be&&console.log(e),e==null&&At==""||e==""){be&&console.log("empty user!");return}qe.removeEventListener("scroll",ns),e!=null&&(qe.innerHTML='\n        <h2>\n            <img src="'.concat(t,'" onclick="viewImg(this.src)">\n            <span>').concat(e=="匿名用户"?'<span class="ui zh">匿名用户</span><span class="ui en">Anonymous</span>':e).concat(s?"<span class='kamiuid'>".concat(s,"</span>"):"","</span>\n        </h2>\n        "),ai("showUserCommentPopup"),At=e,Ht=0,Et=!1);const n=new XMLHttpRequest;e!=null?n.open("GET","".concat(j,"api/comments")+Js({user:e,count:50})):(n.open("GET","".concat(j,"api/comments")+Js({user:At,from:Ht,count:50,db:Et==!0?"kami":null})),be&&console.log(At,Ht)),n.responseType="json",n.onload=()=>{if(n.status==200){for(var i of n.response){var o=new Date(i.time*1e3),r=o.toLocaleDateString(),l=o.toLocaleTimeString(),a="<i></i>";try{if(i.image!="")for(var m of i.image.split(","))a+='<img loading="lazy" src="'.concat(j,"api/data/images/posts/").concat(m,'.jpg" onclick="viewImg(this.src)">')}catch(f){}qe.appendChild(ce('\n                    <div class="userCommentItem">\n                        <p>'.concat(r+" "+l,"<span>#").concat(i.id,"</span></p>\n                        <p>\n                            <span onclick='clearComments(1); loadComments({ from: ").concat(i.id).concat(Et==!0?', db: "kami"':""," }); closePopup()'\n                                >").concat(di(i.comment),"</span>\n                            ").concat(a,"\n                        </p>\n                    </div>\n                "))),Ht++}Et==!0&&n.response.length<10&&(At="",qe.appendChild(ce('\n                    <h4>\n                        <span class="ui zh">- 共 '.concat(document.getElementById("userComment").getElementsByTagName("div").length,' 条留言 -</span>\n                        <span class="ui en">- Total ').concat(document.getElementById("userComment").getElementsByTagName("div").length," messages -</span>\n                    </h4>\n                ")))),Et==!1&&n.response.length<10&&(Ht=0,Et=!0,setTimeout(fn)),qe.addEventListener("scroll",ns)}},n.onerror=()=>{setTimeout(()=>{qe.addEventListener("scroll",ns),ns()},1e3)},n.send()}function ns(){var e=qe.scrollHeight-qe.clientHeight-qe.scrollTop;e<100&&ne.isOpen()&&fn()}const bs={elements:{bgs:document.getElementsByClassName("mainbg"),captionContainer:document.getElementById("mainCaptions"),captions:document.getElementById("mainCaptions").children,themeIndicators:document.getElementById("currentTheme").children,listSelectors:document.querySelectorAll("#themeList>div[data-theme]"),lowerPanel:document.getElementById("lowerPanel")},timers:{timeouts:[],intervals:[],setTimeout(e,t){for(;this.timeouts.length>=100;)this.timeouts.shift();this.timeouts.push(setTimeout(()=>e(),t))},setInterval(e,t){this.intervals.push(setInterval(()=>e(),t))},clear(){this.timeouts.forEach(e=>{clearTimeout(e)}),this.intervals.forEach(e=>{clearInterval(e)}),this.timeouts=[],this.intervals=[]}},themes:{"#default-theme":"default","#birthday":"birthday","#christmas":"christmas","#lunarNewYear":"lunarNewYear","#qixi":"qixi","#night":"night","#kami":"kami"},theme:"",currentBG:-1,currentCaption:-1,init(){this.setTheme(this.themes[location.hash]),setInterval(()=>{let e=this.getAutoTheme();this.lastAutoTheme&&this.lastAutoTheme!=e&&this.setTheme(),this.lastAutoTheme=e},1e3),Array.from(this.elements.listSelectors).forEach(e=>{e.onclick=()=>{this.setTheme(e.dataset.theme),Xt()}})},getAutoTheme(){let e=new Date,t=e.getFullYear();if(new Date("Oct 3 ".concat(t," 00:00"))<e&&e<new Date("Oct 4 ".concat(t," 06:00")))return"birthday";if(new Date("Dec 25 ".concat(t," 00:00"))<e&&e<new Date("Dec 26 ".concat(t," 06:00")))return"christmas";if(new Date("Jan 29 2025 00:00")<e&&e<new Date("Feb 3 2025 06:00"))return"lunarNewYear";if(new Date("Aug 10 2024 00:00")<e&&e<new Date("Aug 11 2024 06:00"))return"qixi";if(new Date("Sep 17 2024 00:00")<e&&e<new Date("Sep 20 2024 06:00")){let s=document.querySelector(".walpurgispvbg iframe").contentWindow.video;if(!s||!s.duration||s.currentTime<s.duration)return"walpurgispv"}return e.getHours()>=23||e.getHours()<=5?"night":"default"},setTheme(e){e||(e=this.getAutoTheme()),console.log('setting theme to "'.concat(e,'"')),Array.from(this.elements.bgs).forEach(t=>{t.classList.remove("ready","animating","visible")}),Array.from(this.elements.captions).forEach(t=>{t.classList.remove("visible")}),Array.from(this.elements.themeIndicators).forEach(t=>{t.classList.remove("visible")});try{document.getElementById("themeTxt-".concat(e)).classList.add("visible")}catch(t){Ce(t,"theme indicator text not defined")}try{if(e=="birthday"){let t=new Date,s=t.getFullYear()-2011;document.getElementById("birthdayDate").innerHTML="10/3/".concat(t.getFullYear()," - Madoka's ").concat(s,"th birthday")}if(e=="lunarNewYear"?document.getElementsByClassName("fireworks")[0].classList.add("visible"):document.getElementsByClassName("fireworks")[0].classList.remove("visible"),e=="walpurgispv"){let t=document.querySelector(".walpurgispvbg"),s=document.querySelector(".walpurgispvbg iframe");s.contentWindow.video?s.contentWindow.location.reload():s.src="index.hlsvideo.html#".concat(j,"media/walpurgis2_full.m3u"),t.onclick=()=>s.contentWindow.video&&s.contentWindow.video.click(),setTimeout(()=>{dt.elements.player.muted=!0},0)}else{let t=document.querySelector(".walpurgispvbg iframe").contentWindow.video;t&&t.pause(),setTimeout(()=>{dt.elements.player.muted=!1},0)}e=="kami"&&(pr(document.getElementsByClassName("kamiCaption")[0],750),ot.showKami||(ot.elements.showKami.checked=!0,setTimeout(()=>{Ee.hasItem()&&(pt(),J())},0)))}catch(t){Ce(t,"failed to init theme-specific options")}this.timers.clear(),this.theme=e,this.currentBG=this.getCurrentBgCount()-1,this.currentCaption=-1,this.getCurrentBgs()[0].classList.add("bgzoom"),this.elements.captionContainer.style.opacity=0,xr(this.elements.captionContainer,{transition:"none"}),this.nextImg(),this.nextCaption(),this.getCurrentBgCount()>1&&(this.timers.setInterval(()=>this.nextImg(),8e3),this.timers.setInterval(()=>this.nextCaption(),8e3)),this.elements.lowerPanel.classList.add("animating"),this.timers.setTimeout(()=>this.elements.lowerPanel.classList.remove("animating"),1700);try{dt.setActiveSong(this.getThemeMusic()),dt.userPaused||dt.play()}catch(t){}},getThemeMusic(){return{birthday:"また あした - 悠木碧",night:"Scaena felix - オルゴール ミドリ",kami:"never leave you alone - 梶浦由記",walpurgispv:"Nux Walpurgis - 梶浦由記"}[this.theme]||(Math.random()>.5?"Sagitta luminis - オルゴール ミドリ":"君の銀の庭 - オルゴール ミドリ")},getCurrentBgs(){return document.querySelectorAll(".mainbg.".concat(this.theme,"bg"))},getCurrentBgCount(){return document.getElementsByClassName("".concat(this.theme,"bg")).length},nextImg(){let e=this.currentBG;this.currentBG=e+1<this.getCurrentBgCount()?e+1:0;let t=this.currentBG+1<this.getCurrentBgCount()?this.currentBG+1:0,s=document.getElementsByClassName("".concat(this.theme,"bg")),n=this.theme=="default"?"".concat(j,"bg/"):"".concat(j,"bg/").concat(this.theme,"/");try{if(s[e].classList.remove("visible"),s[this.currentBG].classList.add("ready","animating","visible"),s[this.currentBG].firstElementChild.style.backgroundImage='url("'.concat(n,"mainbg").concat(this.currentBG+1,'.jpg")'),e==this.currentBG)return;this.timers.setTimeout(()=>{s[e].classList.remove("ready","animating"),s[t].classList.add("ready"),s[t].classList.remove("bgzoom"),s[t].firstElementChild.style.backgroundImage='url("'.concat(n,"mainbg").concat(t+1,'.jpg")')},2500)}catch(i){Ce(i,"failed to show next image")}},nextCaption(){try{var e=document.getElementsByClassName("".concat(this.theme,"Caption"))}catch(t){console.log(t);return}if(e.length==1){this.timers.setTimeout(()=>{e[0].classList.add("visible"),this.elements.captionContainer.style.opacity=1},500);return}this.elements.captionContainer.style.opacity=0,this.timers.setTimeout(()=>{for(var t=0;t<e.length;t++)e[t].classList.remove("visible");this.currentCaption<e.length-1?this.currentCaption++:this.currentCaption=0,e[this.currentCaption].classList.add("visible"),this.elements.captionContainer.style.opacity=1},1500)}};try{bs.init()}catch(e){Ce(e,"failed to init theme")}function pr(e,t=0){const s=[];for(let a=0;a<e.children.length;a++){const m=e.children[a];s.push(m.innerHTML),m.innerHTML=""}let n=0,i=0;const o=[",","."],r=6;let l=0;setTimeout(()=>{let a=setInterval(()=>{if(n<s.length)if(i<s[n].length){const m=s[n][i];if(o.includes(m))if(l==0&&(e.children[n].innerHTML+=m),l<r){l++;return}else l=0;else e.children[n].innerHTML+=m;i++}else i=0,n++;else clearInterval(a)},50)},t)}function hr(e){document.getElementById("videoBgBox").style.opacity=1,document.getElementById("videoBgBox").style.display="block",document.getElementById("mainVideo").src="".concat(j,"media/walpurgis1.1.mp4"),document.getElementById("mainVideo").play(),setTimeout(()=>{document.getElementById("videoBgBox").style.opacity=0,setTimeout(()=>{document.getElementById("videoBgBox").style.display="none"},1e3)},e)}function gr(e){if(e||(navigator.language.slice(0,2)=="zh"||navigator.language.slice(0,3)=="yue"?e="zh":e="en"),!["zh","en"].includes(e)){console.log('invalid lang "'.concat(e,'"'));return}document.getElementById("langCSS").innerHTML="\n    .ui {\n        display: none !important;\n    }\n    .ui.".concat(e," {\n        display: inline !important;\n    }\n    "),console.log("changed lang to ".concat(e))}function yr(e){if(e=="high")document.body.classList.remove("lowend"),document.body.classList.remove("midend");else if(e=="mid")document.body.classList.remove("lowend"),document.body.classList.add("midend");else if(e=="low")document.body.classList.add("lowend"),document.body.classList.remove("midend");else return;Be("graphicsMode",e)}function Hn(){if(!ae)return null;var e=document.getElementById("loadingIndicatorBefore").nextElementSibling,t=e.getBoundingClientRect().top;e=e.nextElementSibling;for(var s=1;t==e.getBoundingClientRect().top;)s++,e=e.nextElementSibling;return s}function vr(e){console.log("loading timeline from",e);var t=document.getElementById("timeline");t.innerHTML="";var s=new Date(e*1e3);for(s.setDate(1);s.getFullYear()>=2019;){var n=document.createElement("p");for(n.appendChild(ce("<strong>".concat(s.getFullYear(),"</strong>")));;)if(n.appendChild(ce("<span>".concat(s.getMonth()+1,"</span>"))),s.getFullYear()==2019&&s.getMonth()+1==2){s.setFullYear(2011);break}else{if(s.getMonth()==0)break;s.setMonth(s.getMonth()-1)}t.appendChild(n),s.setMonth(s.getMonth()-1)}}function ci(){var e=0;ae?e=A.scrollTop/A.scrollHeight:e=A.scrollLeft/A.scrollWidth;var t=document.getElementsByClassName("commentItem");return t[Math.round(t.length*e)]}function Cs(e=!1){try{var t=parseInt(ci().dataset.timestamp)*1e3,s=new Date(t),n=s.getFullYear(),i=s.getMonth()+1;const o=document.getElementById("timeline").children;for(let r=0;r<o.length;r++){const l=o[r];l.firstElementChild.innerHTML==n?(l.firstElementChild.classList.add("month-active"),e&&l.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})):l.firstElementChild.classList.remove("month-active");for(let a=0;a<l.children.length;a++){const m=l.children[a];m.nodeName=="SPAN"&&(l.firstElementChild.innerHTML==n&&m.innerHTML==i?m.classList.add("month-active"):m.classList.remove("month-active"))}}ui()}catch(o){be&&console.log(o)}}function ui(){try{var e=parseInt(ci().dataset.timestamp)*1e3,t=new Date(e);const n=me.querySelectorAll("div[data-time]");for(let i=0;i<n.length;i++){const o=n[i];var s=new Date(o.dataset.time);t.getFullYear()==s.getFullYear()&&t.getMonth()==s.getMonth()&&t.getDate()==s.getDate()?o.classList.add("day-active"):o.classList.remove("day-active")}}catch(n){be&&console.log(n)}}function wr(){var e=parseInt(0-new Date().getTimezoneOffset()/60);const t=new XMLHttpRequest;t.open("GET","".concat(j,"api/comments/count?utc=").concat(e)),t.onload=()=>{t.status==200&&(document.getElementById("todayCommentCount").innerHTML=t.responseText,console.log("today comment count:",t.responseText))},t.send()}function br(){if(ae){var e=A.scrollTop/(A.scrollHeight-A.clientHeight);setTimeout(()=>{A.scrollLeft=(A.scrollWidth-A.clientWidth)*e,Cs(!0)},35),document.body.classList.remove("fullscreen"),document.getElementById("fullscreenBtn").innerHTML='<span class="ui zh">全屏 ↗</span><span class="ui en">Expand ↗</span>',ae=!1}else{var e=A.scrollLeft/(A.scrollWidth-A.clientWidth);setTimeout(()=>{A.scrollTop=(A.scrollHeight-A.clientHeight)*e,Cs(!0)},35),document.body.classList.add("fullscreen"),document.getElementById("fullscreenBtn").innerHTML='<span class="ui zh">退出全屏 ↙</span><span class="ui en">Collapse ↙</span>',ae=!0}Ee.pauseScroll(500)}function Sc(){Be("hideTopComment",Qs.checked),Qs.checked?(document.getElementById("topComment").style.display="none",Is=document.getElementById("topComment").outerHTML):(document.getElementById("topComment").style.removeProperty("display"),Is=document.getElementById("topComment").outerHTML)}function Cr(){Be("showTimeline",Zs.checked),Zs.checked?(document.getElementById("timelineContainer").style.display="block",A.classList.add("noscrollbar")):(document.getElementById("timelineContainer").style.display="none",A.classList.remove("noscrollbar"))}function Er(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}function Pc(e,t,s=999){const n=new Date;n.setTime(n.getTime()+s*24*60*60*1e3);let i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function Un(e){let t=e+"=",s=document.cookie.split(";");for(let n=0;n<s.length;n++){let i=s[n];for(;i.charAt(0)==" ";)i=i.substring(1);if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return""}function ke(e){if(localStorage.getItem(e)==null)if(Un(e)!="")Be(e,Un(e)),document.cookie="".concat(e,"=;expires=").concat(new Date(0).toUTCString(),";path=/");else return"";return localStorage.getItem(e)}function Be(e,t){t===""?localStorage.removeItem(e):localStorage.setItem(e,t)}function ce(e){e=e.trim();var t=document.createElement("template");return t.innerHTML=e,t.content}function di(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,"<br>").replace(/\n/g,"<br>")}function Ir(e,t){for(let s=0;s<e.length;s++)if(e[s]!=t[s])return e[s]-t[s];return 0}function Js(e){var t=[];for(let s in e)e[s]!=null&&t.push("".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(e[s])));return t.length>0?"?"+t.join("&"):""}function Tr(e){return new Promise((t,s)=>{fetch(e).then(n=>Promise.all([n.url,n.text()])).then(([n,i])=>{const o=document.createElement("template");o.innerHTML=i;const r=[],l=o.content.querySelectorAll("a");for(let a=0;a<l.length;a++){let m=l[a];m.previousSibling&&!m.previousSibling.textContent.includes("<dir>")&&r.push(n+encodeURIComponent(m.textContent))}t(r)})})}function Ns(e,t=!1){return t?decodeURIComponent(e.match(/[^\\/]+(?=\.\w+$)/)[0]):e.match(/[^\\/]+(?=\.\w+$)/)[0]}function Sr(e){for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}}function Pr(e,t){let s=e[e.indexOf(t)+1];return s!=null?s:e[0]}function Lr(e,t){let s=e[e.indexOf(t)-1];return s!=null?s:e[e.length-1]}function Ce(e,t){console.warn(e),console.error(t)}function xr(e,t){for(let s in t)e.style[s]=t[s];setTimeout(()=>{for(let s in t)e.style.removeProperty(s)},35)}function kr(e){return new Promise((t,s)=>{let n=new FileReader;n.readAsDataURL(e),n.onload=()=>{t(n.result)}})}function fi(e,t,s){return new Promise((n,i)=>{if(typeof e!="string"){e&&e.type.match(/image.*/)?kr(e).then(r=>{fi(r,t,s).then(l=>n(l))}):He.show({type:"error",msg:'<span class="ui zh">图片无效</span><span class="ui en">Invalid image</span>'});return}let o=new Image;o.src=e,o.onload=()=>{let r=o.width,l=o.height;if(t&&(r/l>t?r=l*t:l=r/t),s&&r*l>s){let f=Math.sqrt(s/(r*l));r*=f,l*=f}r=Math.round(r),l=Math.round(l);var a=document.createElement("canvas");a.width=r,a.height=l;var m=a.getContext("2d");t?o.width/o.height>t?m.drawImage(o,(o.width-o.height*t)/2,0,o.height*t,o.height,0,0,r,l):m.drawImage(o,0,(o.height-o.width/t)/2,o.width,o.width/t,0,0,r,l):m.drawImage(o,0,0,r,l),n(a.toDataURL("image/jpeg"))}})}function Lc(e){return/^\S+@\S+\.\S+$/.test(e)}var Es=!1,fs=0,At="",Ht=0,Et=!1;const On=document.getElementById("bgContainer"),Se=document.getElementById("lowerPanel");var A=document.getElementById("comments"),qe=document.getElementById("userComment"),me=document.getElementById("hoverCalendar"),Qs=document.getElementById("hideTopComment"),Zs=document.getElementById("showTimeline"),Is=document.getElementById("topComment").outerHTML,Rn=document.getElementById("loadingIndicator").outerHTML,Dn=document.getElementById("loadingIndicatorBefore").outerHTML;document.getElementById("loadingIndicatorBefore").style.display="none";var ae=!1;document.querySelector("#mainTitle>a").href=location.origin+location.pathname;gr(ke("lang"));var be=!1;location.hash=="#debug"&&(be=!0,setTimeout(()=>{Ee.forceLowerPanelUp()},0));if(location.hash.slice(0,7)=="#popup-")try{ai(location.hash.slice(7))}catch(e){Xt(),location.hash=""}ke("graphicsMode")!=""&&yr(ke("graphicsMode"));ke("hideTopComment")=="true"&&(Qs.checked=!0,document.getElementById("topComment").style.display="none",Is=document.getElementById("topComment").outerHTML);ke("hiddenBanner")!=document.getElementById("banner").classList[0];ke("showTimeline")=="false"&&(Zs.checked=!1,Cr());function xc(){}if(location.hash=="#video"){time_ms=5e3,hr(time_ms),document.getElementsByClassName("walpurgisbg")[0].style.opacity=1,document.getElementsByClassName("walpurgisbg")[0].style.display="block",document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.backgroundImage='url("'.concat(j,'bg/walpurgis/mainbg1.jpg")'),document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.animationName="bgzoom",document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.animationDuration="1.5s";var eo=!1;bgmElmnt.muted==!1&&(bgmElmnt.muted=!0,eo=!0),setTimeout(()=>{document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.removeProperty("animation-name"),document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.removeProperty("animation-duration"),setTimeout(()=>{document.getElementsByClassName("walpurgisbg")[0].style.opacity=0,setTimeout(()=>{eo&&(bgmElmnt.muted=!1)},2e3)},8e3)},time_ms)}const Ee={elements:{container:document.getElementById("comments"),seekArrows:document.getElementsByClassName("commentSeekArrow")},seekLeft:0,seekDone:!0,scrollPaused:!1,hasItem(){return!!document.querySelector(".commentItem")},seek(e){if(!this.hasItem())return;const t=Pt().getBoundingClientRect().width+20*ot.pageScale;this.seekDone?(this.seekLeft=(Math.round(this.elements.container.scrollLeft/t)+e)*t,window.requestAnimationFrame(s=>this.seekAnimate(s,this.elements.container.scrollWidth))):this.seekLeft+=e*t,this.seekLeft<0&&(this.seekLeft=0),this.seekLeft>this.elements.container.scrollWidth-this.elements.container.clientWidth&&(this.seekLeft=this.elements.container.scrollWidth-this.elements.container.clientWidth)},seekAnimate(e,t){if(this.seekDone==!0){this.seekDone=!1,this.t0=e,window.requestAnimationFrame(o=>this.seekAnimate(o,t));return}let s=1e3/(e-this.t0);this.t0=e;const n=this.seekLeft-this.elements.container.scrollLeft;let i=this.elements.container.scrollLeft;Math.abs(n)>1&&this.elements.container.scrollWidth==t&&(this.elements.container.scrollLeft+=n/(5*s/60)),i==this.elements.container.scrollLeft?this.seekDone=!0:window.requestAnimationFrame(o=>this.seekAnimate(o,t))},scroll(){if(!(this.scrollPaused||!this.hasItem())){if(Cs(),ae)var e=A.scrollTop,t=A.scrollHeight-A.clientHeight-A.scrollTop,s=Pt().offsetHeight/8;else var e=A.scrollLeft,t=A.scrollWidth-A.clientWidth-A.scrollLeft,s=Pt().offsetWidth/8;e<=s&&Es==!1&&(fr(),this.pauseScroll(500)),t<=s&&(dr(),this.pauseScroll(500)),ae||(e<s?this.elements.seekArrows[0].style.display="none":this.elements.seekArrows[0].style.removeProperty("display"))}},pauseScroll(e){this.scrollPaused=!0,setTimeout(()=>{this.scrollPaused=!1},e)},GetTargetCommentScrollability(e){for(;this.elements.container.contains(e);){if(e.classList.contains("comment")||e.id=="msgText")return{inputable:e.id=="msgText",scrollable:e.scrollHeight>e.clientHeight,top:e.scrollTop<1,bottom:e.scrollHeight-e.clientHeight-e.scrollTop<1};e=e.parentNode}return{inputable:!1,scrollable:!1,top:!0,bottom:!0}},forceLowerPanelUp(){Se.classList.add("lowerPanelUp"),Se.classList.remove("lowerPanelDown"),document.documentElement.style.overscrollBehavior="contain",document.body.style.overscrollBehavior="contain"},forceLowerPanelDown(){Se.classList.remove("lowerPanelUp"),Se.classList.add("lowerPanelDown"),setTimeout(()=>{document.documentElement.style.removeProperty("overscroll-behavior"),document.body.style.removeProperty("overscroll-behavior")},300);try{document.getElementById("msgText").blur()}catch(e){}},init(){J(),this.elements.container.onwheel=e=>{if(!ae){let t=this.GetTargetCommentScrollability(e.target);!t.inputable&&!t.scrollable&&(e.deltaY>0?this.seek(1):this.seek(-1))}},this.elements.container.onscroll=()=>this.scroll(),setInterval(()=>this.scroll(),1e3),On.addEventListener("click",this.forceLowerPanelDown),On.addEventListener("touchstart",this.forceLowerPanelDown),document.addEventListener("mouseover",()=>Se.classList.remove("lowerPanelDown")),Se.addEventListener("touchstart",function(e){this.lastTouchStart=e.touches[0],this.lastTouchMove=null,this.timeTouchStart=e.timeStamp,Ee.forceLowerPanelUp(),document.getElementById("mouseScrollTooltip").style.display="none"}),Se.addEventListener("touchmove",function(e){const t=e.touches[0],s=t.clientX-this.lastTouchStart.clientX,n=t.clientY-this.lastTouchStart.clientY;if(!this.lastTouchMove&&n>Math.abs(s)&&!ae){let i=Ee.GetTargetCommentScrollability(e.target);this.touchMoveLowerPanel=i.inputable?!i.scrollable:i.top}this.touchMoveLowerPanel&&n>0&&!ae&&(Se.style.transform="translateY(".concat(n,"px)"),Se.style.transition="none"),this.lastTouchMove=t,this.timeLastMove=e.timeStamp}),Se.addEventListener("touchend",function(e){this.touchMoveLowerPanel&&(Se.style.removeProperty("transform"),Se.style.removeProperty("transition"));try{const t=this.lastTouchMove.clientY-this.lastTouchStart.clientY,s=this.timeLastMove-this.timeTouchStart;this.touchMoveLowerPanel&&(t/window.innerHeight>.15||t/window.innerHeight/s>7e-4)&&Ee.forceLowerPanelDown()}catch(t){}this.touchMoveLowerPanel=!1})}};var kc=Ee.seek.bind(Ee);try{Ee.init()}catch(e){Ce(e,"failed to init comments")}const Ut=[{description:'Official Guidebook "You Are Not Alone"'},{illustrator:"Nine",pixivid:"57114653"},{illustrator:"曼曼",pixivid:"91471007"},{illustrator:"カラスBTK",pixivid:"99591809"},{illustrator:"さんしょう",pixivid:"18530512"},{illustrator:"STAR影法師",pixivid:"60649948"},{illustrator:"Nardack",pixivid:"88198018"},{illustrator:"Rella",pixivid:"29076044"},{illustrator:"おれつ",pixivid:"57636925"},{illustrator:"ChrisTy☆クリスティ",pixivid:"65489049"},{illustrator:"ChrisTy☆クリスティ",pixivid:"63582832"}],mi=Ut.length;var is=[];document.getElementById("timelineContainer").addEventListener("click",e=>{if(e.target.nodeName=="STRONG"){var t=parseInt(e.target.innerHTML);if(e.target==document.getElementById("timeline").firstElementChild.firstElementChild){pt(),J();return}var s=new Date(t+1,0,0)}else if(e.target.nodeName=="SPAN"){if(e.target.classList[0]=="month-active")return;var t=parseInt(e.target.parentNode.firstElementChild.innerHTML),n=parseInt(e.target.innerHTML),s=new Date(t,n-1)}else if(e.target.hasAttribute("data-time"))var s=new Date(e.target.dataset.time);else return;var i=s.getTime()/1e3;pt(1),i<=1684651800?J({time:i,db:"kami"}):J({time:i})});document.getElementById("timelineContainer").addEventListener("wheel",e=>{ae||(document.getElementById("timeline").scrollLeft+=e.deltaY/2)});document.getElementById("timelineContainer").addEventListener("mouseover",e=>{if(e.target.nodeName=="SPAN"){if(ae)me.style.top=e.target.getBoundingClientRect().top+e.target.getBoundingClientRect().height/2+"px",me.style.right=document.getElementById("timelineContainer").getBoundingClientRect().width+"px",me.style.removeProperty("left"),me.style.removeProperty("bottom");else{var t=e.target.getBoundingClientRect().left+e.target.getBoundingClientRect().width/2,s=113;t+s>window.innerWidth&&(t=window.innerWidth-s),t<s&&(t=s),me.style.left=t+"px",me.style.bottom=document.getElementById("timelineContainer").getBoundingClientRect().height+"px",me.style.removeProperty("top"),me.style.removeProperty("right")}me.style.removeProperty("display"),me.innerHTML="";var n=parseInt(e.target.parentNode.firstElementChild.innerHTML),i=parseInt(e.target.innerHTML);me.appendChild(ce("<div>".concat(n,"-").concat(("0"+i).slice(-2)).concat(n<=2022||n==2023&&i<=5?" (kami.im)":"","</div>")));for(let o=1;o<=new Date(n,i,0).getDate();o++)new Date(n,i-1,o).getTime()/1e3<fs&&me.appendChild(ce('<div data-time="'.concat(new Date(n,i-1,o).toDateString(),'">').concat(o,"</div>")));ui()}else e.target.nodeName=="STRONG"&&(me.style.display="none")});document.getElementById("goto").addEventListener("keypress",function(e){e.key==="Enter"&&(e.preventDefault(),pt(1),J({from:document.getElementById("goto").value}))});const kt={elements:{container:document.getElementById("imgViewerBox"),viewer:document.getElementById("imgViewer"),viewport:document.getElementById("viewport1")},viewportContent:"",imgViewerOffsetX:0,imgViewerOffsetY:0,imgViewerScale:1,imgViewerMouseMoved:!1,view(e){this.elements.viewer.src=e,this.elements.container.style.removeProperty("display"),this.elements.viewport.setAttribute("content",this.viewportContent.replace(", maximum-scale=1.0","")),window.location.hash="view-img",this.imgViewerOffsetX=0,this.imgViewerOffsetY=0,this.imgViewerScale=1,this.elements.viewer.style.transform="translateX(0px) translateY(0px) scale(1)",this.elements.viewer.style.removeProperty("image-rendering")},close(){if(location.hash=="#view-img"){history.back();return}this.elements.container.style.display="none",this.elements.viewport.setAttribute("content",this.viewportContent)},isOpen(){return this.elements.container.style.display!="none"},normalizePosition(){const e=this.elements.viewer.width*this.imgViewerScale,t=this.elements.viewer.height*this.imgViewerScale;if(e&&t){const s=(window.innerHeight-t)/2+this.imgViewerOffsetY,n=(window.innerHeight-t)/2-this.imgViewerOffsetY,i=(window.innerWidth-e)/2+this.imgViewerOffsetX,o=(window.innerWidth-e)/2-this.imgViewerOffsetX;t<=window.innerHeight?this.imgViewerOffsetY=0:s>0?this.imgViewerOffsetY=0-(window.innerHeight-t)/2:n>0&&(this.imgViewerOffsetY=(window.innerHeight-t)/2),e<=window.innerWidth?this.imgViewerOffsetX=0:i>0?this.imgViewerOffsetX=0-(window.innerWidth-e)/2:o>0&&(this.imgViewerOffsetX=(window.innerWidth-e)/2)}this.applyPosition()},applyPosition(){this.elements.viewer.style.transform="translateX(".concat(this.imgViewerOffsetX,"px) translateY(").concat(this.imgViewerOffsetY,"px) scale(").concat(this.imgViewerScale,")")},getPixelRatio(){try{const e=this.elements.viewer.width*this.imgViewerScale,t=this.elements.viewer.naturalWidth;return e&&t?e/t:1}catch(e){return console.log("Failed to get image display pixel ratio"),1}},init(){this.viewportContent=this.elements.viewport.getAttribute("content"),this.elements.container.onmousedown=e=>{e.button==0&&(this.imgViewerMouseMoved=!1,this.elements.viewer.style.transition="none")},this.elements.container.onmouseup=e=>{e.button==0&&(this.imgViewerMouseMoved||this.close(),this.elements.viewer.style.removeProperty("transition"),this.normalizePosition())},this.elements.container.onmouseleave=e=>{this.elements.viewer.style.removeProperty("transition"),this.normalizePosition()},this.elements.container.onmousemove=e=>{e.buttons==1&&(this.elements.viewer.style.transition="none",this.imgViewerOffsetX+=e.movementX,this.imgViewerOffsetY+=e.movementY,(e.movementX!=0||e.movementY!=0)&&(this.imgViewerMouseMoved=!0),this.applyPosition())},this.elements.container.onwheel=e=>{e.preventDefault();let t=1;e.deltaY<0?t=(1e3-e.deltaY)/1e3:t=1e3/(1e3+e.deltaY),this.imgViewerScale*=t;var s=e.clientX-window.innerWidth/2,n=e.clientY-window.innerHeight/2;be&&console.log(s,n),this.imgViewerOffsetX+=(t-1)*(this.imgViewerOffsetX-s),this.imgViewerOffsetY+=(t-1)*(this.imgViewerOffsetY-n),this.imgViewerScale<1&&(this.imgViewerScale=1),be&&console.log(this.imgViewerScale),this.normalizePosition(),this.getPixelRatio()>2?this.elements.viewer.style.imageRendering="pixelated":this.elements.viewer.style.removeProperty("image-rendering")}}};var $r=kt.view.bind(kt),pi=kt.close.bind(kt);try{kt.init()}catch(e){Ce(e,"Failed to init image viewer")}const dt={elements:{player:document.getElementById("musicAudio"),playerImg:document.getElementById("musicImg"),playBtn:document.getElementById("musicPlayBtn"),playingIndicators:document.getElementsByClassName("musicPlayingIndicator"),titles:document.getElementsByClassName("currentSong"),progress:document.getElementById("nowPlayingProgress").firstElementChild,list:document.getElementById("songList"),shuffleBtn:document.getElementById("musicShuffleBtn")},playList:[],playOrder:[],userPaused:!0,loadPlayList(e){this.elements.list.innerHTML="",Tr(e).then(t=>{this.playList=t.filter(s=>!(s.endsWith(".jpg")||s.endsWith(".disabled"))),this.playOrder=[],this.showPlayList(this.playList);try{this.setActiveSong(bs.getThemeMusic())}catch(s){this.setActiveSong(0)}})},showPlayList(e){for(let t of e)this.elements.list.appendChild(ce("\n                <li>".concat(Ns(t,!0),"</li>\n            ")))},setActiveSong(e){if(typeof e!="number"){for(let t=0;t<this.playList.length;t++)if(decodeURIComponent(this.playList[t]).includes(e)){e=t;break}}if(this.playList[e]!=null){this.elements.player.src=this.playList[e],this.elements.playerImg.src=this.playList[e]+".jpg",this.elements.playerImg.onclick=function(){$r(this.src)},this.elements.playerImg.onerror=function(){this.onerror=null,this.onclick=null,this.src="".concat(j,"res/music_note.svg")};for(let t=0;t<this.elements.titles.length;t++)this.elements.titles[t].textContent=Ns(this.playList[e],!0);for(let t=0;t<this.elements.list.children.length;t++)this.elements.list.children[t].classList.remove("playing");this.elements.list.children[e].classList.add("playing"),navigator.mediaSession&&(navigator.mediaSession.metadata=new MediaMetadata({title:Ns(this.playList[e],!0),artist:"MadoHomu.love",artwork:[{src:this.playList[e]+".jpg"}]}))}},getPlayingIndex(){for(let e=0;e<this.elements.list.children.length;e++)if(this.elements.list.children[e].classList.contains("playing"))return e;return 0},checkPlayOrder(){this.playOrder.length!=this.playList.length&&(this.playOrder=[...Array(this.playList.length).keys()],this.elements.shuffleBtn.checked&&Sr(this.playOrder))},play(e=null){e==null&&!this.elements.player.src&&(e=0),this.setActiveSong(e),this.elements.player.play(),this.userPaused=!1,Be("mutebgm",!1)},playNext(){this.checkPlayOrder(),this.play(Pr(this.playOrder,this.getPlayingIndex()))},playPrev(){this.checkPlayOrder(),this.play(Lr(this.playOrder,this.getPlayingIndex()))},pause(){this.userPaused=!0,Be("mutebgm",!0),this.elements.player.pause()},setVolume(e){this.elements.player.volume=e},initPlayer(e){this.loadPlayList(e),ke("mutebgm")=="true"?this.userPaused=!0:this.play(),this.elements.playBtn.onclick=()=>{this.elements.player.paused?this.play():this.pause()},this.elements.list.onclick=t=>{Array.from(this.elements.list.children).includes(t.target)&&this.play(Array.from(this.elements.list.children).indexOf(t.target))},this.elements.progress.parentNode.onclick=t=>{let s=t.offsetX/this.elements.progress.parentNode.offsetWidth;this.elements.player.currentTime=this.elements.player.duration*s,this.elements.progress.style.width="".concat(s*100,"%")},this.elements.shuffleBtn.onchange=()=>{this.playOrder=[]},this.elements.list.parentNode.parentNode.querySelector("button").onmouseenter=()=>{this.elements.list.querySelector(".playing").scrollIntoView({block:"center"})},this.elements.player.onplay=()=>{for(let t=0;t<this.elements.playingIndicators.length;t++)this.elements.playingIndicators[t].classList.add("playing")},this.elements.player.onpause=()=>{for(let t=0;t<this.elements.playingIndicators.length;t++)this.elements.playingIndicators[t].classList.remove("playing")},this.elements.player.onended=()=>{this.playNext()},document.addEventListener("click",()=>{!this.userPaused&&this.elements.player.paused&&this.play()}),setInterval(()=>{this.elements.progress.style.width="".concat(this.elements.player.currentTime/this.elements.player.duration*100,"%")},500),navigator.mediaSession&&(navigator.mediaSession.setActionHandler("play",()=>this.play()),navigator.mediaSession.setActionHandler("pause",()=>this.pause()),navigator.mediaSession.setActionHandler("previoustrack",()=>this.playPrev()),navigator.mediaSession.setActionHandler("nexttrack",()=>this.playNext()))}};try{dt.initPlayer("".concat(j,"media/bgm/"))}catch(e){Ce(e,"failed to init music player")}var Ot;document.addEventListener("click",e=>Ot=e);document.onkeydown=function(e){(e.key=="Escape"||e.keyCode==27)&&(kt.isOpen()?pi():ne.isOpen()?Xt():ae?br():Ee.forceLowerPanelDown())};(window.location.hash=="#view-img"||window.location.hash=="#popup")&&(window.location.hash="");if(location.hash.startsWith("#confirmemail=")){let e=location.hash.replace("#confirmemail=","");te.post("action",{id:e}).then(t=>{t.code==1&&(He.show({type:"success",msg:'<span class="ui zh">邮箱确认成功!</span><span class="ui en">Email confirmed successfully!</span>'}),location.hash="")})}if(location.hash.startsWith("#resetpassword=")){let e=location.hash.replace("#resetpassword=","");ne.show("setPasswordPopup",{passwordResetToken:e})}window.onhashchange=function(e){e.oldURL.split("#")[1]=="view-img"&&pi(),e.oldURL.split("#")[1]=="popup"&&e.newURL.split("#")[1]!="view-img"&&Xt()};const Br={init(){window.addEventListener("resize",this.detect)},detect(){let e=document.getElementById("msgText");e&&document.activeElement==e?!document.body.classList.contains("touchKeyboardShowing")&&document.getElementById("newCommentBox").offsetHeight<370*ot.pageScale&&(console.log("detected editing newComment with touch keyboard"),document.body.classList.add("touchKeyboardShowing")):document.body.classList.remove("touchKeyboardShowing")}};try{Br.init()}catch(e){Ce(e,"failed to init TouchKeyboardDetector")}var Mr=null;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),Mr=e});var _r=!1;_r=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");window.wallpaperPropertyListener={applyUserProperties(e){e.ui_scale&&(ot.pageScale=e.ui_scale.value/100),e.ui_bottom&&(document.getElementById("wallpaperEngineCSS").innerHTML="\n                #lowerPanel {\n                    padding-bottom: 0rem;\n                    transition: transform 0.5s, padding-bottom 0.5s;\n                }\n\n                #lowerPanel:hover, #lowerPanel.lowerPanelUp {\n                    padding-bottom: ".concat(e.ui_bottom.value/48*3,"rem;\n                }\n            ")),e.ui_volume&&dt.setVolume(e.ui_volume.value/100)}};window.jsLoaded=!0;const $c=Object.freeze(Object.defineProperty({__proto__:null,Comments:Ee,ImgViewer:kt,MusicPlayer:dt,NewMessage:ht,Popup:ne,Settings:ot,Theme:bs,TouchKeyboardDetector:Br,User:_e,XHR:te,baseUrl:j,bgContainer:On,changeGraphicsMode:yr,changeLang:gr,clearComments:pt,closeImgViewer:pi,closePopup:Xt,commentDiv:A,get commentsUpToDate(){return Es},compareArr:Ir,get debug(){return be},getArrayNextItem:Pr,getArrayPrevItem:Lr,getConfig:ke,getCookie:Un,getCurrentComment:ci,getFileListAsync:Tr,getFileNameWithoutExt:Ns,getFirstVisibleComment:Pt,getFullscreenHorizonalCommentCount:Hn,getMaxCommentID:ws,getMaxCommentTime:Wt,getMaxKamiID:It,getMinCommentID:zt,getMinCommentTime:li,getMinKamiID:Gs,getRandomIntInclusive:Er,hideTopCommentElmnt:Qs,hoverCalendarEl:me,html2elmnt:ce,htmlEscape:di,initCommentReplyQuote:ri,insertComment:ur,get installPrompt(){return Mr},isEmail:Lc,get isFullscreen(){return ae},get isInStandaloneMode(){return _r},lastBgImgs:is,get lastClickEvent(){return Ot},loadComments:J,loadNewerComments:fr,loadOlderComments:dr,loadTimeline:vr,loadUserInfo:ds,loadingIndicator:Rn,loadingIndicatorBefore:Dn,logErr:Ce,lowerPanel:Se,get maxTimelineTime(){return fs},msgBgCount:mi,msgBgInfo:Ut,newComment:mr,obj2queryString:Js,playBG:xc,playWalpurgis:hr,previewLocalImgs:Tc,printParaCharOneByOne:pr,readFile:kr,resizeImg:fi,seekComment:kc,sendMessage:Ic,setConfig:Be,setCookie:Pc,setHoverCalendarActiveDay:ui,setOneTimeCSS:xr,setTimelineActiveMonth:Cs,setTodayCommentCount:wr,showPopup:ai,showTimelineElmnt:Zs,showUserComment:fn,shuffleArray:Sr,toggleFullscreen:br,toggleTimeline:Cr,toggleTopComment:Sc,get topComment(){return Is},userCommentEl:qe,get userCommentIsKami(){return Et},get userCommentOffset(){return Ht},userCommentScroll:ns,get userCommentUser(){return At},viewImg:$r},Symbol.toStringTag,{value:"Module"})),Bc={data:()=>({baseUrl:j,screen:"usernameLogin",loginUsername:"",loginEmail:"",loginPassword:"",userFindResult:[],loginUser:null,regName:"",regEmail:"",regPassword:"",regPasswordConfirm:"",regUseEmail:!1,regRequireEmail:!1}),methods:{convertAvatarPath:_e.convertAvatarPath,searchUser(){XHR.get("user/find",{name:this.loginUsername,email:isEmail(this.loginUsername)?this.loginUsername:void 0}).then(e=>{this.userFindResult=e,e.length>0?this.screen="userFind":this.gotoRegister()})},gotoRegister(){this.screen="register",isEmail(this.loginUsername)?(this.regEmail=this.loginUsername,this.regUseEmail=!0):(this.regName=this.loginUsername,this.regUseEmail=!1),this.regRequireEmail=!1,this.userFindResult.forEach(e=>{e.hasEmail==!1&&(this.regUseEmail=!0,this.regRequireEmail=!0)})},previewAvatar(){resizeImg(this.$refs.avatarInput.files[0],1,200*200).then(e=>this.$refs.avatarPreview.src=e)},register(){XHR.post("user/register",{avatar:this.$refs.avatarPreview.src.split(";base64,")[1],name:this.regName,email:this.regUseEmail&&this.regEmail||void 0,password:this.regUseEmail&&this.regPassword||void 0}).then(e=>{e.code==1&&(XHR.token=e.data,setConfig("token",e.data),this.$emit("close"),loadUserInfo(),FloatMsgs.show({type:"success",msg:'<span class="ui zh">注册成功!</span><span class="ui en">Registration successful!</span>'}))})},userFindLogin(e){this.loginUser=this.userFindResult.length==1?this.userFindResult[0]:this.userFindResult[e],this.loginUser.hasEmail||this.loginUser.hasPassword?(this.screen="emailLogin",this.loginEmail=isEmail(this.loginUsername)&&this.loginUsername!=this.loginUser.name?this.loginUsername:"",this.loginPassword=""):this.login({name:this.loginUser.name})},emailLogin(){this.login({name:this.loginUser&&!this.loginUser.hasEmail?this.loginUser.name:void 0,email:this.loginEmail||void 0,password:this.loginPassword||void 0})},login(e){XHR.post("user/login",e).then(t=>{t.code==1&&(XHR.token=t.data,setConfig("token",t.data),this.$emit("close"),loadUserInfo(),FloatMsgs.show({type:"success",msg:'<span class="ui zh">登录成功!</span><span class="ui en">Login successful!</span>'}))})},gotoForgotPassword(){if(this.loginUser&&!this.loginUser.hasEmail){FloatMsgs.show({type:"warn",persist:!0,msg:'\n                            <span class="ui zh">该账号未绑定邮箱, 无法重置密码<br>请联系站长: 3112611479@qq.com</span>\n                            <span class="ui en">This account doesn\'t have an email, for password resets, you must contact: 3112611479@qq.com</span>'});return}Popup.show("promptInputPopup",{title:'<span class="ui zh">忘记密码</span><span class="ui en">Forgot password</span>',subtitle:'\n                            <span class="ui zh">输入你想要找回密码的邮箱<br>我们将发送一份重置密码的邮件, 然后您可以设置新密码</span>\n                            <span class="ui en">Enter the email you wish to recover password.<br>We will then send you a password reset link via email.</span>\n                            ',text:this.loginEmail,action(e){this.disabled=!0,XHR.post("user/resetpassword"+obj2queryString({email:e})).then(t=>{t.code==1&&(this.$emit("close"),FloatMsgs.show({type:"success",persist:!0,msg:'\n                                        <span class="ui zh">密码重置邮件已发送! 请检查收件箱</span>\n                                        <span class="ui en">A password reset link was sent to your email, check your inbox</span>'})),this.disabled=!1}).catch(()=>{this.disabled=!1})}})}}},Mc={class:"loginPopup"},_c={key:0},Ac=["disabled"],Hc={key:1},Uc={class:"emailLoginInfo"},Oc=["src"],Rc={key:0,class:"inputHelperText"},Dc={key:1,class:"inputHelperText"},Fc={class:"inputHelperText"},Nc=["disabled"],Vc={key:2},zc={key:0},Wc={key:1},Kc=["onClick"],jc={class:"userinfo"},qc=["src"],Yc={class:"username"},Xc={class:"userdetail"},Gc={class:"actionBtnContainer"},Jc={key:3},Qc=["src"],Zc={class:"setting-switch",style:{margin:"0.25rem 0"}},eu=["disabled"],tu={key:0},su={key:0,class:"inputHelperText"},nu={key:1,class:"inputHelperText"},iu=["disabled"];function ou(e,t,s,n,i,o){return k(),M("div",Mc,[e.screen=="usernameLogin"?(k(),M("div",_c,[t[26]||(t[26]=Hi('<h2><span class="ui zh">注册/登录</span><span class="ui en">Log in / Register</span></h2><div class="inputHelperText"><span class="ui zh">用户名 (昵称)</span><span class="ui en">Username (nickname)</span></div>',2)),$e(d("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>e.loginUsername=r),autocomplete:"username",style:{"margin-bottom":"0"},onKeypress:t[1]||(t[1]=r=>r.key=="Enter"&&e.loginUsername.length>0&&o.searchUser())},null,544),[[Ke,e.loginUsername]]),t[27]||(t[27]=d("div",{class:"inputHelperText",style:{margin:"0.375rem 0 1rem"}},[d("span",{class:"ui zh"},"未注册的用户将自动注册"),d("span",{class:"ui en"},"Newcomers will create an account automatically")],-1)),d("p",{class:"altLoginOption",onClick:t[2]||(t[2]=r=>{e.screen="emailLogin",e.loginUser=null})},t[24]||(t[24]=[d("span",{class:"ui zh"},"邮箱登录",-1),d("span",{class:"ui en"},"Email login",-1)])),d("button",{class:"okBtn",disabled:e.loginUsername.length==0,onClick:t[3]||(t[3]=r=>o.searchUser())},t[25]||(t[25]=[d("span",{class:"ui zh"},"下一步 →",-1),d("span",{class:"ui en"},"Continue →",-1)]),8,Ac)])):Z("",!0),e.screen=="emailLogin"?(k(),M("div",Hc,[t[37]||(t[37]=d("h2",null,[d("span",{class:"ui zh"},"邮箱登录"),d("span",{class:"ui en"},"Log in with email")],-1)),d("form",null,[e.loginUser?(k(),M(se,{key:0},[d("div",Uc,[d("img",{src:o.convertAvatarPath(e.loginUser.avatar)},null,8,Oc),d("div",null,we(e.loginUser.name),1)]),e.loginUser.hasEmail?(k(),M("div",Rc,t[28]||(t[28]=[d("span",{class:"ui zh"},[oe("该账号已绑定邮箱"),d("br"),oe("在下方输入绑定的邮箱以登录:")],-1),d("span",{class:"ui en"},[oe("This account is linked to an email"),d("br"),oe("Enter your email to log in:")],-1)]))):Z("",!0)],64)):(k(),M("div",Dc,t[29]||(t[29]=[d("span",{class:"ui zh"},"邮箱",-1),d("span",{class:"ui en"},"Email",-1)]))),!e.loginUser||e.loginUser.hasEmail?$e((k(),M("input",{key:2,type:"text","onUpdate:modelValue":t[4]||(t[4]=r=>e.loginEmail=r),autocomplete:"email"},null,512)),[[Ke,e.loginEmail]]):Z("",!0),!e.loginUser||e.loginUser.hasPassword?(k(),M(se,{key:3},[d("div",Fc,[e.loginUser?(k(),M(se,{key:0},[t[30]||(t[30]=d("span",{class:"ui zh"},"密码",-1)),t[31]||(t[31]=d("span",{class:"ui en"},"Password",-1))],64)):(k(),M(se,{key:1},[t[32]||(t[32]=d("span",{class:"ui zh"},"密码 (没有可不填)",-1)),t[33]||(t[33]=d("span",{class:"ui en"},"Password (omit if not set)",-1))],64)),d("span",{class:"help",onClick:t[5]||(t[5]=(...r)=>o.gotoForgotPassword&&o.gotoForgotPassword(...r))},t[34]||(t[34]=[d("span",{class:"ui zh"},"忘记密码",-1),d("span",{class:"ui en"},"Forgot password",-1)]))]),$e(d("input",{type:"password","onUpdate:modelValue":t[6]||(t[6]=r=>e.loginPassword=r),autocomplete:"current-password",onKeypress:t[7]||(t[7]=r=>r.key=="Enter"&&(e.loginEmail.length>0||e.loginPassword.length>0)&&o.emailLogin())},null,544),[[Ke,e.loginPassword]])],64)):Z("",!0)]),e.loginUser?Z("",!0):(k(),M("p",{key:0,class:"altLoginOption",onClick:t[8]||(t[8]=r=>e.screen="usernameLogin")},t[35]||(t[35]=[d("span",{class:"ui zh"},"用户名登录",-1),d("span",{class:"ui en"},"Username login",-1)]))),d("button",{class:"okBtn",disabled:e.loginEmail.length==0&&e.loginPassword.length==0,onClick:t[9]||(t[9]=r=>o.emailLogin())},t[36]||(t[36]=[d("span",{class:"ui zh"},"下一步 →",-1),d("span",{class:"ui en"},"Continue →",-1)]),8,Nc),e.loginUser?(k(),M("button",{key:1,class:"backBtn",onClick:t[10]||(t[10]=r=>e.screen="userFind")})):Z("",!0)])):Z("",!0),e.screen=="userFind"?(k(),M("div",Vc,[e.userFindResult.length==1?(k(),M("h2",zc,t[38]||(t[38]=[d("span",{class:"ui zh"},"这是您的账号吗?",-1),d("span",{class:"ui en"},"Is this your account?",-1)]))):(k(),M("h2",Wc,t[39]||(t[39]=[d("span",{class:"ui zh"},"哪个是您的账号?",-1),d("span",{class:"ui en"},"Which account is yours?",-1)]))),(k(!0),M(se,null,gs(e.userFindResult,(r,l)=>(k(),M("div",{class:"userFindItem",onClick:a=>e.userFindResult.length>1&&o.userFindLogin(l)},[d("div",jc,[d("img",{src:o.convertAvatarPath(r.avatar)},null,8,qc),d("div",null,[d("div",Yc,we(r.name),1),d("div",Xc,[d("span",null,"UID: "+we(r.id)+"  ",1),d("span",null,[t[40]||(t[40]=d("span",{class:"ui zh"},"注册时间: ",-1)),t[41]||(t[41]=d("span",{class:"ui en"},"Joined ",-1)),oe(" "+we(new Date(r.create_time*1e3).toLocaleDateString()),1)])])])])],8,Kc))),256)),d("div",Gc,[e.userFindResult.length==1?(k(),M("button",{key:0,onClick:t[11]||(t[11]=r=>o.gotoRegister())},t[42]||(t[42]=[d("span",{class:"ui zh"},"不, 注册新账号",-1),d("span",{class:"ui en"},"No, register new account",-1)]))):Z("",!0),e.userFindResult.length==1?(k(),M("button",{key:1,onClick:t[12]||(t[12]=r=>o.userFindLogin())},t[43]||(t[43]=[d("span",{class:"ui zh"},"是, 立即登录",-1),d("span",{class:"ui en"},"Yes, log in now",-1)]))):(k(),M("p",{key:2,onClick:t[13]||(t[13]=r=>o.gotoRegister())},t[44]||(t[44]=[d("span",{class:"ui zh"},"都不是, 注册新账号",-1),d("span",{class:"ui en"},"None is mine, register new account",-1)])))]),d("button",{class:"backBtn",onClick:t[14]||(t[14]=r=>e.screen="usernameLogin")})])):Z("",!0),e.screen=="register"?(k(),M("div",Jc,[t[52]||(t[52]=d("h2",null,[d("span",{class:"ui zh"},"注册账号"),d("span",{class:"ui en"},"Registration")],-1)),d("img",{ref:"avatarPreview",class:"setAvatarImg",src:"".concat(e.baseUrl,"api/data/images/defaultAvatar.png"),onClick:t[15]||(t[15]=r=>e.$refs.avatarInput.click()),style:{"margin-bottom":"0"}},null,8,Qc),d("input",{ref:"avatarInput",type:"file",accept:"image/*",onChange:t[16]||(t[16]=r=>o.previewAvatar()),style:{display:"none"}},null,544),t[53]||(t[53]=Hi('<div class="inputHelperText" style="text-align:center;margin:0.25rem 0;"><span class="ui zh">点击设置头像</span><span class="ui en">Tap to set avatar</span></div><div class="inputHelperText"><span class="ui zh">昵称</span><span class="ui en">Enter a nickname</span></div>',2)),$e(d("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=r=>e.regName=r)},null,512),[[Ke,e.regName]]),d("label",Zc,[t[45]||(t[45]=d("span",{class:"ui zh"},"绑定邮箱",-1)),t[46]||(t[46]=d("span",{class:"ui en"},"Link email",-1)),$e(d("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=r=>e.regUseEmail=r),disabled:e.regRequireEmail},null,8,eu),[[ii,e.regUseEmail]])]),e.regUseEmail?(k(),M("form",tu,[e.regRequireEmail?(k(),M("div",su,t[47]||(t[47]=[d("span",{class:"ui zh"},[oe("该昵称已被使用"),d("br"),oe("要使用重复的昵称，必须绑定邮箱")],-1),d("span",{class:"ui en"},[oe("This nickname is already taken"),d("br"),oe("To use a same name, you must provide an email")],-1)]))):(k(),M("div",nu,t[48]||(t[48]=[d("span",{class:"ui zh"},"邮箱",-1),d("span",{class:"ui en"},"Enter your email",-1)]))),$e(d("input",{type:"text","onUpdate:modelValue":t[19]||(t[19]=r=>e.regEmail=r),autocomplete:"email"},null,512),[[Ke,e.regEmail]]),t[50]||(t[50]=d("div",{class:"inputHelperText"},[d("span",{class:"ui zh"},"设置密码 (可选)"),d("span",{class:"ui en"},"Password (optional)")],-1)),$e(d("input",{type:"password","onUpdate:modelValue":t[20]||(t[20]=r=>e.regPassword=r),autocomplete:"current-password"},null,512),[[Ke,e.regPassword]]),e.regPassword.length>0?(k(),M(se,{key:2},[t[49]||(t[49]=d("div",{class:"inputHelperText"},[d("span",{class:"ui zh"},"确认密码"),d("span",{class:"ui en"},"Confirm password")],-1)),$e(d("input",{type:"password","onUpdate:modelValue":t[21]||(t[21]=r=>e.regPasswordConfirm=r)},null,512),[[Ke,e.regPasswordConfirm]])],64)):Z("",!0)])):Z("",!0),d("button",{class:"okBtn",disabled:e.regName.length==0||e.regUseEmail&&(e.regEmail.length==0||e.regPassword.length>0&&e.regPassword!=e.regPasswordConfirm),onClick:t[22]||(t[22]=r=>o.register())},t[51]||(t[51]=[d("span",{class:"ui zh"},"注册 →",-1),d("span",{class:"ui en"},"Register →",-1)]),8,iu),d("button",{class:"backBtn",onClick:t[23]||(t[23]=r=>e.screen=e.userFindResult.length==0?"usernameLogin":"userFind")})])):Z("",!0)])}const ru=Bt(Bc,[["render",ou]]),lu={props:["title","subtitle","text","action"],data:()=>({value:"",disabled:!1}),methods:{submit(){this.submitAction(this.value)},submitAction(e){console.log(e),this.$emit("close")}},mounted(){this.text&&(this.value=this.text),this.action&&(this.submitAction=this.action)}},au=["innerHTML"],cu=["innerHTML"],uu=["disabled"];function du(e,t,s,n,i,o){return k(),M("div",null,[d("h2",{innerHTML:s.title},null,8,au),d("div",{innerHTML:s.subtitle,class:"inputHelperText"},null,8,cu),$e(d("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>e.value=r),onKeypress:t[1]||(t[1]=r=>r.key=="Enter"&&e.value.length>0&&o.submit())},null,544),[[Ke,e.value]]),d("button",{class:"okBtn",disabled:e.value.length==0||e.disabled,onClick:t[2]||(t[2]=r=>o.submit())},t[3]||(t[3]=[d("span",{class:"ui zh"},"确定 ✔",-1),d("span",{class:"ui en"},"OK ✔",-1)]),8,uu)])}const fu=Bt(lu,[["render",du]]),mu={methods:{previewAvatar(){resizeImg(this.$refs.input.files[0],1,200*200).then(e=>this.$refs.preview.src=e)},uploadAvatar(){let e=this.$refs.preview.src.split(";base64,")[1];e?XHR.put("user/update",{avatar:e}).then(t=>{t.code==1&&(this.$emit("close"),FloatMsgs.show({type:"success",msg:'<span class="ui zh">上传成功</span><span class="ui en">Uploaded successfully</span>'}),loadUserInfo())}):this.$emit("close")}},mounted(){User.getMe().then(e=>this.$refs.preview.src=User.convertAvatarPath(e.avatar))}},pu={class:"setAvatarPopup"},hu={ref:"preview",class:"setAvatarImg",onclick:"viewImg(this.src)"};function gu(e,t,s,n,i,o){return k(),M("div",pu,[t[3]||(t[3]=d("h2",null,[d("span",{class:"ui zh"},"设置头像"),d("span",{class:"ui en"},"Set avatar")],-1)),d("img",hu,null,512),d("input",{ref:"input",type:"file",accept:"image/*",onChange:t[0]||(t[0]=r=>o.previewAvatar())},null,544),t[4]||(t[4]=d("br",null,null,-1)),d("button",{class:"okBtn",onClick:t[1]||(t[1]=r=>o.uploadAvatar())},t[2]||(t[2]=[d("span",{class:"ui zh"},"确定 ✔",-1),d("span",{class:"ui en"},"OK ✔",-1)]))])}const yu=Bt(mu,[["render",gu]]),vu={props:["passwordResetToken"],data:()=>({password:"",passwordConfirm:"",showPassword:!1,userHasEmail:!0}),methods:{submit(){this.passwordResetToken?XHR.post("action",{id:this.passwordResetToken,data:this.password}).then(e=>{e.code==1&&(this.$emit("close"),FloatMsgs.show({type:"success",msg:'<span class="ui zh">密码重置成功! 请重新登录</span><span class="ui en">Password reset successfully! Try log in again</span>'}),location.hash="")}):XHR.put("user/update",{password:this.password}).then(e=>{e.code==1&&(this.$emit("close"),FloatMsgs.show({type:"success",msg:'<span class="ui zh">密码修改成功</span><span class="ui en">Password updated successfully</span>'}))})}},mounted(){this.passwordResetToken||User.getMe().then(e=>this.userHasEmail=e.hasEmail)}},wu={key:0,class:"inputHelperText",style:{color:"red","font-weight":"bold"}},bu=["type"],Cu=["type"],Eu={class:"setting-switch",style:{margin:"0.25rem 0"}},Iu=["disabled"];function Tu(e,t,s,n,i,o){return k(),M("div",null,[t[8]||(t[8]=d("h2",null,[d("span",{class:"ui zh"},"设置新密码"),d("span",{class:"ui en"},"Set new password")],-1)),e.userHasEmail?Z("",!0):(k(),M("div",wu,t[4]||(t[4]=[d("span",{class:"ui zh"},[oe("该账号未绑定邮箱, 设置密码后, 一旦忘记密码将无法找回"),d("br"),oe("建议先绑定邮箱再设置密码")],-1),d("span",{class:"ui en"},[oe("This account doesn't have an email, which means you won't be able to reset password if you forget it."),d("br"),oe("It's strongly recommended to link an email before you proceed.")],-1),d("br",null,null,-1),d("br",null,null,-1)]))),t[9]||(t[9]=d("div",{class:"inputHelperText"},[d("span",{class:"ui zh"},"新密码"),d("span",{class:"ui en"},"Enter new password")],-1)),$e(d("input",{type:e.showPassword?"text":"password","onUpdate:modelValue":t[0]||(t[0]=r=>e.password=r),autocomplete:"new-password"},null,8,bu),[[Qi,e.password]]),t[10]||(t[10]=d("div",{class:"inputHelperText"},[d("span",{class:"ui zh"},"确认密码"),d("span",{class:"ui en"},"Confirm password")],-1)),$e(d("input",{type:e.showPassword?"text":"password","onUpdate:modelValue":t[1]||(t[1]=r=>e.passwordConfirm=r)},null,8,Cu),[[Qi,e.passwordConfirm]]),d("label",Eu,[t[5]||(t[5]=d("span",{class:"ui zh"},"显示密码",-1)),t[6]||(t[6]=d("span",{class:"ui en"},"Show password",-1)),$e(d("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=r=>e.showPassword=r)},null,512),[[ii,e.showPassword]])]),d("button",{class:"okBtn",disabled:e.password&&e.password!=e.passwordConfirm,onClick:t[3]||(t[3]=r=>o.submit())},t[7]||(t[7]=[d("span",{class:"ui zh"},"确定 ✔",-1),d("span",{class:"ui en"},"OK ✔",-1)]),8,Iu)])}const Su=Bt(vu,[["render",Tu]]),Pu={props:["id","name","avatar"],data:()=>({baseUrl:j,user:{},showAction:!0,comments:[],scrollPaused:!1,toEnd:!1}),methods:{convertAvatarPath:_e.convertAvatarPath,getUser(){XHR.get(this.id?"user/find":"user/me",{id:this.id}).then(e=>{let t=Array.isArray(e)?e[0]:e;t?(this.user=t,this.showAction=this.user.id==_e.LoggedOnUserId,this.getComments()):FloatMsgs.show({type:"warn",msg:'<span class="ui zh">找不到用户</span><span class="ui en">User not found</span> (ID: '.concat(this.id,")")})})},getComments(){this.scrollPaused=!0,XHR.get("comments",{uid:this.user.id,from:this.comments.length,count:50}).then(e=>{e.forEach(t=>{let s=new Date(t.time*1e3);t.timeStr=s.toLocaleDateString()+" "+s.toLocaleTimeString(),typeof t.image=="string"&&t.image?t.image=t.image.split(","):t.image=[],this.comments.push(t)}),e.length<10?this.toEnd=!0:this.scrollPaused=!1}).catch(()=>{this.scrollPaused=!1})},scroll(e){this.scrollPaused||e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<100&&this.getComments()},gotoComment(e){clearComments(1),loadComments({from:this.comments[e].id}),closePopup()}},mounted(){this.user={id:this.id,name:this.name,avatar:this.avatar},this.getUser()}},Lu={class:"userinfo"},xu=["src"],ku={key:0,class:"useraction"},$u=["src"],Bu=["src"],Mu=["onClick"],_u=["src"],Au={key:1},Hu={class:"ui zh"},Uu={class:"ui en"};function Ou(e,t,s,n,i,o){return k(),M("div",{class:"userHome",onScroll:t[0]||(t[0]=(...r)=>o.scroll&&o.scroll(...r))},[d("div",Lu,[d("img",{src:o.convertAvatarPath(e.user.avatar),onclick:"viewImg(this.src)"},null,8,xu),d("div",null,[d("div",null,we(e.user.name),1),d("div",null,[d("span",null,"UID: "+we(e.user.id)+"  ",1),d("span",null,[t[1]||(t[1]=d("span",{class:"ui zh"},"注册时间: ",-1)),t[2]||(t[2]=d("span",{class:"ui en"},"Joined ",-1)),oe(" "+we(new Date(e.user.create_time*1e3).toLocaleDateString()),1)])])])]),e.showAction?(k(),M("div",ku,[d("div",null,[d("img",{src:"".concat(e.baseUrl,"res/edit.svg")},null,8,$u),t[3]||(t[3]=d("span",{class:"ui zh"},"编辑资料",-1)),t[4]||(t[4]=d("span",{class:"ui en"},"Edit profile",-1)),t[5]||(t[5]=d("ul",null,[d("li",{onclick:"User.changeName()"},[d("span",{class:"ui zh"},"修改昵称"),d("span",{class:"ui en"},"Change nickname")]),d("li",{onclick:"User.changeAvatar()"},[d("span",{class:"ui zh"},"修改头像"),d("span",{class:"ui en"},"Change avatar")]),d("li",{onclick:"User.changeEmail()"},[d("span",{class:"ui zh"},"修改邮箱"),d("span",{class:"ui en"},"Change email")]),d("li",{onclick:"User.changePassword()"},[d("span",{class:"ui zh"},"修改密码"),d("span",{class:"ui en"},"Change password")])],-1))]),d("div",null,[d("img",{src:"".concat(e.baseUrl,"res/logout.svg")},null,8,Bu),t[6]||(t[6]=d("span",{class:"ui zh"},"退出登录",-1)),t[7]||(t[7]=d("span",{class:"ui en"},"Log out",-1)),t[8]||(t[8]=d("ul",null,[d("li",{onclick:"User.logout()"},[d("span",{class:"ui zh"},"退出登录 (当前设备)"),d("span",{class:"ui en"},"Log out (from this device)")]),d("li",{onclick:"User.resetToken()",style:{color:"red"}},[d("span",{class:"ui zh"},"退出登录 (所有设备)"),d("span",{class:"ui en"},"Log out (from all devices)")])],-1))])])):Z("",!0),(k(!0),M(se,null,gs(e.comments,(r,l)=>(k(),M("div",{key:r.source+r.id,class:"userCommentItem"},[d("p",null,[oe(we(r.timeStr),1),d("span",null,"#"+we(r.id),1)]),d("p",null,[d("span",{onClick:a=>o.gotoComment(l)},we(r.comment),9,Mu),t[9]||(t[9]=d("i",null,null,-1)),(k(!0),M(se,null,gs(r.image,a=>(k(),M("img",{src:"".concat(e.baseUrl,"api/data/images/posts/").concat(a,".jpg"),loading:"lazy",onclick:"viewImg(this.src)"},null,8,_u))),256))])]))),128)),e.toEnd?(k(),M("h4",Au,[d("span",Hu,"- 共 "+we(e.comments.length)+" 条留言 -",1),d("span",Uu,"- Total "+we(e.comments.length)+" messages -",1)])):Z("",!0)],32)}const Ru=Bt(Pu,[["render",Ou]]);Yt.component("loginPopup",ru);Yt.component("promptInputPopup",fu);Yt.component("setAvatarPopup",yu);Yt.component("setPasswordPopup",Su);Yt.component("userHome",Ru);const Du={FloatMsgs:He},to="Vue 3 loaded",Fu=xl({__name:"App",setup(e){return console.log(to),(t,s)=>we(to)}});Object.assign(window,$c);Object.assign(window,Du);oi(Fu).mount("#app");export{Vu as __vite_legacy_guard};
