!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,i,r,a,o=[],l=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(s=r.call(n)).done)&&(o.push(s.value),o.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=n(e))||t&&e&&"number"==typeof e.length){s&&(e=s);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){s=s.call(e)},n:function(){var e=s.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==s.return||s.return()}finally{if(l)throw a}}}}function n(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}System.register([],(function(n,s){"use strict";return{execute:function(){var n=document.createElement("style");
/**
      * @vue/shared v3.5.16
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/
/*! #__NO_SIDE_EFFECTS__ */
function s(e){var n,s=Object.create(null),i=t(e.split(","));try{for(i.s();!(n=i.n()).done;){var r=n.value;s[r]=1}}catch(a){i.e(a)}finally{i.f()}return e=>e in s}n.textContent='#app{display:none}#floatMsgs{top:15%;left:0;right:0;display:flex;align-items:center;flex-flow:column;pointer-events:none}#floatMsgs>div{margin:0 0 .75rem;padding:.5rem .75rem;background-color:rgba(255,255,255,.7);backdrop-filter:blur(.5rem);border-radius:.5rem;box-sizing:border-box;max-width:80vw;display:flex;flex-flow:row;gap:.5rem;align-items:center;box-shadow:0 .125rem .5rem rgba(0,0,0,.5);animation:floatMsgFlyin .3s}#floatMsgs>div.success{background-color:rgba(200,255,200,.75)}#floatMsgs>div.warn{background-color:rgba(255,255,200,.75)}#floatMsgs>div.error{background-color:rgba(255,200,200,.75)}#floatMsgs>div.persist{pointer-events:all}#floatMsgs>div>i{user-select:none;font-style:normal;flex-shrink:0}#floatMsgs>div>span{min-width:0}#floatMsgs .closeBtn{display:block;width:.825em;height:.825em;line-height:.625em;font-size:1.6rem;font-family:Arial;box-sizing:border-box;padding:.125em;border:none;background-color:rgba(0,0,0,.1);border-radius:100%}#floatMsgs .closeBtn:after{content:"Ã—"}#floatMsgs .closeBtn:hover{background-color:rgba(0,0,0,.3)}#floatMsgs .closeBtn:active{background-color:rgba(0,0,0,.5)}@keyframes floatMsgFlyin{0%{opacity:0;transform:translateY(-50%)}to{opacity:1;transform:translateY(0)}}\n/*$vite$:1*/',document.head.appendChild(n);var i,r={},a=[],o=()=>{},l=()=>!1,c=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u=e=>e.startsWith("onUpdate:"),d=Object.assign,p=(e,t)=>{var n=e.indexOf(t);n>-1&&e.splice(n,1)},m=Object.prototype.hasOwnProperty,h=(e,t)=>m.call(e,t),g=Array.isArray,v=e=>"[object Map]"===I(e),f=e=>"[object Set]"===I(e),y=e=>"[object Date]"===I(e),w=e=>"function"==typeof e,b=e=>"string"==typeof e,k=e=>"symbol"==typeof e,C=e=>null!==e&&"object"==typeof e,E=e=>(C(e)||w(e))&&w(e.then)&&w(e.catch),x=Object.prototype.toString,I=e=>x.call(e),_=e=>"[object Object]"===I(e),T=e=>b(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,S=s(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),L=e=>{var t=Object.create(null);return n=>t[n]||(t[n]=e(n))},P=/-(\w)/g,B=L((e=>e.replace(P,((e,t)=>t?t.toUpperCase():"")))),M=/\B([A-Z])/g,$=L((e=>e.replace(M,"-$1").toLowerCase())),A=L((e=>e.charAt(0).toUpperCase()+e.slice(1))),U=L((e=>e?`on${A(e)}`:"")),O=(e,t)=>!Object.is(e,t),H=(e,...t)=>{for(var n=0;n<e.length;n++)e[n](...t)},R=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},D=e=>{var t=parseFloat(e);return isNaN(t)?e:t},F=()=>i||(i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function N(e){if(g(e)){for(var t={},n=0;n<e.length;n++){var s=e[n],i=b(s)?q(s):N(s);if(i)for(var r in i)t[r]=i[r]}return t}if(b(e)||C(e))return e}var z=/;(?![^(]*\))/g,V=/:([^]+)/,j=/\/\*[^]*?\*\//g;function q(e){var t={};return e.replace(j,"").split(z).forEach((e=>{if(e){var n=e.split(V);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function W(e){var t="";if(b(e))t=e;else if(g(e))for(var n=0;n<e.length;n++){var s=W(e[n]);s&&(t+=s+" ")}else if(C(e))for(var i in e)e[i]&&(t+=i+" ");return t.trim()}var Y=s("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function X(e){return!!e||""===e}function K(e,t){if(e===t)return!0;var n=y(e),s=y(t);if(n||s)return!(!n||!s)&&e.getTime()===t.getTime();if(n=k(e),s=k(t),n||s)return e===t;if(n=g(e),s=g(t),n||s)return!(!n||!s)&&function(e,t){if(e.length!==t.length)return!1;for(var n=!0,s=0;n&&s<e.length;s++)n=K(e[s],t[s]);return n}(e,t);if(n=C(e),s=C(t),n||s){if(!n||!s)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e){var r=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(r&&!a||!r&&a||!K(e[i],t[i]))return!1}}return String(e)===String(t)}function G(e,t){return e.findIndex((e=>K(e,t)))}var Q,J,Z=e=>!(!e||!0!==e.__v_isRef),ee=e=>b(e)?e:null==e?"":g(e)||C(e)&&(e.toString===x||!w(e.toString))?Z(e)?ee(e.value):JSON.stringify(e,te,2):String(e),te=(e,t)=>Z(t)?te(e,t.value):v(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],s)=>(e[ne(t,s)+" =>"]=n,e)),{})}:f(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>ne(e)))}:k(t)?ne(t):!C(t)||g(t)||_(t)?t:String(t),ne=(e,t="")=>{var n;return k(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};class se{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Q,!e&&Q&&(this.index=(Q.scopes||(Q.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){var e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){var e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){var t=Q;try{return Q=this,e()}finally{Q=t}}}on(){1===++this._on&&(this.prevScope=Q,Q=this)}off(){this._on>0&&0===--this._on&&(Q=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){var t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){var s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}var ie=new WeakSet;class re{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Q&&Q.active&&Q.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ie.has(this)&&(ie.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||ce(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,Ce(this),pe(this);var e=J,t=ye;J=this,ye=!0;try{return this.fn()}finally{me(this),J=e,ye=t,this.flags&=-3}}stop(){if(1&this.flags){for(var e=this.deps;e;e=e.nextDep)ve(e);this.deps=this.depsTail=void 0,Ce(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ie.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){he(this)&&this.run()}get dirty(){return he(this)}}var ae,oe,le=0;function ce(e,t=!1){if(e.flags|=8,t)return e.next=oe,void(oe=e);e.next=ae,ae=e}function ue(){le++}function de(){if(!(--le>0)){if(oe){var e=oe;for(oe=void 0;e;){var t=e.next;e.next=void 0,e.flags&=-9,e=t}}for(var n;ae;){var s=ae;for(ae=void 0;s;){var i=s.next;if(s.next=void 0,s.flags&=-9,1&s.flags)try{s.trigger()}catch(r){n||(n=r)}s=i}}if(n)throw n}}function pe(e){for(var t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function me(e){for(var t,n=e.depsTail,s=n;s;){var i=s.prevDep;-1===s.version?(s===n&&(n=i),ve(s),fe(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function he(e){for(var t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ge(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ge(e){if((!(4&e.flags)||16&e.flags)&&(e.flags&=-17,e.globalVersion!==Ee&&(e.globalVersion=Ee,e.isSSR||!(128&e.flags)||(e.deps||e._dirty)&&he(e)))){e.flags|=2;var t=e.dep,n=J,s=ye;J=e,ye=!0;try{pe(e);var i=e.fn(e._value);(0===t.version||O(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(r){throw t.version++,r}finally{J=n,ye=s,me(e),e.flags&=-3}}}function ve(e,t=!1){var n=e.dep,s=e.prevSub,i=e.nextSub;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(var r=n.computed.deps;r;r=r.nextDep)ve(r,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function fe(e){var t=e.prevDep,n=e.nextDep;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}var ye=!0,we=[];function be(){we.push(ye),ye=!1}function ke(){var e=we.pop();ye=void 0===e||e}function Ce(e){var t=e.cleanup;if(e.cleanup=void 0,t){var n=J;J=void 0;try{t()}finally{J=n}}}var Ee=0;class xe{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ie{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(J&&ye&&J!==this.computed){var t=this.activeLink;if(void 0===t||t.sub!==J)t=this.activeLink=new xe(J,this),J.deps?(t.prevDep=J.depsTail,J.depsTail.nextDep=t,J.depsTail=t):J.deps=J.depsTail=t,_e(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){var n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=J.depsTail,t.nextDep=void 0,J.depsTail.nextDep=t,J.depsTail=t,J.deps===t&&(J.deps=n)}return t}}trigger(e){this.version++,Ee++,this.notify(e)}notify(e){ue();try{0;for(var t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{de()}}}function _e(e){if(e.dep.sc++,4&e.sub.flags){var t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(var n=t.deps;n;n=n.nextDep)_e(n)}var s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}var Te=new WeakMap,Se=Symbol(""),Le=Symbol(""),Pe=Symbol("");function Be(e,t,n){if(ye&&J){var s=Te.get(e);s||Te.set(e,s=new Map);var i=s.get(n);i||(s.set(n,i=new Ie),i.map=s,i.key=n),i.track()}}function Me(e,t,n,s,i,r){var a=Te.get(e);if(a){var o=e=>{e&&e.trigger()};if(ue(),"clear"===t)a.forEach(o);else{var l=g(e),c=l&&T(n);if(l&&"length"===n){var u=Number(s);a.forEach(((e,t)=>{("length"===t||t===Pe||!k(t)&&t>=u)&&o(e)}))}else switch((void 0!==n||a.has(void 0))&&o(a.get(n)),c&&o(a.get(Pe)),t){case"add":l?c&&o(a.get("length")):(o(a.get(Se)),v(e)&&o(a.get(Le)));break;case"delete":l||(o(a.get(Se)),v(e)&&o(a.get(Le)));break;case"set":v(e)&&o(a.get(Se))}}de()}else Ee++}function $e(e){var t=ft(e);return t===e?t:(Be(t,0,Pe),gt(e)?t:t.map(yt))}function Ae(e){return Be(e=ft(e),0,Pe),e}var Ue={__proto__:null,[Symbol.iterator](){return Oe(this,Symbol.iterator,yt)},concat(...e){return $e(this).concat(...e.map((e=>g(e)?$e(e):e)))},entries(){return Oe(this,"entries",(e=>(e[1]=yt(e[1]),e)))},every(e,t){return Re(this,"every",e,t,void 0,arguments)},filter(e,t){return Re(this,"filter",e,t,(e=>e.map(yt)),arguments)},find(e,t){return Re(this,"find",e,t,yt,arguments)},findIndex(e,t){return Re(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Re(this,"findLast",e,t,yt,arguments)},findLastIndex(e,t){return Re(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Re(this,"forEach",e,t,void 0,arguments)},includes(...e){return Fe(this,"includes",e)},indexOf(...e){return Fe(this,"indexOf",e)},join(e){return $e(this).join(e)},lastIndexOf(...e){return Fe(this,"lastIndexOf",e)},map(e,t){return Re(this,"map",e,t,void 0,arguments)},pop(){return Ne(this,"pop")},push(...e){return Ne(this,"push",e)},reduce(e,...t){return De(this,"reduce",e,t)},reduceRight(e,...t){return De(this,"reduceRight",e,t)},shift(){return Ne(this,"shift")},some(e,t){return Re(this,"some",e,t,void 0,arguments)},splice(...e){return Ne(this,"splice",e)},toReversed(){return $e(this).toReversed()},toSorted(e){return $e(this).toSorted(e)},toSpliced(...e){return $e(this).toSpliced(...e)},unshift(...e){return Ne(this,"unshift",e)},values(){return Oe(this,"values",yt)}};function Oe(e,t,n){var s=Ae(e),i=s[t]();return s===e||gt(e)||(i._next=i.next,i.next=()=>{var e=i._next();return e.value&&(e.value=n(e.value)),e}),i}var He=Array.prototype;function Re(e,t,n,s,i,r){var a=Ae(e),o=a!==e&&!gt(e),l=a[t];if(l!==He[t]){var c=l.apply(e,r);return o?yt(c):c}var u=n;a!==e&&(o?u=function(t,s){return n.call(this,yt(t),s,e)}:n.length>2&&(u=function(t,s){return n.call(this,t,s,e)}));var d=l.call(a,u,s);return o&&i?i(d):d}function De(e,t,n,s){var i=Ae(e),r=n;return i!==e&&(gt(e)?n.length>3&&(r=function(t,s,i){return n.call(this,t,s,i,e)}):r=function(t,s,i){return n.call(this,t,yt(s),i,e)}),i[t](r,...s)}function Fe(e,t,n){var s=ft(e);Be(s,0,Pe);var i=s[t](...n);return-1!==i&&!1!==i||!vt(n[0])?i:(n[0]=ft(n[0]),s[t](...n))}function Ne(e,t,n=[]){be(),ue();var s=ft(e)[t].apply(e,n);return de(),ke(),s}var ze=s("__proto__,__v_isRef,__isVue"),Ve=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(k));function je(e){k(e)||(e=String(e));var t=ft(this);return Be(t,0,e),t.hasOwnProperty(e)}class qe{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;var s=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!s;if("__v_isReadonly"===t)return s;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(s?i?lt:ot:i?at:rt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;var r=g(e);if(!s){var a;if(r&&(a=Ue[t]))return a;if("hasOwnProperty"===t)return je}var o=Reflect.get(e,t,bt(e)?e:n);return(k(t)?Ve.has(t):ze(t))?o:(s||Be(e,0,t),i?o:bt(o)?r&&T(t)?o:o.value:C(o)?s?dt(o):ut(o):o)}}class We extends qe{constructor(e=!1){super(!1,e)}set(e,t,n,s){var i=e[t];if(!this._isShallow){var r=ht(i);if(gt(n)||ht(n)||(i=ft(i),n=ft(n)),!g(e)&&bt(i)&&!bt(n))return!r&&(i.value=n,!0)}var a=g(e)&&T(t)?Number(t)<e.length:h(e,t),o=Reflect.set(e,t,n,bt(e)?e:s);return e===ft(s)&&(a?O(n,i)&&Me(e,"set",t,n):Me(e,"add",t,n)),o}deleteProperty(e,t){var n=h(e,t);e[t];var s=Reflect.deleteProperty(e,t);return s&&n&&Me(e,"delete",t,void 0),s}has(e,t){var n=Reflect.has(e,t);return k(t)&&Ve.has(t)||Be(e,0,t),n}ownKeys(e){return Be(e,0,g(e)?"length":Se),Reflect.ownKeys(e)}}class Ye extends qe{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}var Xe=new We,Ke=new Ye,Ge=new We(!0),Qe=e=>e,Je=e=>Reflect.getPrototypeOf(e);function Ze(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function et(e,t){var n={get(n){var s=this.__v_raw,i=ft(s),r=ft(n);e||(O(n,r)&&Be(i,0,n),Be(i,0,r));var a=Je(i).has,o=t?Qe:e?wt:yt;return a.call(i,n)?o(s.get(n)):a.call(i,r)?o(s.get(r)):void(s!==i&&s.get(n))},get size(){var t=this.__v_raw;return!e&&Be(ft(t),0,Se),Reflect.get(t,"size",t)},has(t){var n=this.__v_raw,s=ft(n),i=ft(t);return e||(O(t,i)&&Be(s,0,t),Be(s,0,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,s){var i=this,r=i.__v_raw,a=ft(r),o=t?Qe:e?wt:yt;return!e&&Be(a,0,Se),r.forEach(((e,t)=>n.call(s,o(e),o(t),i)))}};return d(n,e?{add:Ze("add"),set:Ze("set"),delete:Ze("delete"),clear:Ze("clear")}:{add(e){t||gt(e)||ht(e)||(e=ft(e));var n=ft(this);return Je(n).has.call(n,e)||(n.add(e),Me(n,"add",e,e)),this},set(e,n){t||gt(n)||ht(n)||(n=ft(n));var s=ft(this),i=Je(s),r=i.has,a=i.get,o=r.call(s,e);o||(e=ft(e),o=r.call(s,e));var l=a.call(s,e);return s.set(e,n),o?O(n,l)&&Me(s,"set",e,n):Me(s,"add",e,n),this},delete(e){var t=ft(this),n=Je(t),s=n.has,i=n.get,r=s.call(t,e);r||(e=ft(e),r=s.call(t,e)),i&&i.call(t,e);var a=t.delete(e);return r&&Me(t,"delete",e,void 0),a},clear(){var e=ft(this),t=0!==e.size,n=e.clear();return t&&Me(e,"clear",void 0,void 0),n}}),["keys","values","entries",Symbol.iterator].forEach((s=>{n[s]=function(e,t,n){return function(...s){var i=this.__v_raw,r=ft(i),a=v(r),o="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,c=i[e](...s),u=n?Qe:t?wt:yt;return!t&&Be(r,0,l?Le:Se),{next(){var e=c.next(),t=e.value,n=e.done;return n?{value:t,done:n}:{value:o?[u(t[0]),u(t[1])]:u(t),done:n}},[Symbol.iterator](){return this}}}}(s,e,t)})),n}function tt(e,t){var n=et(e,t);return(t,s,i)=>"__v_isReactive"===s?!e:"__v_isReadonly"===s?e:"__v_raw"===s?t:Reflect.get(h(n,s)&&s in t?n:t,s,i)}var nt={get:tt(!1,!1)},st={get:tt(!1,!0)},it={get:tt(!0,!1)},rt=new WeakMap,at=new WeakMap,ot=new WeakMap,lt=new WeakMap;function ct(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>I(e).slice(8,-1))(e))}function ut(e){return ht(e)?e:pt(e,!1,Xe,nt,rt)}function dt(e){return pt(e,!0,Ke,it,ot)}function pt(e,t,n,s,i){if(!C(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;var r=ct(e);if(0===r)return e;var a=i.get(e);if(a)return a;var o=new Proxy(e,2===r?s:n);return i.set(e,o),o}function mt(e){return ht(e)?mt(e.__v_raw):!(!e||!e.__v_isReactive)}function ht(e){return!(!e||!e.__v_isReadonly)}function gt(e){return!(!e||!e.__v_isShallow)}function vt(e){return!!e&&!!e.__v_raw}function ft(e){var t=e&&e.__v_raw;return t?ft(t):e}var yt=e=>C(e)?ut(e):e,wt=e=>C(e)?dt(e):e;function bt(e){return!!e&&!0===e.__v_isRef}var kt={get:(e,t,n)=>{return"__v_raw"===t?e:bt(s=Reflect.get(e,t,n))?s.value:s;var s},set:(e,t,n,s)=>{var i=e[t];return bt(i)&&!bt(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function Ct(e){return mt(e)?e:new Proxy(e,kt)}class Et{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ie(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ee-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&J!==this)return ce(this,!0),!0}get value(){var e=this.dep.track();return ge(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}var xt={},It=new WeakMap,_t=void 0;function Tt(e,n,s=r){var i,a,l,c,u=s.immediate,d=s.deep,m=s.once,h=s.scheduler,v=s.augmentJob,f=s.call,y=e=>d?e:gt(e)||!1===d||0===d?St(e,1):St(e),b=!1,k=!1;if(bt(e)?(a=()=>e.value,b=gt(e)):mt(e)?(a=()=>y(e),b=!0):g(e)?(k=!0,b=e.some((e=>mt(e)||gt(e))),a=()=>e.map((e=>bt(e)?e.value:mt(e)?y(e):w(e)?f?f(e,2):e():void 0))):a=w(e)?n?f?()=>f(e,2):e:()=>{if(l){be();try{l()}finally{ke()}}var t=_t;_t=i;try{return f?f(e,3,[c]):e(c)}finally{_t=t}}:o,n&&d){var C=a,E=!0===d?1/0:d;a=()=>St(C(),E)}var x=Q,I=()=>{i.stop(),x&&x.active&&p(x.effects,i)};if(m&&n){var _=n;n=(...e)=>{_(...e),I()}}var T=k?new Array(e.length).fill(xt):xt,S=e=>{if(1&i.flags&&(i.dirty||e))if(n){var t=i.run();if(d||b||(k?t.some(((e,t)=>O(e,T[t]))):O(t,T))){l&&l();var s=_t;_t=i;try{var r=[t,T===xt?void 0:k&&T[0]===xt?[]:T,c];T=t,f?f(n,3,r):n(...r)}finally{_t=s}}}else i.run()};return v&&v(S),(i=new re(a)).scheduler=h?()=>h(S,!1):S,c=e=>function(e,t=!1,n=_t){if(n){var s=It.get(n);s||It.set(n,s=[]),s.push(e)}}(e,!1,i),l=i.onStop=()=>{var e=It.get(i);if(e){if(f)f(e,4);else{var n,s=t(e);try{for(s.s();!(n=s.n()).done;){(0,n.value)()}}catch(r){s.e(r)}finally{s.f()}}It.delete(i)}},n?u?S(!0):T=i.run():h?h(S.bind(null,!0),!0):i.run(),I.pause=i.pause.bind(i),I.resume=i.resume.bind(i),I.stop=I,I}function St(e,n=1/0,s){if(n<=0||!C(e)||e.__v_skip)return e;if((s=s||new Set).has(e))return e;if(s.add(e),n--,bt(e))St(e.value,n,s);else if(g(e))for(var i=0;i<e.length;i++)St(e[i],n,s);else if(f(e)||v(e))e.forEach((e=>{St(e,n,s)}));else if(_(e)){for(var r in e)St(e[r],n,s);var a,o=t(Object.getOwnPropertySymbols(e));try{for(o.s();!(a=o.n()).done;){var l=a.value;Object.prototype.propertyIsEnumerable.call(e,l)&&St(e[l],n,s)}}catch(c){o.e(c)}finally{o.f()}}return e}
/**
      * @vue/runtime-core v3.5.16
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/function Lt(e,t,n,s){try{return s?e(...s):e()}catch(i){Bt(i,t,n)}}function Pt(e,t,n,s){if(w(e)){var i=Lt(e,t,n,s);return i&&E(i)&&i.catch((e=>{Bt(e,t,n)})),i}if(g(e)){for(var r=[],a=0;a<e.length;a++)r.push(Pt(e[a],t,n,s));return r}}function Bt(e,t,n,s=!0){t&&t.vnode;var i=t&&t.appContext.config||r,a=i.errorHandler,o=i.throwUnhandledErrorInProduction;if(t){for(var l=t.parent,c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;l;){var d=l.ec;if(d)for(var p=0;p<d.length;p++)if(!1===d[p](e,c,u))return;l=l.parent}if(a)return be(),Lt(a,null,10,[e,c,u]),void ke()}!function(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}(e,0,0,s,o)}var Mt=[],$t=-1,At=[],Ut=null,Ot=0,Ht=Promise.resolve(),Rt=null;function Dt(e){var t=Rt||Ht;return e?t.then(this?e.bind(this):e):t}function Ft(e){if(!(1&e.flags)){var t=jt(e),n=Mt[Mt.length-1];!n||!(2&e.flags)&&t>=jt(n)?Mt.push(e):Mt.splice(function(e){for(var t=$t+1,n=Mt.length;t<n;){var s=t+n>>>1,i=Mt[s],r=jt(i);r<e||r===e&&2&i.flags?t=s+1:n=s}return t}(t),0,e),e.flags|=1,Nt()}}function Nt(){Rt||(Rt=Ht.then(qt))}function zt(e,t,n=$t+1){for(;n<Mt.length;n++){var s=Mt[n];if(s&&2&s.flags){if(e&&s.id!==e.uid)continue;Mt.splice(n,1),n--,4&s.flags&&(s.flags&=-2),s(),4&s.flags||(s.flags&=-2)}}}function Vt(e){if(At.length){var t=[...new Set(At)].sort(((e,t)=>jt(e)-jt(t)));if(At.length=0,Ut)return void Ut.push(...t);for(Ut=t,Ot=0;Ot<Ut.length;Ot++){var n=Ut[Ot];4&n.flags&&(n.flags&=-2),8&n.flags||n(),n.flags&=-2}Ut=null,Ot=0}}var jt=e=>null==e.id?2&e.flags?-1:1/0:e.id;function qt(e){try{for($t=0;$t<Mt.length;$t++){var t=Mt[$t];!t||8&t.flags||(4&t.flags&&(t.flags&=-2),Lt(t,t.i,t.i?15:14),4&t.flags||(t.flags&=-2))}}finally{for(;$t<Mt.length;$t++){var n=Mt[$t];n&&(n.flags&=-2)}$t=-1,Mt.length=0,Vt(),Rt=null,(Mt.length||At.length)&&qt()}}var Wt=null,Yt=null;function Xt(e){var t=Wt;return Wt=e,Yt=e&&e.type.__scopeId||null,t}function Kt(t,n){if(null===Wt)return t;for(var s=fi(Wt),i=t.dirs||(t.dirs=[]),a=0;a<n.length;a++){var o=e(n[a],4),l=o[0],c=o[1],u=o[2],d=o[3],p=void 0===d?r:d;l&&(w(l)&&(l={mounted:l,updated:l}),l.deep&&St(c),i.push({dir:l,instance:s,value:c,oldValue:void 0,arg:u,modifiers:p}))}return t}function Gt(e,t,n,s){for(var i=e.dirs,r=t&&t.dirs,a=0;a<i.length;a++){var o=i[a];r&&(o.oldValue=r[a].value);var l=o.dir[s];l&&(be(),Pt(l,n,8,[e.el,o,e,t]),ke())}}var Qt=Symbol("_vte");function Jt(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Jt(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Zt(e,t){return w(e)?(()=>d({name:e.name},t,{setup:e}))():e}function en(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function tn(e,t,n,s,i=!1){if(g(e))e.forEach(((e,r)=>tn(e,t&&(g(t)?t[r]:t),n,s,i)));else if(!nn(s)||i){var a=4&s.shapeFlag?fi(s.component):s.el,o=i?null:a,l=e.i,c=e.r,u=t&&t.r,d=l.refs===r?l.refs={}:l.refs,m=l.setupState,v=ft(m),f=m===r?()=>!1:e=>h(v,e);if(null!=u&&u!==c&&(b(u)?(d[u]=null,f(u)&&(m[u]=null)):bt(u)&&(u.value=null)),w(c))Lt(c,l,12,[o,d]);else{var y=b(c),k=bt(c);if(y||k){var C=()=>{if(e.f){var t=y?f(c)?m[c]:d[c]:c.value;i?g(t)&&p(t,a):g(t)?t.includes(a)||t.push(a):y?(d[c]=[a],f(c)&&(m[c]=d[c])):(c.value=[a],e.k&&(d[e.k]=c.value))}else y?(d[c]=o,f(c)&&(m[c]=o)):k&&(c.value=o,e.k&&(d[e.k]=o))};o?(C.id=-1,ls(C,n)):C()}}}else 512&s.shapeFlag&&s.type.__asyncResolved&&s.component.subTree.component&&tn(e,t,n,s.component.subTree)}F().requestIdleCallback,F().cancelIdleCallback;var nn=e=>!!e.type.__asyncLoader,sn=e=>e.type.__isKeepAlive;function rn(e,t){on(e,"a",t)}function an(e,t){on(e,"da",t)}function on(e,t,n=oi){var s=e.__wdc||(e.__wdc=()=>{for(var t=n;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(cn(t,s,n),n)for(var i=n.parent;i&&i.parent;)sn(i.parent.vnode)&&ln(s,t,n,i),i=i.parent}function ln(e,t,n,s){var i=cn(t,e,s,!0);vn((()=>{p(s[t],i)}),n)}function cn(e,t,n=oi,s=!1){if(n){var i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...s)=>{be();var i=ui(n),r=Pt(t,n,e,s);return i(),ke(),r});return s?i.unshift(r):i.push(r),r}}var un=e=>(t,n=oi)=>{mi&&"sp"!==e||cn(e,((...e)=>t(...e)),n)},dn=un("bm"),pn=un("m"),mn=un("bu"),hn=un("u"),gn=un("bum"),vn=un("um"),fn=un("sp"),yn=un("rtg"),wn=un("rtc");function bn(e,t=oi){cn("ec",e,t)}var kn=Symbol.for("v-ndc");function Cn(e){return b(e)?function(e,t,n=!0,s=!1){var i=Wt||oi;if(i){var r=i.type,a=yi(r,!1);if(a&&(a===t||a===B(t)||a===A(B(t))))return r;var o=En(i[e]||r[e],t)||En(i.appContext[e],t);return!o&&s?r:o}}("components",e,!1)||e:e||kn}function En(e,t){return e&&(e[t]||e[B(t)]||e[A(B(t))])}function xn(e,t,n,s){var i,r=n,a=g(e);if(a||b(e)){var o=!1,l=!1;a&&mt(e)&&(o=!gt(e),l=ht(e),e=Ae(e)),i=new Array(e.length);for(var c=0,u=e.length;c<u;c++)i[c]=t(o?l?wt(yt(e[c])):yt(e[c]):e[c],c,void 0,r)}else if("number"==typeof e){i=new Array(e);for(var d=0;d<e;d++)i[d]=t(d+1,d,void 0,r)}else if(C(e))if(e[Symbol.iterator])i=Array.from(e,((e,n)=>t(e,n,void 0,r)));else{var p=Object.keys(e);i=new Array(p.length);for(var m=0,h=p.length;m<h;m++){var v=p[m];i[m]=t(e[v],v,m,r)}}else i=[];return i}var In=e=>e?pi(e)?fi(e):In(e.parent):null,_n=d(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>In(e.parent),$root:e=>In(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>An(e),$forceUpdate:e=>e.f||(e.f=()=>{Ft(e.update)}),$nextTick:e=>e.n||(e.n=Dt.bind(e.proxy)),$watch:e=>ws.bind(e)}),Tn=(e,t)=>e!==r&&!e.__isScriptSetup&&h(e,t),Sn={get({_:e},t){if("__v_skip"===t)return!0;var n,s=e.ctx,i=e.setupState,a=e.data,o=e.props,l=e.accessCache,c=e.type,u=e.appContext;if("$"!==t[0]){var d=l[t];if(void 0!==d)switch(d){case 1:return i[t];case 2:return a[t];case 4:return s[t];case 3:return o[t]}else{if(Tn(i,t))return l[t]=1,i[t];if(a!==r&&h(a,t))return l[t]=2,a[t];if((n=e.propsOptions[0])&&h(n,t))return l[t]=3,o[t];if(s!==r&&h(s,t))return l[t]=4,s[t];Pn&&(l[t]=0)}}var p,m,g=_n[t];return g?("$attrs"===t&&Be(e.attrs,0,""),g(e)):(p=c.__cssModules)&&(p=p[t])?p:s!==r&&h(s,t)?(l[t]=4,s[t]):(m=u.config.globalProperties,h(m,t)?m[t]:void 0)},set({_:e},t,n){var s=e.data,i=e.setupState,a=e.ctx;return Tn(i,t)?(i[t]=n,!0):s!==r&&h(s,t)?(s[t]=n,!0):!h(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:a}},o){var l;return!!n[o]||e!==r&&h(e,o)||Tn(t,o)||(l=a[0])&&h(l,o)||h(s,o)||h(_n,o)||h(i.config.globalProperties,o)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:h(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ln(e){return g(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}var Pn=!0;function Bn(e){var t=An(e),n=e.proxy,s=e.ctx;Pn=!1,t.beforeCreate&&Mn(t.beforeCreate,e,"bc");var i=t.data,r=t.computed,a=t.methods,l=t.watch,c=t.provide,u=t.inject,d=t.created,p=t.beforeMount,m=t.mounted,h=t.beforeUpdate,v=t.updated,f=t.activated,y=t.deactivated,b=(t.beforeDestroy,t.beforeUnmount),k=(t.destroyed,t.unmounted),E=t.render,x=t.renderTracked,I=t.renderTriggered,_=t.errorCaptured,T=t.serverPrefetch,S=t.expose,L=t.inheritAttrs,P=t.components,B=t.directives;t.filters;if(u&&function(e,t){g(e)&&(e=Rn(e));var n=function(){var n,i=e[s];bt(n=C(i)?"default"in i?Wn(i.from||s,i.default,!0):Wn(i.from||s):Wn(i))?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>n.value,set:e=>n.value=e}):t[s]=n};for(var s in e)n()}(u,s,null),a)for(var M in a){var $=a[M];w($)&&(s[M]=$.bind(n))}if(i){var A=i.call(n,n);C(A)&&(e.data=ut(A))}if(Pn=!0,r){var U=function(){var e=r[O],t=w(e)?e.bind(n,n):w(e.get)?e.get.bind(n,n):o,i=!w(e)&&w(e.set)?e.set.bind(n):o,a=wi({get:t,set:i});Object.defineProperty(s,O,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})};for(var O in r)U()}if(l)for(var H in l)$n(l[H],s,n,H);if(c){var R=w(c)?c.call(n):c;Reflect.ownKeys(R).forEach((e=>{!function(e,t){if(oi){var n=oi.provides,s=oi.parent&&oi.parent.provides;s===n&&(n=oi.provides=Object.create(s)),n[e]=t}else;}(e,R[e])}))}function D(e,t){g(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&Mn(d,e,"c"),D(dn,p),D(pn,m),D(mn,h),D(hn,v),D(rn,f),D(an,y),D(bn,_),D(wn,x),D(yn,I),D(gn,b),D(vn,k),D(fn,T),g(S))if(S.length){var F=e.exposed||(e.exposed={});S.forEach((e=>{Object.defineProperty(F,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});E&&e.render===o&&(e.render=E),null!=L&&(e.inheritAttrs=L),P&&(e.components=P),B&&(e.directives=B),T&&en(e)}function Mn(e,t,n){Pt(g(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function $n(e,t,n,s){var i=s.includes(".")?bs(n,s):()=>n[s];if(b(e)){var r=t[e];w(r)&&fs(i,r)}else if(w(e))fs(i,e.bind(n));else if(C(e))if(g(e))e.forEach((e=>$n(e,t,n,s)));else{var a=w(e.handler)?e.handler.bind(n):t[e.handler];w(a)&&fs(i,a,e)}}function An(e){var t,n=e.type,s=n.mixins,i=n.extends,r=e.appContext,a=r.mixins,o=r.optionsCache,l=r.config.optionMergeStrategies,c=o.get(n);return c?t=c:a.length||s||i?(t={},a.length&&a.forEach((e=>Un(t,e,l,!0))),Un(t,n,l)):t=n,C(n)&&o.set(n,t),t}function Un(e,t,n,s=!1){var i=t.mixins,r=t.extends;for(var a in r&&Un(e,r,n,!0),i&&i.forEach((t=>Un(e,t,n,!0))),t)if(s&&"expose"===a);else{var o=On[a]||n&&n[a];e[a]=o?o(e[a],t[a]):t[a]}return e}var On={data:Hn,props:Nn,emits:Nn,methods:Fn,computed:Fn,beforeCreate:Dn,created:Dn,beforeMount:Dn,mounted:Dn,beforeUpdate:Dn,updated:Dn,beforeDestroy:Dn,beforeUnmount:Dn,destroyed:Dn,unmounted:Dn,activated:Dn,deactivated:Dn,errorCaptured:Dn,serverPrefetch:Dn,components:Fn,directives:Fn,watch:function(e,t){if(!e)return t;if(!t)return e;var n=d(Object.create(null),e);for(var s in t)n[s]=Dn(e[s],t[s]);return n},provide:Hn,inject:function(e,t){return Fn(Rn(e),Rn(t))}};function Hn(e,t){return t?e?function(){return d(w(e)?e.call(this,this):e,w(t)?t.call(this,this):t)}:t:e}function Rn(e){if(g(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Dn(e,t){return e?[...new Set([].concat(e,t))]:t}function Fn(e,t){return e?d(Object.create(null),e,t):t}function Nn(e,t){return e?g(e)&&g(t)?[...new Set([...e,...t])]:d(Object.create(null),Ln(e),Ln(null!=t?t:{})):t}function zn(){return{app:null,config:{isNativeTag:l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var Vn=0;function jn(e,t){return function(t,n=null){w(t)||(t=d({},t)),null==n||C(n)||(n=null);var s=zn(),i=new WeakSet,r=[],a=!1,o=s.app={_uid:Vn++,_component:t,_props:n,_container:null,_context:s,_instance:null,version:bi,get config(){return s.config},set config(e){},use:(e,...t)=>(i.has(e)||(e&&w(e.install)?(i.add(e),e.install(o,...t)):w(e)&&(i.add(e),e(o,...t))),o),mixin:e=>(s.mixins.includes(e)||s.mixins.push(e),o),component:(e,t)=>t?(s.components[e]=t,o):s.components[e],directive:(e,t)=>t?(s.directives[e]=t,o):s.directives[e],mount(i,r,l){if(!a){var c=o._ceVNode||Ys(t,n);return c.appContext=s,!0===l?l="svg":!1===l&&(l=void 0),e(c,i,l),a=!0,o._container=i,i.__vue_app__=o,fi(c.component)}},onUnmount(e){r.push(e)},unmount(){a&&(Pt(r,o._instance,16),e(null,o._container),delete o._container.__vue_app__)},provide:(e,t)=>(s.provides[e]=t,o),runWithContext(e){var t=qn;qn=o;try{return e()}finally{qn=t}}};return o}}var qn=null;function Wn(e,t,n=!1){var s=oi||Wt;if(s||qn){var i=qn?qn._context.provides:s?null==s.parent||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&w(t)?t.call(s&&s.proxy):t}}var Yn={},Xn=()=>Object.create(Yn),Kn=e=>Object.getPrototypeOf(e)===Yn;function Gn(e,t,n,s=!1){var i={},r=Xn();for(var a in e.propsDefaults=Object.create(null),Qn(e,t,i,r),e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=s?i:pt(i,!1,Ge,st,at):e.type.props?e.props=i:e.props=r,e.attrs=r}function Qn(t,n,s,i){var a,o=e(t.propsOptions,2),l=o[0],c=o[1],u=!1;if(n)for(var d in n)if(!S(d)){var p=n[d],m=void 0;l&&h(l,m=B(d))?c&&c.includes(m)?(a||(a={}))[m]=p:s[m]=p:xs(t.emitsOptions,d)||d in i&&p===i[d]||(i[d]=p,u=!0)}if(c)for(var g=ft(s),v=a||r,f=0;f<c.length;f++){var y=c[f];s[y]=Jn(l,g,y,v[y],t,!h(v,y))}return u}function Jn(e,t,n,s,i,r){var a=e[n];if(null!=a){var o=h(a,"default");if(o&&void 0===s){var l=a.default;if(a.type!==Function&&!a.skipFactory&&w(l)){var c=i.propsDefaults;if(n in c)s=c[n];else{var u=ui(i);s=c[n]=l.call(null,t),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}a[0]&&(r&&!o?s=!1:!a[1]||""!==s&&s!==$(n)||(s=!0))}return s}var Zn=new WeakMap;function es(t,n,s=!1){var i=s?Zn:n.propsCache,o=i.get(t);if(o)return o;var l=t.props,c={},u=[],p=!1;if(!w(t)){var m=t=>{p=!0;var s=e(es(t,n,!0),2),i=s[0],r=s[1];d(c,i),r&&u.push(...r)};!s&&n.mixins.length&&n.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!l&&!p)return C(t)&&i.set(t,a),a;if(g(l))for(var v=0;v<l.length;v++){var f=B(l[v]);ts(f)&&(c[f]=r)}else if(l)for(var y in l){var b=B(y);if(ts(b)){var k=l[y],E=c[b]=g(k)||w(k)?{type:k}:d({},k),x=E.type,I=!1,_=!0;if(g(x))for(var T=0;T<x.length;++T){var S=x[T],L=w(S)&&S.name;if("Boolean"===L){I=!0;break}"String"===L&&(_=!1)}else I=w(x)&&"Boolean"===x.name;E[0]=I,E[1]=_,(I||h(E,"default"))&&u.push(b)}}var P=[c,u];return C(t)&&i.set(t,P),P}function ts(e){return"$"!==e[0]&&!S(e)}var ns=e=>"_"===e[0]||"$stable"===e,ss=e=>g(e)?e.map(Js):[Js(e)],is=(e,t,n)=>{if(t._n)return t;var s=function(e,t=Wt){if(!t)return e;if(e._n)return e;var n=(...s)=>{n._d&&Rs(-1);var i,r=Xt(t);try{i=e(...s)}finally{Xt(r),n._d&&Rs(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}(((...e)=>ss(t(...e))),n);return s._c=!1,s},rs=(e,t,n)=>{var s=e._ctx,i=function(){if(ns(r))return 1;var n=e[r];if(w(n))t[r]=is(0,n,s);else if(null!=n){var i=ss(n);t[r]=()=>i}};for(var r in e)i()},as=(e,t)=>{var n=ss(t);e.slots.default=()=>n},os=(e,t,n)=>{for(var s in t)!n&&ns(s)||(e[s]=t[s])},ls=function(e,t){t&&t.pendingBranch?g(e)?t.effects.push(...e):t.effects.push(e):(g(n=e)?At.push(...n):Ut&&-1===n.id?Ut.splice(Ot+1,0,n):1&n.flags||(At.push(n),n.flags|=1),Nt());var n};function cs(t){return function(t){F().__VUE__=!0;var n,s=t.insert,i=t.remove,l=t.patchProp,c=t.createElement,u=t.createText,d=t.createComment,p=t.setText,m=t.setElementText,v=t.parentNode,f=t.nextSibling,y=t.setScopeId,w=void 0===y?o:y,b=t.insertStaticContent,k=(e,t,n,s=null,i=null,r=null,a=void 0,o=null,l=!!t.dynamicChildren)=>{if(e!==t){e&&!Vs(e,t)&&(s=ne(e),Q(e,i,r,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);var c=t.type,u=t.ref,d=t.shapeFlag;switch(c){case Bs:C(e,t,n,s);break;case Ms:x(e,t,n,s);break;case $s:null==e&&I(t,n,s,a);break;case Ps:N(e,t,n,s,i,r,a,o,l);break;default:1&d?L(e,t,n,s,i,r,a,o,l):6&d?z(e,t,n,s,i,r,a,o,l):(64&d||128&d)&&c.process(e,t,n,s,i,r,a,o,l,oe)}null!=u&&i&&tn(u,e&&e.ref,r,t||e,!t)}},C=(e,t,n,i)=>{if(null==e)s(t.el=u(t.children),n,i);else{var r=t.el=e.el;t.children!==e.children&&p(r,t.children)}},x=(e,t,n,i)=>{null==e?s(t.el=d(t.children||""),n,i):t.el=e.el},I=(t,n,s,i)=>{var r=e(b(t.children,n,s,i,t.el,t.anchor),2);t.el=r[0],t.anchor=r[1]},_=({el:e,anchor:t},n,i)=>{for(var r;e&&e!==t;)r=f(e),s(e,n,i),e=r;s(t,n,i)},T=({el:e,anchor:t})=>{for(var n;e&&e!==t;)n=f(e),i(e),e=n;i(t)},L=(e,t,n,s,i,r,a,o,l)=>{"svg"===t.type?a="svg":"math"===t.type&&(a="mathml"),null==e?P(t,n,s,i,r,a,o,l):U(e,t,i,r,a,o,l)},P=(e,t,n,i,r,a,o,u)=>{var d,p,h=e.props,g=e.shapeFlag,v=e.transition,f=e.dirs;if(d=e.el=c(e.type,a,h&&h.is,h),8&g?m(d,e.children):16&g&&A(e.children,d,null,i,r,us(e,a),o,u),f&&Gt(e,null,i,"created"),M(d,e,e.scopeId,o,i),h){for(var y in h)"value"===y||S(y)||l(d,y,null,h[y],a,i);"value"in h&&l(d,"value",null,h.value,a),(p=h.onVnodeBeforeMount)&&ni(p,i,e)}f&&Gt(e,null,i,"beforeMount");var w=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(r,v);w&&v.beforeEnter(d),s(d,t,n),((p=h&&h.onVnodeMounted)||w||f)&&ls((()=>{p&&ni(p,i,e),w&&v.enter(d),f&&Gt(e,null,i,"mounted")}),r)},M=(e,t,n,s,i)=>{if(n&&w(e,n),s)for(var r=0;r<s.length;r++)w(e,s[r]);if(i){var a=i.subTree;if(t===a||Ls(a.type)&&(a.ssContent===t||a.ssFallback===t)){var o=i.vnode;M(e,o,o.scopeId,o.slotScopeIds,i.parent)}}},A=(e,t,n,s,i,r,a,o,l=0)=>{for(var c=l;c<e.length;c++){var u=e[c]=o?Zs(e[c]):Js(e[c]);k(null,u,t,n,s,i,r,a,o)}},U=(e,t,n,s,i,a,o)=>{var c=t.el=e.el,u=t.patchFlag,d=t.dynamicChildren,p=t.dirs;u|=16&e.patchFlag;var h,g=e.props||r,v=t.props||r;if(n&&ds(n,!1),(h=v.onVnodeBeforeUpdate)&&ni(h,n,t,e),p&&Gt(t,e,n,"beforeUpdate"),n&&ds(n,!0),(g.innerHTML&&null==v.innerHTML||g.textContent&&null==v.textContent)&&m(c,""),d?O(e.dynamicChildren,d,c,n,s,us(t,i),a):o||Y(e,t,c,null,n,s,us(t,i),a,!1),u>0){if(16&u)D(c,g,v,n,i);else if(2&u&&g.class!==v.class&&l(c,"class",null,v.class,i),4&u&&l(c,"style",g.style,v.style,i),8&u)for(var f=t.dynamicProps,y=0;y<f.length;y++){var w=f[y],b=g[w],k=v[w];k===b&&"value"!==w||l(c,w,b,k,i,n)}1&u&&e.children!==t.children&&m(c,t.children)}else o||null!=d||D(c,g,v,n,i);((h=v.onVnodeUpdated)||p)&&ls((()=>{h&&ni(h,n,t,e),p&&Gt(t,e,n,"updated")}),s)},O=(e,t,n,s,i,r,a)=>{for(var o=0;o<t.length;o++){var l=e[o],c=t[o],u=l.el&&(l.type===Ps||!Vs(l,c)||198&l.shapeFlag)?v(l.el):n;k(l,c,u,null,s,i,r,a,!0)}},D=(e,t,n,s,i)=>{if(t!==n){if(t!==r)for(var a in t)S(a)||a in n||l(e,a,t[a],null,i,s);for(var o in n)if(!S(o)){var c=n[o],u=t[o];c!==u&&"value"!==o&&l(e,o,u,c,i,s)}"value"in n&&l(e,"value",t.value,n.value,i)}},N=(e,t,n,i,r,a,o,l,c)=>{var d=t.el=e?e.el:u(""),p=t.anchor=e?e.anchor:u(""),m=t.patchFlag,h=t.dynamicChildren,g=t.slotScopeIds;g&&(l=l?l.concat(g):g),null==e?(s(d,n,i),s(p,n,i),A(t.children||[],n,p,r,a,o,l,c)):m>0&&64&m&&h&&e.dynamicChildren?(O(e.dynamicChildren,h,n,r,a,o,l),(null!=t.key||r&&t===r.subTree)&&ps(e,t,!0)):Y(e,t,n,p,r,a,o,l,c)},z=(e,t,n,s,i,r,a,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?i.ctx.activate(t,n,s,a,l):V(t,n,s,i,r,a,l):j(e,t,l)},V=(e,t,n,s,i,a,o)=>{var l=e.component=function(e,t,n){var s=e.type,i=(t?t.appContext:e.appContext)||si,a={uid:ii++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new se(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:es(s,i),emitsOptions:Es(s,i),emit:null,emitted:null,propsDefaults:r,inheritAttrs:s.inheritAttrs,ctx:r,data:r,props:r,attrs:r,slots:r,refs:r,setupState:r,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};a.ctx={_:a},a.root=t?t.root:a,a.emit=Cs.bind(null,a),e.ce&&e.ce(a);return a}(e,s,i);if(sn(e)&&(l.ctx.renderer=oe),function(e,t=!1,n=!1){t&&ai(t);var s=e.vnode,i=s.props,r=s.children,a=pi(e);Gn(e,i,a,t),((e,t,n)=>{var s=e.slots=Xn();if(32&e.vnode.shapeFlag){var i=t._;i?(os(s,t,n),n&&R(s,"_",i,!0)):rs(t,s)}else t&&as(e,t)})(e,r,n||t);var o=a?function(e,t){var n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Sn);var s=n.setup;if(s){be();var i=e.setupContext=s.length>1?function(e){var t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,vi),slots:e.slots,emit:e.emit,expose:t}}(e):null,r=ui(e),a=Lt(s,e,0,[e.props,i]),o=E(a);if(ke(),r(),!o&&!e.sp||nn(e)||en(e),o){if(a.then(di,di),t)return a.then((t=>{hi(e,t)})).catch((t=>{Bt(t,e,0)}));e.asyncDep=a}else hi(e,a)}else gi(e)}(e,t):void 0;t&&ai(!1)}(l,!1,o),l.asyncDep){if(i&&i.registerDep(l,q,o),!e.el){var c=l.subTree=Ys(Ms);x(null,c,t,n)}}else q(l,e,t,n,i,a,o)},j=(e,t,n)=>{var s=t.component=e.component;if(function(e,t,n){var s=e.props,i=e.children,r=e.component,a=t.props,o=t.children,l=t.patchFlag,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!o||o&&o.$stable)||s!==a&&(s?!a||Ss(s,a,c):!!a);if(1024&l)return!0;if(16&l)return s?Ss(s,a,c):!!a;if(8&l)for(var u=t.dynamicProps,d=0;d<u.length;d++){var p=u[d];if(a[p]!==s[p]&&!xs(c,p))return!0}return!1}(e,t,n)){if(s.asyncDep&&!s.asyncResolved)return void W(s,t,n);s.next=t,s.update()}else t.el=e.el,s.vnode=t},q=(e,t,n,s,i,r,a)=>{var o=()=>{if(e.isMounted){var l=e.next,c=e.bu,u=e.u,d=e.parent,p=e.vnode,m=ms(e);if(m)return l&&(l.el=p.el,W(e,l,a)),void m.asyncDep.then((()=>{e.isUnmounted||o()}));var h,g=l;ds(e,!1),l?(l.el=p.el,W(e,l,a)):l=p,c&&H(c),(h=l.props&&l.props.onVnodeBeforeUpdate)&&ni(h,d,l,p),ds(e,!0);var f=Is(e),y=e.subTree;e.subTree=f,k(y,f,v(y.el),ne(y),e,i,r),l.el=f.el,null===g&&function({vnode:e,parent:t},n){for(;t;){var s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,f.el),u&&ls(u,i),(h=l.props&&l.props.onVnodeUpdated)&&ls((()=>ni(h,d,l,p)),i)}else{var w,b=t,C=(b.el,b.props),E=e.bm,x=e.m,I=e.parent,_=e.root,T=e.type,S=nn(t);ds(e,!1),E&&H(E),!S&&(w=C&&C.onVnodeBeforeMount)&&ni(w,I,t),ds(e,!0),_.ce&&_.ce._injectChildStyle(T);var L=e.subTree=Is(e);if(k(null,L,n,s,e,i,r),t.el=L.el,x&&ls(x,i),!S&&(w=C&&C.onVnodeMounted)){var P=t;ls((()=>ni(w,I,P)),i)}(256&t.shapeFlag||I&&nn(I.vnode)&&256&I.vnode.shapeFlag)&&e.a&&ls(e.a,i),e.isMounted=!0,t=n=s=null}};e.scope.on();var l=e.effect=new re(o);e.scope.off();var c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>Ft(u),ds(e,!0),c()},W=(t,n,s)=>{n.component=t;var i=t.vnode.props;t.vnode=n,t.next=null,function(t,n,s,i){var r=t.props,a=t.attrs,o=t.vnode.patchFlag,l=ft(r),c=e(t.propsOptions,1)[0],u=!1;if(!(i||o>0)||16&o){var d;for(var p in Qn(t,n,r,a)&&(u=!0),l)n&&(h(n,p)||(d=$(p))!==p&&h(n,d))||(c?!s||void 0===s[p]&&void 0===s[d]||(r[p]=Jn(c,l,p,void 0,t,!0)):delete r[p]);if(a!==l)for(var m in a)n&&h(n,m)||(delete a[m],u=!0)}else if(8&o)for(var g=t.vnode.dynamicProps,v=0;v<g.length;v++){var f=g[v];if(!xs(t.emitsOptions,f)){var y=n[f];if(c)if(h(a,f))y!==a[f]&&(a[f]=y,u=!0);else{var w=B(f);r[w]=Jn(c,l,w,y,t,!1)}else y!==a[f]&&(a[f]=y,u=!0)}}u&&Me(t.attrs,"set","")}(t,n.props,i,s),((e,t,n)=>{var s=e.vnode,i=e.slots,a=!0,o=r;if(32&s.shapeFlag){var l=t._;l?n&&1===l?a=!1:os(i,t,n):(a=!t.$stable,rs(t,i)),o=t}else t&&(as(e,t),o={default:1});if(a)for(var c in i)ns(c)||null!=o[c]||delete i[c]})(t,n.children,s),be(),zt(t),ke()},Y=(e,t,n,s,i,r,a,o,l=!1)=>{var c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,p=t.patchFlag,h=t.shapeFlag;if(p>0){if(128&p)return void K(c,d,n,s,i,r,a,o,l);if(256&p)return void X(c,d,n,s,i,r,a,o,l)}8&h?(16&u&&te(c,i,r),d!==c&&m(n,d)):16&u?16&h?K(c,d,n,s,i,r,a,o,l):te(c,i,r,!0):(8&u&&m(n,""),16&h&&A(d,n,s,i,r,a,o,l))},X=(e,t,n,s,i,r,o,l,c)=>{t=t||a;var u,d=(e=e||a).length,p=t.length,m=Math.min(d,p);for(u=0;u<m;u++){var h=t[u]=c?Zs(t[u]):Js(t[u]);k(e[u],h,n,null,i,r,o,l,c)}d>p?te(e,i,r,!0,!1,m):A(t,n,s,i,r,o,l,c,m)},K=(e,t,n,s,i,r,o,l,c)=>{for(var u=0,d=t.length,p=e.length-1,m=d-1;u<=p&&u<=m;){var h=e[u],g=t[u]=c?Zs(t[u]):Js(t[u]);if(!Vs(h,g))break;k(h,g,n,null,i,r,o,l,c),u++}for(;u<=p&&u<=m;){var v=e[p],f=t[m]=c?Zs(t[m]):Js(t[m]);if(!Vs(v,f))break;k(v,f,n,null,i,r,o,l,c),p--,m--}if(u>p){if(u<=m)for(var y=m+1,w=y<d?t[y].el:s;u<=m;)k(null,t[u]=c?Zs(t[u]):Js(t[u]),n,w,i,r,o,l,c),u++}else if(u>m)for(;u<=p;)Q(e[u],i,r,!0),u++;else{var b,C=u,E=u,x=new Map;for(u=E;u<=m;u++){var I=t[u]=c?Zs(t[u]):Js(t[u]);null!=I.key&&x.set(I.key,u)}var _=0,T=m-E+1,S=!1,L=0,P=new Array(T);for(u=0;u<T;u++)P[u]=0;for(u=C;u<=p;u++){var B=e[u];if(_>=T)Q(B,i,r,!0);else{var M=void 0;if(null!=B.key)M=x.get(B.key);else for(b=E;b<=m;b++)if(0===P[b-E]&&Vs(B,t[b])){M=b;break}void 0===M?Q(B,i,r,!0):(P[M-E]=u+1,M>=L?L=M:S=!0,k(B,t[M],n,null,i,r,o,l,c),_++)}}var $=S?function(e){var t,n,s,i,r,a=e.slice(),o=[0],l=e.length;for(t=0;t<l;t++){var c=e[t];if(0!==c){if(e[n=o[o.length-1]]<c){a[t]=n,o.push(t);continue}for(s=0,i=o.length-1;s<i;)e[o[r=s+i>>1]]<c?s=r+1:i=r;c<e[o[s]]&&(s>0&&(a[t]=o[s-1]),o[s]=t)}}s=o.length,i=o[s-1];for(;s-- >0;)o[s]=i,i=a[i];return o}(P):a;for(b=$.length-1,u=T-1;u>=0;u--){var A=E+u,U=t[A],O=A+1<d?t[A+1].el:s;0===P[u]?k(null,U,n,O,i,r,o,l,c):S&&(b<0||u!==$[b]?G(U,n,O,2):b--)}}},G=(e,t,n,r,a=null)=>{var o=e.el,l=e.type,c=e.transition,u=e.children,d=e.shapeFlag;if(6&d)G(e.component.subTree,t,n,r);else if(128&d)e.suspense.move(t,n,r);else if(64&d)l.move(e,t,n,oe);else if(l!==Ps){if(l!==$s)if(2!==r&&1&d&&c)if(0===r)c.beforeEnter(o),s(o,t,n),ls((()=>c.enter(o)),a);else{var p=c.leave,m=c.delayLeave,h=c.afterLeave,g=()=>{e.ctx.isUnmounted?i(o):s(o,t,n)},v=()=>{p(o,(()=>{g(),h&&h()}))};m?m(o,g,v):v()}else s(o,t,n);else _(e,t,n)}else{s(o,t,n);for(var f=0;f<u.length;f++)G(u[f],t,n,r);s(e.anchor,t,n)}},Q=(e,t,n,s=!1,i=!1)=>{var r=e.type,a=e.props,o=e.ref,l=e.children,c=e.dynamicChildren,u=e.shapeFlag,d=e.patchFlag,p=e.dirs,m=e.cacheIndex;if(-2===d&&(i=!1),null!=o&&(be(),tn(o,null,n,e,!0),ke()),null!=m&&(t.renderCache[m]=void 0),256&u)t.ctx.deactivate(e);else{var h,g=1&u&&p,v=!nn(e);if(v&&(h=a&&a.onVnodeBeforeUnmount)&&ni(h,t,e),6&u)ee(e.component,n,s);else{if(128&u)return void e.suspense.unmount(n,s);g&&Gt(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,oe,s):c&&!c.hasOnce&&(r!==Ps||d>0&&64&d)?te(c,t,n,!1,!0):(r===Ps&&384&d||!i&&16&u)&&te(l,t,n),s&&J(e)}(v&&(h=a&&a.onVnodeUnmounted)||g)&&ls((()=>{h&&ni(h,t,e),g&&Gt(e,null,t,"unmounted")}),n)}},J=e=>{var t=e.type,n=e.el,s=e.anchor,r=e.transition;if(t!==Ps)if(t!==$s){var a=()=>{i(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){var o=r.leave,l=r.delayLeave,c=()=>o(n,a);l?l(e.el,a,c):c()}else a()}else T(e);else Z(n,s)},Z=(e,t)=>{for(var n;e!==t;)n=f(e),i(e),e=n;i(t)},ee=(e,t,n)=>{var s=e.bum,i=e.scope,r=e.job,a=e.subTree,o=e.um,l=e.m,c=e.a,u=e.parent,d=e.slots.__;hs(l),hs(c),s&&H(s),u&&g(d)&&d.forEach((e=>{u.renderCache[e]=void 0})),i.stop(),r&&(r.flags|=8,Q(a,e,t,n)),o&&ls(o,t),ls((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},te=(e,t,n,s=!1,i=!1,r=0)=>{for(var a=r;a<e.length;a++)Q(e[a],t,n,s,i)},ne=e=>{if(6&e.shapeFlag)return ne(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();var t=f(e.anchor||e.el),n=t&&t[Qt];return n?f(n):t},ie=!1,ae=(e,t,n)=>{null==e?t._vnode&&Q(t._vnode,null,null,!0):k(t._vnode||null,e,t,null,null,null,n),t._vnode=e,ie||(ie=!0,zt(),Vt(),ie=!1)},oe={p:k,um:Q,m:G,r:J,mt:V,mc:A,pc:Y,pbc:O,n:ne,o:t};return{render:ae,hydrate:n,createApp:jn(ae)}}(t)}function us({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ds({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ps(e,t,n=!1){var s=e.children,i=t.children;if(g(s)&&g(i))for(var r=0;r<s.length;r++){var a=s[r],o=i[r];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&((o=i[r]=Zs(i[r])).el=a.el),n||-2===o.patchFlag||ps(a,o)),o.type===Bs&&(o.el=a.el),o.type!==Ms||o.el||(o.el=a.el)}}function ms(e){var t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ms(t)}function hs(e){if(e)for(var t=0;t<e.length;t++)e[t].flags|=8}var gs=Symbol.for("v-scx"),vs=()=>Wn(gs);function fs(e,t,n){return ys(e,t,n)}function ys(e,t,n=r){var s,i=n.immediate,a=(n.deep,n.flush),l=(n.once,d({},n)),c=t&&i||!t&&"post"!==a;if(mi)if("sync"===a){var u=vs();s=u.__watcherHandles||(u.__watcherHandles=[])}else if(!c){var p=()=>{};return p.stop=o,p.resume=o,p.pause=o,p}var m=oi;l.call=(e,t,n)=>Pt(e,m,t,n);var h=!1;"post"===a?l.scheduler=e=>{ls(e,m&&m.suspense)}:"sync"!==a&&(h=!0,l.scheduler=(e,t)=>{t?e():Ft(e)}),l.augmentJob=e=>{t&&(e.flags|=4),h&&(e.flags|=2,m&&(e.id=m.uid,e.i=m))};var g=Tt(e,t,l);return mi&&(s?s.push(g):c&&g()),g}function ws(e,t,n){var s,i=this.proxy,r=b(e)?e.includes(".")?bs(i,e):()=>i[e]:e.bind(i,i);w(t)?s=t:(s=t.handler,n=t);var a=ui(this),o=ys(r,s.bind(i),n);return a(),o}function bs(e,t){var n=t.split(".");return()=>{for(var t=e,s=0;s<n.length&&t;s++)t=t[n[s]];return t}}var ks=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${B(t)}Modifiers`]||e[`${$(t)}Modifiers`];function Cs(e,t,...n){if(!e.isUnmounted){var s,i=e.vnode.props||r,a=n,o=t.startsWith("update:"),l=o&&ks(i,t.slice(7));l&&(l.trim&&(a=n.map((e=>b(e)?e.trim():e))),l.number&&(a=n.map(D)));var c=i[s=U(t)]||i[s=U(B(t))];!c&&o&&(c=i[s=U($(t))]),c&&Pt(c,e,6,a);var u=i[s+"Once"];if(u){if(e.emitted){if(e.emitted[s])return}else e.emitted={};e.emitted[s]=!0,Pt(u,e,6,a)}}}function Es(e,t,n=!1){var s=t.emitsCache,i=s.get(e);if(void 0!==i)return i;var r=e.emits,a={},o=!1;if(!w(e)){var l=e=>{var n=Es(e,t,!0);n&&(o=!0,d(a,n))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return r||o?(g(r)?r.forEach((e=>a[e]=null)):d(a,r),C(e)&&s.set(e,a),a):(C(e)&&s.set(e,null),null)}function xs(e,t){return!(!e||!c(t))&&(t=t.slice(2).replace(/Once$/,""),h(e,t[0].toLowerCase()+t.slice(1))||h(e,$(t))||h(e,t))}function Is(t){var n,s,i=t.type,r=t.vnode,a=t.proxy,o=t.withProxy,l=e(t.propsOptions,1)[0],c=t.slots,d=t.attrs,p=t.emit,m=t.render,h=t.renderCache,g=t.props,v=t.data,f=t.setupState,y=t.ctx,w=t.inheritAttrs,b=Xt(t);try{if(4&r.shapeFlag){var k=o||a,C=k;n=Js(m.call(C,k,h,g,f,v,y)),s=d}else{var E=i;0,n=Js(E.length>1?E(g,{attrs:d,slots:c,emit:p}):E(g,null)),s=i.props?d:_s(d)}}catch(T){As.length=0,Bt(T,t,1),n=Ys(Ms)}var x=n;if(s&&!1!==w){var I=Object.keys(s),_=x.shapeFlag;I.length&&7&_&&(l&&I.some(u)&&(s=Ts(s,l)),x=Xs(x,s,!1,!0))}return r.dirs&&((x=Xs(x,null,!1,!0)).dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&Jt(x,r.transition),n=x,Xt(b),n}var _s=e=>{var t;for(var n in e)("class"===n||"style"===n||c(n))&&((t||(t={}))[n]=e[n]);return t},Ts=(e,t)=>{var n={};for(var s in e)u(s)&&s.slice(9)in t||(n[s]=e[s]);return n};function Ss(e,t,n){var s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(var i=0;i<s.length;i++){var r=s[i];if(t[r]!==e[r]&&!xs(n,r))return!0}return!1}var Ls=e=>e.__isSuspense;var Ps=Symbol.for("v-fgt"),Bs=Symbol.for("v-txt"),Ms=Symbol.for("v-cmt"),$s=Symbol.for("v-stc"),As=[],Us=null;function Os(e=!1){As.push(Us=e?null:[])}var Hs=1;function Rs(e,t=!1){Hs+=e,e<0&&Us&&t&&(Us.hasOnce=!0)}function Ds(e){return e.dynamicChildren=Hs>0?Us||a:null,As.pop(),Us=As[As.length-1]||null,Hs>0&&Us&&Us.push(e),e}function Fs(e,t,n,s,i,r){return Ds(Ws(e,t,n,s,i,r,!0))}function Ns(e,t,n,s,i){return Ds(Ys(e,t,n,s,i,!0))}function zs(e){return!!e&&!0===e.__v_isVNode}function Vs(e,t){return e.type===t.type&&e.key===t.key}var js=({key:e})=>null!=e?e:null,qs=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?b(e)||bt(e)||w(e)?{i:Wt,r:e,k:t,f:!!n}:e:null);function Ws(e,t=null,n=null,s=0,i=null,r=(e===Ps?0:1),a=!1,o=!1){var l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&js(t),ref:t&&qs(t),scopeId:Yt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Wt};return o?(ei(l,n),128&r&&e.normalize(l)):n&&(l.shapeFlag|=b(n)?8:16),Hs>0&&!a&&Us&&(l.patchFlag>0||6&r)&&32!==l.patchFlag&&Us.push(l),l}var Ys=function(e,t=null,n=null,s=0,i=null,r=!1){e&&e!==kn||(e=Ms);if(zs(e)){var a=Xs(e,t,!0);return n&&ei(a,n),Hs>0&&!r&&Us&&(6&a.shapeFlag?Us[Us.indexOf(e)]=a:Us.push(a)),a.patchFlag=-2,a}o=e,w(o)&&"__vccOpts"in o&&(e=e.__vccOpts);var o;if(t){var l=t=function(e){return e?vt(e)||Kn(e)?d({},e):e:null}(t),c=l.class,u=l.style;c&&!b(c)&&(t.class=W(c)),C(u)&&(vt(u)&&!g(u)&&(u=d({},u)),t.style=N(u))}var p=b(e)?1:Ls(e)?128:(e=>e.__isTeleport)(e)?64:C(e)?4:w(e)?2:0;return Ws(e,t,n,s,i,p,r,!0)};function Xs(e,t,n=!1,s=!1){var i=e.props,r=e.ref,a=e.patchFlag,o=e.children,l=e.transition,c=t?ti(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&js(c),ref:t&&t.ref?n&&r?g(r)?r.concat(qs(t)):[r,qs(t)]:qs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ps?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Xs(e.ssContent),ssFallback:e.ssFallback&&Xs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Jt(u,l.clone(u)),u}function Ks(e=" ",t=0){return Ys(Bs,null,e,t)}function Gs(e,t){var n=Ys($s,null,e);return n.staticCount=t,n}function Qs(e="",t=!1){return t?(Os(),Ns(Ms,null,e)):Ys(Ms,null,e)}function Js(e){return null==e||"boolean"==typeof e?Ys(Ms):g(e)?Ys(Ps,null,e.slice()):zs(e)?Zs(e):Ys(Bs,null,String(e))}function Zs(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Xs(e)}function ei(e,t){var n=0,s=e.shapeFlag;if(null==t)t=null;else if(g(t))n=16;else if("object"==typeof t){if(65&s){var i=t.default;return void(i&&(i._c&&(i._d=!1),ei(e,i()),i._c&&(i._d=!0)))}n=32;var r=t._;r||Kn(t)?3===r&&Wt&&(1===Wt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Wt}else w(t)?(t={default:t,_ctx:Wt},n=32):(t=String(t),64&s?(n=16,t=[Ks(t)]):n=8);e.children=t,e.shapeFlag|=n}function ti(...e){for(var t={},n=0;n<e.length;n++){var s=e[n];for(var i in s)if("class"===i)t.class!==s.class&&(t.class=W([t.class,s.class]));else if("style"===i)t.style=N([t.style,s.style]);else if(c(i)){var r=t[i],a=s[i];!a||r===a||g(r)&&r.includes(a)||(t[i]=r?[].concat(r,a):a)}else""!==i&&(t[i]=s[i])}return t}function ni(e,t,n,s=null){Pt(e,t,7,[n,s])}var si=zn(),ii=0;var ri,ai,oi=null,li=F(),ci=(e,t)=>{var n;return(n=li[e])||(n=li[e]=[]),n.push(t),e=>{n.length>1?n.forEach((t=>t(e))):n[0](e)}};ri=ci("__VUE_INSTANCE_SETTERS__",(e=>oi=e)),ai=ci("__VUE_SSR_SETTERS__",(e=>mi=e));var ui=e=>{var t=oi;return ri(e),e.scope.on(),()=>{e.scope.off(),ri(t)}},di=()=>{oi&&oi.scope.off(),ri(null)};function pi(e){return 4&e.vnode.shapeFlag}var mi=!1;function hi(e,t,n){w(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:C(t)&&(e.setupState=Ct(t)),gi(e)}function gi(e,t,n){var s=e.type;e.render||(e.render=s.render||o);var i=ui(e);be();try{Bn(e)}finally{ke(),i()}}var vi={get:(e,t)=>(Be(e,0,""),e[t])};function fi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ct((t=e.exposed,!h(t,"__v_skip")&&Object.isExtensible(t)&&R(t,"__v_skip",!0),t)),{get:(t,n)=>n in t?t[n]:n in _n?_n[n](e):void 0,has:(e,t)=>t in e||t in _n})):e.proxy;var t}function yi(e,t=!0){return w(e)?e.displayName||e.name:e.name||t&&e.__name}var wi=(e,t)=>{var n=function(e,t,n=!1){var s,i;return w(e)?s=e:(s=e.get,i=e.set),new Et(s,i,n)}(e,0,mi);return n},bi="3.5.16",ki=void 0,Ci="undefined"!=typeof window&&window.trustedTypes;if(Ci)try{ki=Ci.createPolicy("vue",{createHTML:e=>e})}catch(hl){}var Ei=ki?e=>ki.createHTML(e):e=>e,xi="undefined"!=typeof document?document:null,Ii=xi&&xi.createElement("template"),_i={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{var t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{var i="svg"===t?xi.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?xi.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?xi.createElement(e,{is:n}):xi.createElement(e);return"select"===e&&s&&null!=s.multiple&&i.setAttribute("multiple",s.multiple),i},createText:e=>xi.createTextNode(e),createComment:e=>xi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){var a=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==r&&(i=i.nextSibling););else{Ii.innerHTML=Ei("svg"===s?`<svg>${e}</svg>`:"mathml"===s?`<math>${e}</math>`:e);var o=Ii.content;if("svg"===s||"mathml"===s){for(var l=o.firstChild;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ti=Symbol("_vtc");var Si=Symbol("_vod"),Li=Symbol("_vsh"),Pi=Symbol(""),Bi=/(^|;)\s*display\s*:/;var Mi=/\s*!important$/;function $i(e,t,n){if(g(n))n.forEach((n=>$i(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{var s=function(e,t){var n=Ui[t];if(n)return n;var s=B(t);if("filter"!==s&&s in e)return Ui[t]=s;s=A(s);for(var i=0;i<Ai.length;i++){var r=Ai[i]+s;if(r in e)return Ui[t]=r}return t}(e,t);Mi.test(n)?e.setProperty($(s),n.replace(Mi,""),"important"):e[s]=n}}var Ai=["Webkit","Moz","ms"],Ui={};var Oi="http://www.w3.org/1999/xlink";function Hi(e,t,n,s,i,r=Y(t)){s&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(Oi,t.slice(6,t.length)):e.setAttributeNS(Oi,t,n):null==n||r&&!X(n)?e.removeAttribute(t):e.setAttribute(t,r?"":k(n)?String(n):n)}function Ri(e,t,n,s,i){if("innerHTML"!==t&&"textContent"!==t){var r=e.tagName;if("value"===t&&"PROGRESS"!==r&&!r.includes("-")){var a="OPTION"===r?e.getAttribute("value")||"":e.value,o=null==n?"checkbox"===e.type?"on":"":String(n);return a===o&&"_value"in e||(e.value=o),null==n&&e.removeAttribute(t),void(e._value=n)}var l=!1;if(""===n||null==n){var c=typeof e[t];"boolean"===c?n=X(n):null==n&&"string"===c?(n="",l=!0):"number"===c&&(n=0,l=!0)}try{e[t]=n}catch(hl){}l&&e.removeAttribute(i||t)}else null!=n&&(e[t]="innerHTML"===t?Ei(n):n)}function Di(e,t,n,s){e.addEventListener(t,n,s)}var Fi=Symbol("_vei");function Ni(t,n,s,i,r=null){var a=t[Fi]||(t[Fi]={}),o=a[n];if(i&&o)o.value=i;else{var l=function(e){var t;if(zi.test(e)){var n;for(t={};n=e.match(zi);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}var s=":"===e[2]?e.slice(3):$(e.slice(2));return[s,t]}(n),c=e(l,2),u=c[0],d=c[1];if(i){var p=a[n]=function(e,t){var n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Pt(function(e,t){if(g(t)){var n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=qi(),n}(i,r);Di(t,u,p,d)}else o&&(!function(e,t,n,s){e.removeEventListener(t,n,s)}(t,u,o,d),a[n]=void 0)}}var zi=/(?:Once|Passive|Capture)$/;var Vi=0,ji=Promise.resolve(),qi=()=>Vi||(ji.then((()=>Vi=0)),Vi=Date.now());var Wi=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;var Yi=e=>{var t=e.props["onUpdate:modelValue"]||!1;return g(t)?e=>H(t,e):t};function Xi(e){e.target.composing=!0}function Ki(e){var t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}var Gi=Symbol("_assign"),Qi={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[Gi]=Yi(i);var r=s||i.props&&"number"===i.props.type;Di(e,t?"change":"input",(t=>{if(!t.target.composing){var s=e.value;n&&(s=s.trim()),r&&(s=D(s)),e[Gi](s)}})),n&&Di(e,"change",(()=>{e.value=e.value.trim()})),t||(Di(e,"compositionstart",Xi),Di(e,"compositionend",Ki),Di(e,"change",Ki))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},a){if(e[Gi]=Yi(a),!e.composing){var o=null==t?"":t;if((!r&&"number"!==e.type||/^0\d/.test(e.value)?e.value:D(e.value))!==o){if(document.activeElement===e&&"range"!==e.type){if(s&&t===n)return;if(i&&e.value.trim()===o)return}e.value=o}}}},Ji={deep:!0,created(e,t,n){e[Gi]=Yi(n),Di(e,"change",(()=>{var t=e._modelValue,n=sr(e),s=e.checked,i=e[Gi];if(g(t)){var r=G(t,n),a=-1!==r;if(s&&!a)i(t.concat(n));else if(!s&&a){var o=[...t];o.splice(r,1),i(o)}}else if(f(t)){var l=new Set(t);s?l.add(n):l.delete(n),i(l)}else i(ir(e,s))}))},mounted:Zi,beforeUpdate(e,t,n){e[Gi]=Yi(n),Zi(e,t,n)}};function Zi(e,{value:t,oldValue:n},s){var i;if(e._modelValue=t,g(t))i=G(t,s.props.value)>-1;else if(f(t))i=t.has(s.props.value);else{if(t===n)return;i=K(t,ir(e,!0))}e.checked!==i&&(e.checked=i)}var er={created(e,{value:t},n){e.checked=K(t,n.props.value),e[Gi]=Yi(n),Di(e,"change",(()=>{e[Gi](sr(e))}))},beforeUpdate(e,{value:t,oldValue:n},s){e[Gi]=Yi(s),t!==n&&(e.checked=K(t,s.props.value))}},tr={deep:!0,created(e,{value:t,modifiers:{number:n}},s){var i=f(t);Di(e,"change",(()=>{var t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?D(sr(e)):sr(e)));e[Gi](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,Dt((()=>{e._assigning=!1}))})),e[Gi]=Yi(s)},mounted(e,{value:t}){nr(e,t)},beforeUpdate(e,t,n){e[Gi]=Yi(n)},updated(e,{value:t}){e._assigning||nr(e,t)}};function nr(e,t){var n=e.multiple,s=g(t);if(!n||s||f(t)){for(var i,r=function(){var i=e.options[a],r=sr(i);if(n)if(s){var o=typeof r;i.selected="string"===o||"number"===o?t.some((e=>String(e)===String(r))):G(t,r)>-1}else i.selected=t.has(r);else if(K(sr(i),t))return e.selectedIndex!==a&&(e.selectedIndex=a),{v:void 0}},a=0,o=e.options.length;a<o;a++)if(i=r())return i.v;n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function sr(e){return"_value"in e?e._value:e.value}function ir(e,t){var n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}var rr={created(e,t,n){ar(e,t,n,null,"created")},mounted(e,t,n){ar(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){ar(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){ar(e,t,n,s,"updated")}};function ar(e,t,n,s,i){var r=function(e,t){switch(e){case"SELECT":return tr;case"TEXTAREA":return Qi;default:switch(t){case"checkbox":return Ji;case"radio":return er;default:return Qi}}}(e.tagName,n.props&&n.props.type)[i];r&&r(e,t,n,s)}var or,lr=d({patchProp:(e,n,s,i,r,a)=>{var o="svg"===r;"class"===n?function(e,t,n){var s=e[Ti];s&&(t=(t?[t,...s]:[...s]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,o):"style"===n?function(e,n,s){var i=e.style,r=b(s),a=!1;if(s&&!r){if(n)if(b(n)){var o,l=t(n.split(";"));try{for(l.s();!(o=l.n()).done;){var c=o.value,u=c.slice(0,c.indexOf(":")).trim();null==s[u]&&$i(i,u,"")}}catch(h){l.e(h)}finally{l.f()}}else for(var d in n)null==s[d]&&$i(i,d,"");for(var p in s)"display"===p&&(a=!0),$i(i,p,s[p])}else if(r){if(n!==s){var m=i[Pi];m&&(s+=";"+m),i.cssText=s,a=Bi.test(s)}}else n&&e.removeAttribute("style");Si in e&&(e[Si]=a?i.display:"",e[Li]&&(i.display="none"))}(e,s,i):c(n)?u(n)||Ni(e,n,0,i,a):("."===n[0]?(n=n.slice(1),1):"^"===n[0]?(n=n.slice(1),0):function(e,t,n,s){if(s)return"innerHTML"===t||"textContent"===t||!!(t in e&&Wi(t)&&w(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){var i=e.tagName;if("IMG"===i||"VIDEO"===i||"CANVAS"===i||"SOURCE"===i)return!1}if(Wi(t)&&b(n))return!1;return t in e}(e,n,i,o))?(Ri(e,n,i),e.tagName.includes("-")||"value"!==n&&"checked"!==n&&"selected"!==n||Hi(e,n,i,o,0,"value"!==n)):!e._isVueCE||!/[A-Z]/.test(n)&&b(i)?("true-value"===n?e._trueValue=i:"false-value"===n&&(e._falseValue=i),Hi(e,n,i,o)):Ri(e,B(n),i,0,n)}},_i);var cr=(...e)=>{var t=(or||(or=cs(lr))).createApp(...e),n=t.mount;return t.mount=e=>{var s=function(e){if(b(e)){return document.querySelector(e)}return e}(e);if(s){var i=t._component;w(i)||i.render||i.template||(i.template=s.innerHTML),1===s.nodeType&&(s.textContent="");var r=n(s,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),r}},t};var ur={data:()=>({count:0,msgs:[]}),methods:{show(e){"string"==typeof e&&(e={type:"info",msg:e}),e.id=this.count,this.count++,this.msgs.push(e),e.persist||setTimeout((()=>{this.close(e.id)}),e.timeout||4e3)},close(e){this.msgs.forEach(((t,n)=>{t.id!=e||this.msgs.splice(n,1)}))}}},dr=(n,s)=>{var i,r=n.__vccOpts||n,a=t(s);try{for(a.s();!(i=a.n()).done;){var o=e(i.value,2),l=o[0],c=o[1];r[l]=c}}catch(u){a.e(u)}finally{a.f()}return r},pr={key:0},mr={key:1},hr={key:2},gr={key:3},vr=["innerHTML"],fr=["onClick"];var yr=cr(dr(ur,[["render",function(e,t,n,s,i,r){return Os(!0),Fs(Ps,null,xn(i.msgs,(e=>(Os(),Fs("div",{key:e.id,class:W([e.type,e.persist?"persist":""])},["info"==e.type?(Os(),Fs("i",pr,"ðŸ’¡")):Qs("",!0),"success"==e.type?(Os(),Fs("i",mr,"âœ…")):Qs("",!0),"warn"==e.type?(Os(),Fs("i",hr,"âš ï¸")):Qs("",!0),"error"==e.type?(Os(),Fs("i",gr,"âŒ")):Qs("",!0),Ws("span",{innerHTML:e.msg},null,8,vr),e.persist?(Os(),Fs("i",{key:4,class:"closeBtn",onClick:t=>r.close(e.id)},null,8,fr)):Qs("",!0)],2)))),128)}]])).mount("#floatMsgs"),wr={data:()=>({popups:[]}),methods:{show(e,t){e in this.$.appContext.components?this.popups.push({component:e,props:t}):_a(void 0,`Cannot find a popup named "${e}"`)},close(e){null!=e?this.popups.splice(e,1):this.popups=[]},getAllPopups(){var e=[];for(var t in this.$refs){var n=this.$refs[t];n.length&&e.push(n[0])}return e}}},br={class:"popupContainer"},kr=["onClick"],Cr={class:"popupItem"},Er=["onClick"];var xr=dr(wr,[["render",function(e,t,n,s,i,r){return Os(!0),Fs(Ps,null,xn(i.popups,((e,t)=>(Os(),Fs("div",br,[Ws("div",{class:"popupBG",onClick:e=>r.close(t)},null,8,kr),Ws("div",Cr,[(Os(),Ns(Cn(e.component),ti({ref_for:!0,ref:`popup-${t}`},{ref_for:!0},e.props,{onClose:e=>r.close(t)}),null,16,["onClose"])),Ws("button",{class:"closeBtn",onClick:e=>r.close(t)},null,8,Er)])])))),256)}]]),Ir=cr(xr),_r=Ir.mount("#popups"),Tr=window.baseUrl?window.baseUrl.endsWith("/")?window.baseUrl:window.baseUrl+"/":"";console.log(`Base URL: "${Tr}"`);var Sr={baseUrl:`${Tr}api/`,token:"",send(e,t,n,s){var i;return i={includeToken:!0},s&&Object.assign(i,s),s=i,new Promise(((i,r)=>{var a=new XMLHttpRequest;a.open(e,this.baseUrl+t),this.token&&s.includeToken&&a.setRequestHeader("token",this.token),"object"==typeof n?(a.setRequestHeader("Content-Type","application/json"),a.send(JSON.stringify(n))):a.send(n),a.onload=()=>{if(a.status<400)try{var e=JSON.parse(a.responseText);e.code&&1!=e.code&&yr.show({type:"warn",msg:`${e.message} (${e.code})`}),i(e)}catch(t){i(a.responseText)}else{401==a.status&&(this.token=""),yr.show({type:"error",msg:`${a.responseText} (${a.status})`});try{r(JSON.parse(a.responseText))}catch(t){r(a)}}},a.onerror=()=>{yr.show({type:"error",msg:"Network error"}),r(a)},a.ontimeout=()=>{yr.show({type:"error",msg:"Request timed out"}),r(a)}}))},get(e,t,n){return this.send("GET",e+ba(t),void 0,n)},post(e,t,n){return this.send("POST",e,t,n)},put(e,t,n){return this.send("PUT",e,t,n)},delete(e,t,n){return this.send("DELETE",e,t,n)}},Lr={elements:{showKami:document.getElementById("showKami")},init(){this.load(),this.elements.showKami.onchange=e=>this.showKami=e.target.checked},load(){"true"==ga("showKami")&&(this.showKami=!0)},get pageScale(){var e=parseFloat(document.documentElement.style.fontSize)/16;return e||1},set pageScale(e){document.documentElement.style.fontSize=16*e+"px"},get showKami(){return this.elements.showKami.checked},set showKami(e){this.elements.showKami.checked=e,va("showKami",e),setTimeout((()=>{Xa.hasItem()&&($r(),Pr())}),0)},get showHidden(){var e=document.getElementById("showHiddenCSS");return!!e&&Boolean(e.innerHTML)},set showHidden(e){var t=document.getElementById("showHiddenCSS");t||(document.head.appendChild(fa('<style id="showHiddenCSS"></style>')),t=document.getElementById("showHiddenCSS")),t.innerHTML=e?"\n            #comments .commentBox.hidden {\n                display: block;\n            }\n        ":""}};try{Lr.init()}catch(gl){_a(gl,"failed to init settings")}function Pr(e={},n=void 0,s=!1){var i="kami"==e.db?e.from>Rr():e.from>Or(),r="kami"==e.db?e.from<Dr():e.from<Hr();Sr.get("comments",e).then((a=>{if(Wa&&console.log(e),Wa&&console.log("isNewer:",i," isOlder:",r," length:",a.length),0==a.length)return i?(console.log("comments are up to date"),document.getElementById("loadingIndicatorBefore").style.display="none",Pa=!0,void(window.clearCommentsUpToDateTimeout=setTimeout((()=>{Pa=!1}),1e4))):r&&"kami"==e.db?(console.log("reached the oldest comment"),void(document.getElementById("loadingIndicator").style.display="none")):void(e.from&&0==document.getElementsByClassName("commentItem").length&&(document.getElementById("loadingIndicatorBefore").style.display="none"));a[0].time>Ba&&(aa(Ba=a[0].time),ua());var o=a[0].time>Fr()||null!=n;Wa&&console.log("KeepPos:",o),null==n&&(n=zr());var l,c=n.getBoundingClientRect().top,u=n.getBoundingClientRect().left,d=Fr(),p=Nr(),m=t(a);try{for(m.s();!(l=m.n()).done;){var h=l.value;"kami"==e.db&&h.id>=35668&&Fr()<=1684651800||Br(h,"kami"==e.db)}}catch(f){m.e(f)}finally{m.f()}if(o&&null==document.getElementById("topComment"))if(Wa&&console.log(n),qa){var g=n.getBoundingClientRect().top;Ha.scrollTop+=g-c}else{var v=n.getBoundingClientRect().left;Ha.scrollLeft+=v-u}Lr.showKami&&null==e.db&&0==s&&(r?Pr({timeMin:a[a.length-1].time,timeMax:p,db:"kami"}):i?Pr({timeMin:d,timeMax:a[0].time,db:"kami"},n):null!=e.time||null!=e.from?Pr({timeMin:a[a.length-1].time,timeMax:a[0].time,db:"kami"}):null==e.timeMin&&null==e.timeMax&&Pr({timeMin:a[a.length-1].time,timeMax:parseInt(Date.now()/1e3),db:"kami"})),la(!0),Wa&&console.log("maxID:",Or()," minID:",Hr())})).catch((e=>{401==e.status&&Pr()}))}function Br(e,n=!1){var s=null;function i(t){return wa([e.time,e.id],[parseInt(r[t].dataset.timestamp),""==r[t].id?parseInt(r[t].dataset.kamiid.replace("#","")):parseInt(r[t].id.replace("#",""))])}var r=document.getElementsByClassName("commentItem");if(0==r.length)s=document.getElementById("loadingIndicator");else if(i(0)>0)s=r[0];else if(i(r.length-1)<0)s=document.getElementById("loadingIndicator");else for(var a=0;a<r.length-1;a++)if(i(a)<0&&i(a+1)>0){s=r[a+1];break}if(null!=s){for(var o,l=new Date(1e3*e.time),c=l.toLocaleDateString(),u=l.toLocaleTimeString();o=ma(1,Qa),Ja.includes(o););Ja.push(o),Ja.length>5&&Ja.splice(0,1),1==n&&(e.comment=e.comment.replace("This message is sent using a proxy. If it is dirty, please click here to delete it.",""));var d="";try{if(""!=e.image){var p,m=t(e.image.split(","));try{for(m.s();!(p=m.n()).done;){var h=p.value;d+=`<img loading="lazy" src="${Tr}api/data/images/posts/${h}.jpg" onclick="viewImg(this.src); Comments.forceLowerPanelUp()">`}}catch(v){m.e(v)}finally{m.f()}}}catch(gl){}d&&(d="<br><br>"+d),e.replyid&&(d='<br><div class="reply-quote"></div>'+d);var g=fa(`\n        <div class="commentBox commentItem${e.hidden?" hidden":""}" ${1==n?`data-kamiid="#${e.id}"`:`id="#${e.id}"`} data-timestamp="${e.time}">\n            <img class="bg" loading="lazy" src="${Tr}bg/msgbg${o}.jpg" ${1==e.hidden?'style="display: none;"':""}>\n            <div class="bgcover"></div>\n            <img class="avatar" loading="lazy" src="${1==n?`https://kami.im/getavatar.php?uid=${e.uid}`:Gr.convertAvatarPath(e.avatar)}">\n            <div class="sender" onclick="this.previousElementSibling.click()">\n                ${"åŒ¿åç”¨æˆ·"==e.sender?'<span class="ui zh">åŒ¿åç”¨æˆ·</span><span class="ui en">Anonymous</span>':e.sender}\n            </div>\n            <div class="id">#${e.id}${1==n?" (kami.im)":""}</div>\n            <div class="comment">${ya(e.comment)}${d}</div>\n            <div class="time">${c+" "+u}${1==e.hidden?" (hidden)":""}</div>\n            <div class="action" ${n?'style="display: none"':""}>\n                <span class="btn like">\n                    <span class="like-count"></span>\n                </span>\n                <img class="btn reply" src="${Tr}res/reply.svg">\n            </div>\n        </div>\n    `);g.querySelector(".avatar").onclick=function(){null==e.uid||n?Jr(e.sender,this.src,e.uid):Yr.show("userHome",{id:e.uid,name:e.sender,avatar:e.avatar}),Xa.forceLowerPanelUp()},{likeBtn:g.querySelector(".btn.like"),likeCount:g.querySelector(".like-count"),replyBtn:g.querySelector(".btn.reply"),replyQuote:g.querySelector(".reply-quote"),get liked(){return this.likeBtn.classList.contains("liked")},set liked(e){e?this.likeBtn.classList.add("liked"):this.likeBtn.classList.remove("liked")},get likes(){return parseInt(this.likeCount.textContent)||0},set likes(e){this.likeCount.textContent=e,this.likeCount.style.display=e?"block":"none"},init(){this.liked=e.liked,this.likes=e.likes,this.likeBtn.onclick=()=>{(this.liked?Sr.delete(`comments/like?commentId=${e.id}`):Sr.post(`comments/like?commentId=${e.id}`)).then((()=>{Sr.get("comments",{from:e.id,count:1}).then((e=>{this.liked=e[0].liked,this.likes=e[0].likes}))}))},this.replyBtn.onclick=()=>{Vr.reply(e.id)},e.replyid&&Mr(this.replyQuote,e.replyid,{clickable:!0})}}.init(),Ha.insertBefore(g,s)}else console.log("Duplicate comment detected:",e.id)}function Mr(e,t,n){Sr.get("comments",{from:t,count:1}).then((t=>{var s=t[0];e.$comment=s,e.innerHTML=`\n            <img class="reply-icon" src="${Tr}res/reply.svg">\n            <div class="quote-content">\n                <div class="quote-head">\n                    <img class="quote-avatar" src="${Gr.convertAvatarPath(s.avatar)}">\n                    <div class="quote-sender">${s.sender}</div>\n                    <div class="quote-id">#${s.id}</div>\n                </div>\n                <div class="quote-body">${s.comment}</div>\n            </div>\n        `,e.classList.add("comment-reply-quote"),e.contentEditable=!1,n.clickable&&(e.classList.add("clickable"),e.onclick=()=>{$r(1),Pr({from:s.id})}),n.dark&&e.classList.add("dark")}))}function $r(e){1==e?Ha.innerHTML=ja+Va:(Ha.innerHTML=za+ja+Va,document.getElementById("loadingIndicatorBefore").style.display="none"),Xa.scrollPaused=!1,Pa=!1,clearTimeout(window.clearCommentsUpToDateTimeout),document.body.classList.remove("touchKeyboardShowing")}function Ar(){null==Hr()||Hr()<=1?null==Dr()?Pr({from:35662,db:"kami"}):Pr({from:Dr()-1,db:"kami"}):Pr({from:Hr()-1})}function Ur(){if(null!=document.getElementById("newCommentBox")&&null==document.getElementById("topComment"))return console.log("newCommentBox is active, and you are viewing older comments\nskipping upper comments"),void(document.getElementById("loadingIndicatorBefore").style.display="none");var e=10;if(qa){for(e=2*ra();e<9;)e+=ra();Ha.scrollTop=0}null==Rr()||Rr()>=35662?null==Or()?(35662==Rr()&&Pr({time:Fr()},zr()),35662!=Rr()&&Pr({timeMin:Nr(),timeMax:Fr()},zr(),!0)):Pr({from:Or()+1,count:0-e}):Pr({from:Rr()+1,count:0-e,db:"kami"})}function Or(){var e=document.querySelectorAll('.commentItem[id^="#"]');if(e.length>0)return parseInt(e[0].id.replace("#",""))}function Hr(){var e=document.querySelectorAll('.commentItem[id^="#"]');if(e.length>0)return parseInt(e[e.length-1].id.replace("#",""))}function Rr(){var e=document.querySelectorAll('.commentItem[data-kamiid^="#"]');if(e.length>0)return parseInt(e[0].dataset.kamiid.replace("#",""))}function Dr(){var e=document.querySelectorAll('.commentItem[data-kamiid^="#"]');if(e.length>0)return parseInt(e[e.length-1].dataset.kamiid.replace("#",""))}function Fr(){var e=document.querySelectorAll(".commentItem");if(e.length>0)return parseInt(e[0].dataset.timestamp)}function Nr(){var e=document.querySelectorAll(".commentItem");if(e.length>0)return parseInt(e[e.length-1].dataset.timestamp)}function zr(){return document.querySelector(".commentItem:not(.hidden)")||document.getElementById("loadingIndicatorBefore").nextElementSibling}var Vr={show(){Ha.scrollLeft=0,Ha.scrollTop=0,document.getElementById("newCommentBox")||(Ha.insertBefore(fa('\n            <div class="commentBox" id="newCommentBox">\n                <div class="bgcover"></div>\n                <img class="avatar" id="msgPopupAvatar" onclick="XHR.token && User.changeAvatar()">\n                <div class="sender" id="senderText" onclick="XHR.token && User.changeName()"></div>\n                <div class="id" onclick="Popup.show(\'loginPopup\')"><span class="ui zh">æ³¨å†Œ/ç™»å½•</span><span class="ui en">Login / Register</span></div>\n                <div class="comment">\n                    <div id="msgText" placeholder="åœ†ç¥žä¿ä½‘~" contenteditable="true" onfocus="Comments.forceLowerPanelUp(); TouchKeyboardDetector.detect()" onblur="TouchKeyboardDetector.detect()"></div>\n                    <div id="uploadImgList"></div>\n                </div>\n                <label>\n                    <input id="uploadImgPicker" type="file" accept="image/*" onchange="previewLocalImgs()" multiple style="display: none;" />\n                    <span><span class="ui zh">+ æ·»åŠ å›¾ç‰‡</span><span class="ui en">+ Add images</span></span>\n                </label>\n                <button id="sendBtn" onclick="sendMessage()"><span class="ui zh">å‘é€ âœ”</span><span class="ui en">Send âœ”</span></button>\n            </div>\n        '),Ha.firstElementChild),Qr()),document.getElementById("msgText").focus({preventScroll:!0})},previewLocalImgs(){var e=document.getElementById("uploadImgPicker");if(0!==e.files.length){for(var t=0;t<e.files.length;t++)La(e.files[t],null,21e5).then((e=>{document.getElementById("uploadImgList").appendChild(fa(`\n                    <div>\n                        <img src="${e}" class="uploadImg" onclick="viewImg(this.src)">\n                        <button onclick="this.parentNode.remove()">âŒ</button>\n                    </div>\n                `))}));e.value=""}else console.log("No file chosen")},reply(e){if(document.getElementById("newCommentBox")){var t=document.getElementById("msgText");this.removeReply();var n=fa('<div id="newCommentReplyQuote"></div>');this.getNewMessage()||t.appendChild(fa("<div><br></div>")),t.appendChild(n),Mr(this.getReplyQuote(),e,{dark:!0}),this.show()}else jr(),this.reply(e)},removeReply(){var e=this.getReplyQuote();e&&e.remove()},getReplyQuote:()=>document.getElementById("newCommentReplyQuote"),getReplyId(){var e=this.getReplyQuote();return e?e.$comment.id:void 0},getNewMessage(){var e=this.getReplyQuote();e&&(e.style.display="none");var t=document.getElementById("msgText").innerText;return e&&e.style.removeProperty("display"),t},send(){var e=this.getReplyId(),t=this.getNewMessage(),n=[],s=document.getElementsByClassName("uploadImg");if(s.length>0)for(var i=0;i<s.length;i++){var r=s[i];n.push(r.src.split(";base64,")[1])}""!=t.replace(/\s/g,"")?(document.getElementById("sendBtn").disabled=!0,document.getElementById("sendBtn").innerHTML='<span class="ui zh">æ­£åœ¨å‘é€â€¦</span><span class="ui en">Sendingâ€¦</span>',Sr.post("comments/post",{sender:Sr.token?void 0:"åŒ¿åç”¨æˆ·",comment:t,images:n,replyid:e}).then((e=>{console.log(e),document.getElementById("sendBtn").innerHTML='<span class="ui zh">å‘é€æˆåŠŸ!</span><span class="ui en">Sent!</span>',setTimeout((()=>{$r(),Pr()}),1e3)})).catch((()=>{window.alert("å‘é€ç•™è¨€å¤±è´¥\nå¦‚æžœé—®é¢˜æŒç»­, è¯·å‘é‚®ä»¶åˆ° 3112611479@qq.com (æˆ–åŠ æ­¤QQ)\n\nFailed to send message, if problem persists, please contact 3112611479@qq.com"),document.getElementById("sendBtn").disabled=!1,document.getElementById("sendBtn").innerHTML='<span class="ui zh">å‘é€ âœ”</span><span class="ui en">Send âœ”</span>'}))):yr.show({type:"warn",msg:'<span class="ui zh">ç•™è¨€ä¸èƒ½ä¸ºç©º!</span><span class="ui en">Do not leave the message empty!</span>'})}},jr=Vr.show.bind(Vr),qr=Vr.send.bind(Vr),Wr=Vr.previewLocalImgs.bind(Vr),Yr={elements:{popupContainer:document.getElementById("popupContainer"),popupItems:Array.from(document.querySelectorAll("#popupContainer .popupItem"))},VuePopups:_r,hideAllPopupItems(){this.elements.popupItems.forEach((e=>{e.style.display="none"}))},show(e,t){setTimeout((()=>{location.hash.startsWith("#popup-")||location.hash.startsWith("#resetpassword=")||(location.hash="popup"),document.documentElement.style.setProperty("--popupFromTranslateX",(no?no.pageX-window.innerWidth/2:0)+"px"),document.documentElement.style.setProperty("--popupFromTranslateY",(no?no.pageY-window.innerHeight/2:0)+"px");var n=document.getElementById(e);if(n)switch(this.hideAllPopupItems(),this.elements.popupContainer.style.removeProperty("display"),n.style.removeProperty("display"),e){case"getImgPopup":for(var s in document.getElementById("getImgPopup").firstElementChild.lastElementChild.innerHTML="",ea.themes){var i=ea.themes[s];try{for(var r=0;r<document.getElementsByClassName(`${i}bg`).length;r++)document.getElementById("getImgPopup").firstElementChild.lastElementChild.appendChild(fa(`\n                                    <img loading="lazy" src="${Tr}bg/${"default"!=i?i:""}/mainbg${r+1}.jpg" style="min-height: 40vh;" onload="this.style.removeProperty('min-height')">\n                                    <p>\n                                        ${document.getElementsByClassName(`${i}bg`)[r].children[1].innerHTML}\n                                        ${null!=document.getElementsByClassName(`${i}bg`)[r].dataset.pixivid?`\n                                            <a href="https://www.pixiv.net/artworks/${document.getElementsByClassName(`${i}bg`)[r].dataset.pixivid}" target="_blank">Pixivâ†—</a>\n                                        `:""}\n                                    </p>\n                                    <br>\n                                `))}catch(gl){console.log(gl)}}for(var a=0;a<Qa;a++)document.getElementById("getImgPopup").firstElementChild.lastElementChild.appendChild(fa(`\n                            <img loading="lazy" src="${Tr}bg/msgbg${a+1}.jpg" style="min-height: 40vh;" onload="this.style.removeProperty('min-height')">\n                            <p>\n                                ${null!=Ga[a].description?Ga[a].description:`Artwork by ${Ga[a].illustrator} <a href="https://www.pixiv.net/artworks/${Ga[a].pixivid}" target="_blank">Pixivâ†—</a>`}\n                            </p>\n                            <br>\n                        `));break;case"displaySettings":var o=ga("graphicsMode");document.getElementById("graphicsMode").value=o||"high",document.getElementById("pageZoomController").value=Math.round(100*Lr.pageScale)}else this.VuePopups.show(e,t)}),35)},close(){"#popup"!=location.hash?(this.elements.popupContainer.style.display="none",this.hideAllPopupItems(),this.VuePopups.close()):history.back()},isOpen(){return"none"!=this.elements.popupContainer.style.display||this.VuePopups.popups.length>0},init(){this.elements.popupContainer.onclick=e=>{(e.target.classList.contains("closeBtn")||"popupBG"==e.target.id)&&this.close()}}},Xr=Yr.show.bind(Yr),Kr=Yr.close.bind(Yr);try{Yr.init()}catch(gl){_a(gl,"failed to init popup")}var Gr={LoggedOnUserId:null,init(){Sr.token=ga("token"),this.loadUserInfo(),ga("username")&&(Sr.token?va("username",""):setTimeout((()=>{Sr.post("user/login",{name:ga("username")}).then((e=>{1==e.code&&(Sr.token=e.data,va("token",e.data),va("username",""),Qr(),yr.show({type:"info",persist:!0,msg:'\n                                <span class="ui zh">è´¦å·ç³»ç»Ÿå·²å‡çº§, æ‚¨çŽ°åœ¨å¯ä»¥è®¾ç½®é‚®ç®±/å¯†ç äº†</span>\n                                <span class="ui en">Account system has been upgraded, you can set email/password now.</span>\n                            '}))}))}),0))},changeName(){this.getMe().then((e=>Yr.show("promptInputPopup",{title:'<span class="ui zh">ä¿®æ”¹æ˜µç§°</span><span class="ui en">Change nickname</span>',subtitle:`\n                    <span class="ui zh">${e.hasEmail?"":"æ›´æ”¹åŽ, <b>å°†æ— æ³•ä½¿ç”¨æ—§æ˜µç§°ç™»å½•</b><br>è¯·ç¡®ä¿è¿™æ˜¯æ‚¨çš„è´¦å·, å†è¿›è¡Œä¿®æ”¹, å¦åˆ™, è¯·å…ˆåˆ›å»ºä¸€ä¸ªè‡ªå·±çš„è´¦å·<br><br>"}è¾“å…¥æ–°æ˜µç§°</span>\n                    <span class="ui en">${e.hasEmail?"":"After changing, <b>you won&rsquo;t be able to log in with the old name.</b><br>Make sure this is your account, if not, create a new one.<br><br>"}Enter your new nickname</span>\n                    `,text:e.name,action(e){Sr.put("user/update",{name:e}).then((e=>{1==e.code&&(this.$emit("close"),yr.show({type:"success",msg:'<span class="ui zh">ä¿®æ”¹æˆåŠŸ</span><span class="ui en">Successfully changed</span>'}),Qr())}))}})))},changeEmail(){this.getMe().then((e=>Yr.show("promptInputPopup",{title:'<span class="ui zh">ä¿®æ”¹é‚®ç®±</span><span class="ui en">Change email</span>',subtitle:'\n                    <span class="ui zh">è®¾ç½®é‚®ç®±åŽ, <b>è¯¥è´¦å·ä»…èƒ½é€šè¿‡é‚®ç®±ç™»å½•</b><br>å¦‚æžœè¿™ä¸æ˜¯ä½ çš„è´¦å·, è¯·ä¸è¦ä¿®æ”¹, è¯·å…ˆåˆ›å»ºä¸€ä¸ªè‡ªå·±çš„è´¦å·<br><br>è¾“å…¥æ–°é‚®ç®±</span>\n                    <span class="ui en">\n                        <b>You can only log in with your email after setting it, </b>people who don\'t know your email won\'t be able to log in.<br>\n                        If this is not your account, please do not change anything. Log out and register your own one.<br><br>\n                        Enter your email\n                    </span>\n                    ',text:e.email,action(e){this.disabled=!0,Sr.put("user/update",{email:e}).then((e=>{1==e.code&&(this.$emit("close"),yr.show({type:"success",persist:!0,msg:'\n                                <span class="ui zh">é‚®ä»¶å‘é€æˆåŠŸ! è¯·æ‰“å¼€é‚®ä»¶ä¸­çš„é“¾æŽ¥, ä»¥ç¡®è®¤ä¿®æ”¹</span>\n                                <span class="ui en">Confirmation email sent, please check your inbox</span>'})),this.disabled=!1})).catch((()=>{this.disabled=!1}))}})))},changePassword(){Yr.show("setPasswordPopup")},changeAvatar(){Yr.show("setAvatarPopup")},getMe:()=>Sr.get("user/me"),showMe(){Yr.show("userHome")},convertAvatarPath:e=>e?`${Tr}api/data/images/avatars/`+encodeURIComponent(e):"",loadUserInfo(){var e=document.getElementById("userInfo"),t=document.getElementById("userInfoAvatar"),n=document.getElementById("userInfoName");if(Sr.token)Gr.getMe().then((e=>{this.LoggedOnUserId=e.id,t.src=Gr.convertAvatarPath(e.avatar),n.textContent=e.name;try{document.getElementById("msgPopupAvatar").src=Gr.convertAvatarPath(e.avatar),document.getElementById("senderText").textContent=e.name}catch(gl){}try{Yr.VuePopups.getAllPopups().forEach((e=>{e.$el.classList.contains("userHome")&&e.getUser()}))}catch(gl){_a(gl,"Failed to access popup instances")}})).catch((e=>{401==e.status&&this.loadUserInfo()})),e.onclick=()=>this.showMe(),e.classList.remove("nologin");else{this.LoggedOnUserId=null,t.src=`${Tr}api/data/images/defaultAvatar.png`,n.innerHTML='<span class="ui zh">è®¿å®¢</span><span class="ui en">Anonymous</span>';try{document.getElementById("msgPopupAvatar").src=`${Tr}api/data/images/defaultAvatar.png`,document.getElementById("senderText").innerHTML='<span class="ui zh">åŒ¿åç”¨æˆ·</span><span class="ui en">Anonymous</span>'}catch(gl){}e.onclick=()=>Yr.show("loginPopup"),e.classList.add("nologin")}},logout(){va("token",""),Sr.token="",Kr(),setTimeout(Qr,0)},resetToken(){Sr.post("user/resettoken").then((e=>e&&this.logout()))}},Qr=Gr.loadUserInfo.bind(Gr);try{Gr.init()}catch(gl){_a(gl,"failed to init user")}function Jr(e,n,s){if(Wa&&console.log(e),null==e&&""==Ma||""==e)Wa&&console.log("empty user!");else{Ra.removeEventListener("scroll",Zr),null!=e&&(Ra.innerHTML=`\n        <h2>\n            <img src="${n}" onclick="viewImg(this.src)">\n            <span>${"åŒ¿åç”¨æˆ·"==e?'<span class="ui zh">åŒ¿åç”¨æˆ·</span><span class="ui en">Anonymous</span>':e}${s?`<span class='kamiuid'>${s}</span>`:""}</span>\n        </h2>\n        `,Xr("showUserCommentPopup"),Ma=e,$a=0,Aa=!1);var i=new XMLHttpRequest;null!=e?i.open("GET",`${Tr}api/comments`+ba({user:e,count:50})):(i.open("GET",`${Tr}api/comments`+ba({user:Ma,from:$a,count:50,db:1==Aa?"kami":null})),Wa&&console.log(Ma,$a)),i.responseType="json",i.onload=()=>{if(200==i.status){var e,n=t(i.response);try{for(n.s();!(e=n.n()).done;){var s=e.value,r=new Date(1e3*s.time),a=r.toLocaleDateString(),o=r.toLocaleTimeString(),l="<i></i>";try{if(""!=s.image){var c,u=t(s.image.split(","));try{for(u.s();!(c=u.n()).done;){var d=c.value;l+=`<img loading="lazy" src="${Tr}api/data/images/posts/${d}.jpg" onclick="viewImg(this.src)">`}}catch(p){u.e(p)}finally{u.f()}}}catch(gl){}Ra.appendChild(fa(`\n                    <div class="userCommentItem">\n                        <p>${a+" "+o}<span>#${s.id}</span></p>\n                        <p>\n                            <span onclick='clearComments(1); loadComments({ from: ${s.id}${1==Aa?', db: "kami"':""} }); closePopup()'\n                                >${ya(s.comment)}</span>\n                            ${l}\n                        </p>\n                    </div>\n                `)),$a++}}catch(p){n.e(p)}finally{n.f()}1==Aa&&i.response.length<10&&(Ma="",Ra.appendChild(fa(`\n                    <h4>\n                        <span class="ui zh">- å…± ${document.getElementById("userComment").getElementsByTagName("div").length} æ¡ç•™è¨€ -</span>\n                        <span class="ui en">- Total ${document.getElementById("userComment").getElementsByTagName("div").length} messages -</span>\n                    </h4>\n                `))),0==Aa&&i.response.length<10&&($a=0,Aa=!0,setTimeout(Jr)),Ra.addEventListener("scroll",Zr)}},i.onerror=()=>{setTimeout((()=>{Ra.addEventListener("scroll",Zr),Zr()}),1e3)},i.send()}}function Zr(){Ra.scrollHeight-Ra.clientHeight-Ra.scrollTop<100&&Yr.isOpen()&&Jr()}var ea={elements:{bgs:document.getElementsByClassName("mainbg"),captionContainer:document.getElementById("mainCaptions"),captions:document.getElementById("mainCaptions").children,themeIndicators:document.getElementById("currentTheme").children,listSelectors:document.querySelectorAll("#themeList>div[data-theme]"),lowerPanel:document.getElementById("lowerPanel")},timers:{timeouts:[],intervals:[],setTimeout(e,t){for(;this.timeouts.length>=100;)this.timeouts.shift();this.timeouts.push(setTimeout((()=>e()),t))},setInterval(e,t){this.intervals.push(setInterval((()=>e()),t))},clear(){this.timeouts.forEach((e=>{clearTimeout(e)})),this.intervals.forEach((e=>{clearInterval(e)})),this.timeouts=[],this.intervals=[]}},themes:{"#default-theme":"default","#birthday":"birthday","#christmas":"christmas","#lunarNewYear":"lunarNewYear","#qixi":"qixi","#night":"night","#kami":"kami"},theme:"",currentBG:-1,currentCaption:-1,init(){this.setTheme(this.themes[location.hash]),setInterval((()=>{var e=this.getAutoTheme();this.lastAutoTheme&&this.lastAutoTheme!=e&&this.setTheme(),this.lastAutoTheme=e}),1e3),Array.from(this.elements.listSelectors).forEach((e=>{e.onclick=()=>{this.setTheme(e.dataset.theme),Kr()}}))},getAutoTheme(){var e=new Date,t=e.getFullYear();if(new Date(`Oct 3 ${t} 00:00`)<e&&e<new Date(`Oct 4 ${t} 06:00`))return"birthday";if(new Date(`Dec 25 ${t} 00:00`)<e&&e<new Date(`Dec 26 ${t} 06:00`))return"christmas";if(new Date("Jan 29 2025 00:00")<e&&e<new Date("Feb 3 2025 06:00"))return"lunarNewYear";if(new Date("Aug 10 2024 00:00")<e&&e<new Date("Aug 11 2024 06:00"))return"qixi";if(new Date("Sep 17 2024 00:00")<e&&e<new Date("Sep 20 2024 06:00")){var n=document.querySelector(".walpurgispvbg iframe").contentWindow.video;if(!n||!n.duration||n.currentTime<n.duration)return"walpurgispv"}return e.getHours()>=23||e.getHours()<=5?"night":"default"},setTheme(e){e||(e=this.getAutoTheme()),console.log(`setting theme to "${e}"`),Array.from(this.elements.bgs).forEach((e=>{e.classList.remove("ready","animating","visible")})),Array.from(this.elements.captions).forEach((e=>{e.classList.remove("visible")})),Array.from(this.elements.themeIndicators).forEach((e=>{e.classList.remove("visible")}));try{document.getElementById(`themeTxt-${e}`).classList.add("visible")}catch(gl){_a(gl,"theme indicator text not defined")}try{if("birthday"==e){var t=new Date,n=t.getFullYear()-2011;document.getElementById("birthdayDate").innerHTML=`10/3/${t.getFullYear()} - Madoka's ${n}th birthday`}if("lunarNewYear"==e?document.getElementsByClassName("fireworks")[0].classList.add("visible"):document.getElementsByClassName("fireworks")[0].classList.remove("visible"),"walpurgispv"==e){var s=document.querySelector(".walpurgispvbg"),i=document.querySelector(".walpurgispvbg iframe");i.contentWindow.video?i.contentWindow.location.reload():i.src=`index.hlsvideo.html#${Tr}media/walpurgis2_full.m3u`,s.onclick=()=>i.contentWindow.video&&i.contentWindow.video.click(),setTimeout((()=>{so.elements.player.muted=!0}),0)}else{var r=document.querySelector(".walpurgispvbg iframe").contentWindow.video;r&&r.pause(),setTimeout((()=>{so.elements.player.muted=!1}),0)}"kami"==e&&(ta(document.getElementsByClassName("kamiCaption")[0],750),Lr.showKami||(Lr.elements.showKami.checked=!0,setTimeout((()=>{Xa.hasItem()&&($r(),Pr())}),0)))}catch(gl){_a(gl,"failed to init theme-specific options")}this.timers.clear(),this.theme=e,this.currentBG=this.getCurrentBgCount()-1,this.currentCaption=-1,this.getCurrentBgs()[0].classList.add("bgzoom"),this.elements.captionContainer.style.opacity=0,Ta(this.elements.captionContainer,{transition:"none"}),this.nextImg(),this.nextCaption(),this.getCurrentBgCount()>1&&(this.timers.setInterval((()=>this.nextImg()),8e3),this.timers.setInterval((()=>this.nextCaption()),8e3)),this.elements.lowerPanel.classList.add("animating"),this.timers.setTimeout((()=>this.elements.lowerPanel.classList.remove("animating")),1700);try{so.setActiveSong(this.getThemeMusic()),so.userPaused||so.play()}catch(gl){}},getThemeMusic(){return{birthday:"ã¾ãŸ ã‚ã—ãŸ - æ‚ æœ¨ç¢§",night:"Scaena felix - ã‚ªãƒ«ã‚´ãƒ¼ãƒ« ãƒŸãƒ‰ãƒª",kami:"never leave you alone - æ¢¶æµ¦ç”±è¨˜",walpurgispv:"Nux Walpurgis - æ¢¶æµ¦ç”±è¨˜"}[this.theme]||(Math.random()>.5?"Sagitta luminis - ã‚ªãƒ«ã‚´ãƒ¼ãƒ« ãƒŸãƒ‰ãƒª":"å›ã®éŠ€ã®åº­ - ã‚ªãƒ«ã‚´ãƒ¼ãƒ« ãƒŸãƒ‰ãƒª")},getCurrentBgs(){return document.querySelectorAll(`.mainbg.${this.theme}bg`)},getCurrentBgCount(){return document.getElementsByClassName(`${this.theme}bg`).length},nextImg(){var e=this.currentBG;this.currentBG=e+1<this.getCurrentBgCount()?e+1:0;var t=this.currentBG+1<this.getCurrentBgCount()?this.currentBG+1:0,n=document.getElementsByClassName(`${this.theme}bg`),s="default"==this.theme?`${Tr}bg/`:`${Tr}bg/${this.theme}/`;try{if(n[e].classList.remove("visible"),n[this.currentBG].classList.add("ready","animating","visible"),n[this.currentBG].firstElementChild.style.backgroundImage=`url("${s}mainbg${this.currentBG+1}.jpg")`,e==this.currentBG)return;this.timers.setTimeout((()=>{n[e].classList.remove("ready","animating"),n[t].classList.add("ready"),n[t].classList.remove("bgzoom"),n[t].firstElementChild.style.backgroundImage=`url("${s}mainbg${t+1}.jpg")`}),2500)}catch(gl){_a(gl,"failed to show next image")}},nextCaption(){try{var e=document.getElementsByClassName(`${this.theme}Caption`)}catch(gl){return void console.log(gl)}1!=e.length?(this.elements.captionContainer.style.opacity=0,this.timers.setTimeout((()=>{for(var t=0;t<e.length;t++)e[t].classList.remove("visible");this.currentCaption<e.length-1?this.currentCaption++:this.currentCaption=0,e[this.currentCaption].classList.add("visible"),this.elements.captionContainer.style.opacity=1}),1500)):this.timers.setTimeout((()=>{e[0].classList.add("visible"),this.elements.captionContainer.style.opacity=1}),500)}};try{ea.init()}catch(gl){_a(gl,"failed to init theme")}function ta(e,t=0){for(var n=[],s=0;s<e.children.length;s++){var i=e.children[s];n.push(i.innerHTML),i.innerHTML=""}var r=0,a=0,o=[",","."],l=0;setTimeout((()=>{var t=setInterval((()=>{if(r<n.length)if(a<n[r].length){var s=n[r][a];if(o.includes(s)){if(0==l&&(e.children[r].innerHTML+=s),l<6)return void l++;l=0}else e.children[r].innerHTML+=s;a++}else a=0,r++;else clearInterval(t)}),50)}),t)}function na(e){document.getElementById("videoBgBox").style.opacity=1,document.getElementById("videoBgBox").style.display="block",document.getElementById("mainVideo").src=`${Tr}media/walpurgis1.1.mp4`,document.getElementById("mainVideo").play(),setTimeout((()=>{document.getElementById("videoBgBox").style.opacity=0,setTimeout((()=>{document.getElementById("videoBgBox").style.display="none"}),1e3)}),e)}function sa(e){e||(e="zh"==navigator.language.slice(0,2)||"yue"==navigator.language.slice(0,3)?"zh":"en"),["zh","en"].includes(e)?(document.getElementById("langCSS").innerHTML=`\n    .ui {\n        display: none !important;\n    }\n    .ui.${e} {\n        display: inline !important;\n    }\n    `,console.log(`changed lang to ${e}`)):console.log(`invalid lang "${e}"`)}function ia(e){if("high"==e)document.body.classList.remove("lowend"),document.body.classList.remove("midend");else if("mid"==e)document.body.classList.remove("lowend"),document.body.classList.add("midend");else{if("low"!=e)return;document.body.classList.add("lowend"),document.body.classList.remove("midend")}va("graphicsMode",e)}function ra(){if(!qa)return null;var e=document.getElementById("loadingIndicatorBefore").nextElementSibling,t=e.getBoundingClientRect().top;e=e.nextElementSibling;for(var n=1;t==e.getBoundingClientRect().top;)n++,e=e.nextElementSibling;return n}function aa(e){console.log("loading timeline from",e);var t=document.getElementById("timeline");t.innerHTML="";var n=new Date(1e3*e);for(n.setDate(1);n.getFullYear()>=2019;){var s=document.createElement("p");for(s.appendChild(fa(`<strong>${n.getFullYear()}</strong>`));;){if(s.appendChild(fa(`<span>${n.getMonth()+1}</span>`)),2019==n.getFullYear()&&n.getMonth()+1==2){n.setFullYear(2011);break}if(0==n.getMonth())break;n.setMonth(n.getMonth()-1)}t.appendChild(s),n.setMonth(n.getMonth()-1)}}function oa(){var e=0;e=qa?Ha.scrollTop/Ha.scrollHeight:Ha.scrollLeft/Ha.scrollWidth;var t=document.getElementsByClassName("commentItem");return t[Math.round(t.length*e)]}function la(e=!1){try{for(var t=1e3*parseInt(oa().dataset.timestamp),n=new Date(t),s=n.getFullYear(),i=n.getMonth()+1,r=document.getElementById("timeline").children,a=0;a<r.length;a++){var o=r[a];o.firstElementChild.innerHTML==s?(o.firstElementChild.classList.add("month-active"),e&&o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})):o.firstElementChild.classList.remove("month-active");for(var l=0;l<o.children.length;l++){var c=o.children[l];"SPAN"==c.nodeName&&(o.firstElementChild.innerHTML==s&&c.innerHTML==i?c.classList.add("month-active"):c.classList.remove("month-active"))}}ca()}catch(gl){Wa&&console.log(gl)}}function ca(){try{for(var e=1e3*parseInt(oa().dataset.timestamp),t=new Date(e),n=Da.querySelectorAll("div[data-time]"),s=0;s<n.length;s++){var i=n[s],r=new Date(i.dataset.time);t.getFullYear()==r.getFullYear()&&t.getMonth()==r.getMonth()&&t.getDate()==r.getDate()?i.classList.add("day-active"):i.classList.remove("day-active")}}catch(gl){Wa&&console.log(gl)}}function ua(){var e=parseInt(0-(new Date).getTimezoneOffset()/60),t=new XMLHttpRequest;t.open("GET",`${Tr}api/comments/count?utc=${e}`),t.onload=()=>{200==t.status&&(document.getElementById("todayCommentCount").innerHTML=t.responseText,console.log("today comment count:",t.responseText))},t.send()}function da(){if(qa){e=Ha.scrollTop/(Ha.scrollHeight-Ha.clientHeight);setTimeout((()=>{Ha.scrollLeft=(Ha.scrollWidth-Ha.clientWidth)*e,la(!0)}),35),document.body.classList.remove("fullscreen"),document.getElementById("fullscreenBtn").innerHTML='<span class="ui zh">å…¨å± â†—</span><span class="ui en">Expand â†—</span>',qa=!1}else{var e=Ha.scrollLeft/(Ha.scrollWidth-Ha.clientWidth);setTimeout((()=>{Ha.scrollTop=(Ha.scrollHeight-Ha.clientHeight)*e,la(!0)}),35),document.body.classList.add("fullscreen"),document.getElementById("fullscreenBtn").innerHTML='<span class="ui zh">é€€å‡ºå…¨å± â†™</span><span class="ui en">Collapse â†™</span>',qa=!0}Xa.pauseScroll(500)}function pa(){va("showTimeline",Na.checked),Na.checked?(document.getElementById("timelineContainer").style.display="block",Ha.classList.add("noscrollbar")):(document.getElementById("timelineContainer").style.display="none",Ha.classList.remove("noscrollbar"))}function ma(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}function ha(e){for(var t=e+"=",n=document.cookie.split(";"),s=0;s<n.length;s++){for(var i=n[s];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function ga(e){if(null==localStorage.getItem(e)){if(""==ha(e))return"";va(e,ha(e)),document.cookie=`${e}=;expires=${new Date(0).toUTCString()};path=/`}return localStorage.getItem(e)}function va(e,t){""===t?localStorage.removeItem(e):localStorage.setItem(e,t)}function fa(e){e=e.trim();var t=document.createElement("template");return t.innerHTML=e,t.content}function ya(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r\n/g,"<br>").replace(/\n/g,"<br>")}function wa(e,t){for(var n=0;n<e.length;n++)if(e[n]!=t[n])return e[n]-t[n];return 0}function ba(e){var t=[];for(var n in e)null!=e[n]&&t.push(`${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`);return t.length>0?"?"+t.join("&"):""}function ka(e){return new Promise(((t,n)=>{fetch(e).then((e=>Promise.all([e.url,e.text()]))).then((([e,n])=>{var s=document.createElement("template");s.innerHTML=n;for(var i=[],r=s.content.querySelectorAll("a"),a=0;a<r.length;a++){var o=r[a];o.previousSibling&&!o.previousSibling.textContent.includes("<dir>")&&i.push(e+encodeURIComponent(o.textContent))}t(i)}))}))}function Ca(e,t=!1){return t?decodeURIComponent(e.match(/[^\\/]+(?=\.\w+$)/)[0]):e.match(/[^\\/]+(?=\.\w+$)/)[0]}function Ea(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),s=[e[n],e[t]];e[t]=s[0],e[n]=s[1]}}function xa(e,t){var n=e[e.indexOf(t)+1];return null!=n?n:e[0]}function Ia(e,t){var n=e[e.indexOf(t)-1];return null!=n?n:e[e.length-1]}function _a(e,t){console.warn(e),console.error(t)}function Ta(e,t){for(var n in t)e.style[n]=t[n];setTimeout((()=>{for(var n in t)e.style.removeProperty(n)}),35)}function Sa(e){return new Promise(((t,n)=>{var s=new FileReader;s.readAsDataURL(e),s.onload=()=>{t(s.result)}}))}function La(e,t,n){return new Promise(((s,i)=>{if("string"==typeof e){var r=new Image;r.src=e,r.onload=()=>{var e=r.width,i=r.height;if(t&&(e/i>t?e=i*t:i=e/t),n&&e*i>n){var a=Math.sqrt(n/(e*i));e*=a,i*=a}e=Math.round(e),i=Math.round(i);var o=document.createElement("canvas");o.width=e,o.height=i;var l=o.getContext("2d");t?r.width/r.height>t?l.drawImage(r,(r.width-r.height*t)/2,0,r.height*t,r.height,0,0,e,i):l.drawImage(r,0,(r.height-r.width/t)/2,r.width,r.width/t,0,0,e,i):l.drawImage(r,0,0,e,i),s(o.toDataURL("image/jpeg"))}}else e&&e.type.match(/image.*/)?Sa(e).then((e=>{La(e,t,n).then((e=>s(e)))})):yr.show({type:"error",msg:'<span class="ui zh">å›¾ç‰‡æ— æ•ˆ</span><span class="ui en">Invalid image</span>'})}))}var Pa=!1,Ba=0,Ma="",$a=0,Aa=!1,Ua=document.getElementById("bgContainer"),Oa=document.getElementById("lowerPanel"),Ha=document.getElementById("comments"),Ra=document.getElementById("userComment"),Da=document.getElementById("hoverCalendar"),Fa=document.getElementById("hideTopComment"),Na=document.getElementById("showTimeline"),za=document.getElementById("topComment").outerHTML,Va=document.getElementById("loadingIndicator").outerHTML,ja=document.getElementById("loadingIndicatorBefore").outerHTML;document.getElementById("loadingIndicatorBefore").style.display="none";var qa=!1;document.querySelector("#mainTitle>a").href=location.origin+location.pathname,sa(ga("lang"));var Wa=!1;if("#debug"==location.hash&&(Wa=!0,setTimeout((()=>{Xa.forceLowerPanelUp()}),0)),"#popup-"==location.hash.slice(0,7))try{Xr(location.hash.slice(7))}catch(gl){Kr(),location.hash=""}if(""!=ga("graphicsMode")&&ia(ga("graphicsMode")),"true"==ga("hideTopComment")&&(Fa.checked=!0,document.getElementById("topComment").style.display="none",za=document.getElementById("topComment").outerHTML),ga("hiddenBanner"),document.getElementById("banner").classList[0],"false"==ga("showTimeline")&&(Na.checked=!1,pa()),"#video"==location.hash){time_ms=5e3,na(time_ms),document.getElementsByClassName("walpurgisbg")[0].style.opacity=1,document.getElementsByClassName("walpurgisbg")[0].style.display="block",document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.backgroundImage=`url("${Tr}bg/walpurgis/mainbg1.jpg")`,document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.animationName="bgzoom",document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.animationDuration="1.5s";var Ya=!1;0==bgmElmnt.muted&&(bgmElmnt.muted=!0,Ya=!0),setTimeout((()=>{document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.removeProperty("animation-name"),document.getElementsByClassName("walpurgisbg")[0].firstElementChild.style.removeProperty("animation-duration"),setTimeout((()=>{document.getElementsByClassName("walpurgisbg")[0].style.opacity=0,setTimeout((()=>{Ya&&(bgmElmnt.muted=!1)}),2e3)}),8e3)}),time_ms)}var Xa={elements:{container:document.getElementById("comments"),seekArrows:document.getElementsByClassName("commentSeekArrow")},seekLeft:0,seekDone:!0,scrollPaused:!1,hasItem:()=>Boolean(document.querySelector(".commentItem")),seek(e){if(this.hasItem()){var t=zr().getBoundingClientRect().width+20*Lr.pageScale;this.seekDone?(this.seekLeft=(Math.round(this.elements.container.scrollLeft/t)+e)*t,window.requestAnimationFrame((e=>this.seekAnimate(e,this.elements.container.scrollWidth)))):this.seekLeft+=e*t,this.seekLeft<0&&(this.seekLeft=0),this.seekLeft>this.elements.container.scrollWidth-this.elements.container.clientWidth&&(this.seekLeft=this.elements.container.scrollWidth-this.elements.container.clientWidth)}},seekAnimate(e,t){if(1==this.seekDone)return this.seekDone=!1,this.t0=e,void window.requestAnimationFrame((e=>this.seekAnimate(e,t)));var n=1e3/(e-this.t0);this.t0=e;var s=this.seekLeft-this.elements.container.scrollLeft,i=this.elements.container.scrollLeft;Math.abs(s)>1&&this.elements.container.scrollWidth==t&&(this.elements.container.scrollLeft+=s/(5*n/60)),i==this.elements.container.scrollLeft?this.seekDone=!0:window.requestAnimationFrame((e=>this.seekAnimate(e,t)))},scroll(){if(!this.scrollPaused&&this.hasItem()){if(la(),qa)e=Ha.scrollTop,t=Ha.scrollHeight-Ha.clientHeight-Ha.scrollTop,n=zr().offsetHeight/8;else var e=Ha.scrollLeft,t=Ha.scrollWidth-Ha.clientWidth-Ha.scrollLeft,n=zr().offsetWidth/8;e<=n&&0==Pa&&(Ur(),this.pauseScroll(500)),t<=n&&(Ar(),this.pauseScroll(500)),qa||(e<n?this.elements.seekArrows[0].style.display="none":this.elements.seekArrows[0].style.removeProperty("display"))}},pauseScroll(e){this.scrollPaused=!0,setTimeout((()=>{this.scrollPaused=!1}),e)},GetTargetCommentScrollability(e){for(;this.elements.container.contains(e);){if(e.classList.contains("comment")||"msgText"==e.id)return{inputable:"msgText"==e.id,scrollable:e.scrollHeight>e.clientHeight,top:e.scrollTop<1,bottom:e.scrollHeight-e.clientHeight-e.scrollTop<1};e=e.parentNode}return{inputable:!1,scrollable:!1,top:!0,bottom:!0}},forceLowerPanelUp(){Oa.classList.add("lowerPanelUp"),Oa.classList.remove("lowerPanelDown"),document.documentElement.style.overscrollBehavior="contain",document.body.style.overscrollBehavior="contain"},forceLowerPanelDown(){Oa.classList.remove("lowerPanelUp"),Oa.classList.add("lowerPanelDown"),setTimeout((()=>{document.documentElement.style.removeProperty("overscroll-behavior"),document.body.style.removeProperty("overscroll-behavior")}),300);try{document.getElementById("msgText").blur()}catch(gl){}},init(){Pr(),this.elements.container.onwheel=e=>{if(!qa){var t=this.GetTargetCommentScrollability(e.target);t.inputable||t.scrollable||(e.deltaY>0?this.seek(1):this.seek(-1))}},this.elements.container.onscroll=()=>this.scroll(),setInterval((()=>this.scroll()),1e3),Ua.addEventListener("click",this.forceLowerPanelDown),Ua.addEventListener("touchstart",this.forceLowerPanelDown),document.addEventListener("mouseover",(()=>Oa.classList.remove("lowerPanelDown"))),Oa.addEventListener("touchstart",(function(e){this.lastTouchStart=e.touches[0],this.lastTouchMove=null,this.timeTouchStart=e.timeStamp,Xa.forceLowerPanelUp(),document.getElementById("mouseScrollTooltip").style.display="none"})),Oa.addEventListener("touchmove",(function(e){var t=e.touches[0],n=t.clientX-this.lastTouchStart.clientX,s=t.clientY-this.lastTouchStart.clientY;if(!this.lastTouchMove&&s>Math.abs(n)&&!qa){var i=Xa.GetTargetCommentScrollability(e.target);this.touchMoveLowerPanel=i.inputable?!i.scrollable:i.top}this.touchMoveLowerPanel&&s>0&&!qa&&(Oa.style.transform=`translateY(${s}px)`,Oa.style.transition="none"),this.lastTouchMove=t,this.timeLastMove=e.timeStamp})),Oa.addEventListener("touchend",(function(e){this.touchMoveLowerPanel&&(Oa.style.removeProperty("transform"),Oa.style.removeProperty("transition"));try{var t=this.lastTouchMove.clientY-this.lastTouchStart.clientY,n=this.timeLastMove-this.timeTouchStart;this.touchMoveLowerPanel&&(t/window.innerHeight>.15||t/window.innerHeight/n>7e-4)&&Xa.forceLowerPanelDown()}catch(gl){}this.touchMoveLowerPanel=!1}))}},Ka=Xa.seek.bind(Xa);try{Xa.init()}catch(gl){_a(gl,"failed to init comments")}var Ga=[{description:'Official Guidebook "You Are Not Alone"'},{illustrator:"Nine",pixivid:"57114653"},{illustrator:"æ›¼æ›¼",pixivid:"91471007"},{illustrator:"ã‚«ãƒ©ã‚¹BTK",pixivid:"99591809"},{illustrator:"ã•ã‚“ã—ã‚‡ã†",pixivid:"18530512"},{illustrator:"STARå½±æ³•å¸«",pixivid:"60649948"},{illustrator:"Nardack",pixivid:"88198018"},{illustrator:"Rella",pixivid:"29076044"},{illustrator:"ãŠã‚Œã¤",pixivid:"57636925"},{illustrator:"ChrisTyâ˜†ã‚¯ãƒªã‚¹ãƒ†ã‚£",pixivid:"65489049"},{illustrator:"ChrisTyâ˜†ã‚¯ãƒªã‚¹ãƒ†ã‚£",pixivid:"63582832"}],Qa=Ga.length,Ja=[];document.getElementById("timelineContainer").addEventListener("click",(e=>{if("STRONG"==e.target.nodeName){var t=parseInt(e.target.innerHTML);if(e.target==document.getElementById("timeline").firstElementChild.firstElementChild)return $r(),void Pr();var n=new Date(t+1,0,0)}else if("SPAN"==e.target.nodeName){if("month-active"==e.target.classList[0])return;t=parseInt(e.target.parentNode.firstElementChild.innerHTML);var s=parseInt(e.target.innerHTML);n=new Date(t,s-1)}else{if(!e.target.hasAttribute("data-time"))return;n=new Date(e.target.dataset.time)}var i=n.getTime()/1e3;$r(1),Pr(i<=1684651800?{time:i,db:"kami"}:{time:i})})),document.getElementById("timelineContainer").addEventListener("wheel",(e=>{qa||(document.getElementById("timeline").scrollLeft+=e.deltaY/2)})),document.getElementById("timelineContainer").addEventListener("mouseover",(e=>{if("SPAN"==e.target.nodeName){if(qa)Da.style.top=e.target.getBoundingClientRect().top+e.target.getBoundingClientRect().height/2+"px",Da.style.right=document.getElementById("timelineContainer").getBoundingClientRect().width+"px",Da.style.removeProperty("left"),Da.style.removeProperty("bottom");else{var t=e.target.getBoundingClientRect().left+e.target.getBoundingClientRect().width/2,n=113;t+n>window.innerWidth&&(t=window.innerWidth-n),t<n&&(t=n),Da.style.left=t+"px",Da.style.bottom=document.getElementById("timelineContainer").getBoundingClientRect().height+"px",Da.style.removeProperty("top"),Da.style.removeProperty("right")}Da.style.removeProperty("display"),Da.innerHTML="";var s=parseInt(e.target.parentNode.firstElementChild.innerHTML),i=parseInt(e.target.innerHTML);Da.appendChild(fa(`<div>${s}-${("0"+i).slice(-2)}${s<=2022||2023==s&&i<=5?" (kami.im)":""}</div>`));for(var r=1;r<=new Date(s,i,0).getDate();r++)new Date(s,i-1,r).getTime()/1e3<Ba&&Da.appendChild(fa(`<div data-time="${new Date(s,i-1,r).toDateString()}">${r}</div>`));ca()}else"STRONG"==e.target.nodeName&&(Da.style.display="none")})),document.getElementById("goto").addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),$r(1),Pr({from:document.getElementById("goto").value}))}));var Za={elements:{container:document.getElementById("imgViewerBox"),viewer:document.getElementById("imgViewer"),viewport:document.getElementById("viewport1")},viewportContent:"",imgViewerOffsetX:0,imgViewerOffsetY:0,imgViewerScale:1,imgViewerMouseMoved:!1,view(e){this.elements.viewer.src=e,this.elements.container.style.removeProperty("display"),this.elements.viewport.setAttribute("content",this.viewportContent.replace(", maximum-scale=1.0","")),window.location.hash="view-img",this.imgViewerOffsetX=0,this.imgViewerOffsetY=0,this.imgViewerScale=1,this.elements.viewer.style.transform="translateX(0px) translateY(0px) scale(1)",this.elements.viewer.style.removeProperty("image-rendering")},close(){"#view-img"!=location.hash?(this.elements.container.style.display="none",this.elements.viewport.setAttribute("content",this.viewportContent)):history.back()},isOpen(){return"none"!=this.elements.container.style.display},normalizePosition(){var e=this.elements.viewer.width*this.imgViewerScale,t=this.elements.viewer.height*this.imgViewerScale;if(e&&t){var n=(window.innerHeight-t)/2+this.imgViewerOffsetY,s=(window.innerHeight-t)/2-this.imgViewerOffsetY,i=(window.innerWidth-e)/2+this.imgViewerOffsetX,r=(window.innerWidth-e)/2-this.imgViewerOffsetX;t<=window.innerHeight?this.imgViewerOffsetY=0:n>0?this.imgViewerOffsetY=0-(window.innerHeight-t)/2:s>0&&(this.imgViewerOffsetY=(window.innerHeight-t)/2),e<=window.innerWidth?this.imgViewerOffsetX=0:i>0?this.imgViewerOffsetX=0-(window.innerWidth-e)/2:r>0&&(this.imgViewerOffsetX=(window.innerWidth-e)/2)}this.applyPosition()},applyPosition(){this.elements.viewer.style.transform=`translateX(${this.imgViewerOffsetX}px) translateY(${this.imgViewerOffsetY}px) scale(${this.imgViewerScale})`},getPixelRatio(){try{var e=this.elements.viewer.width*this.imgViewerScale,t=this.elements.viewer.naturalWidth;return e&&t?e/t:1}catch(gl){return console.log("Failed to get image display pixel ratio"),1}},init(){this.viewportContent=this.elements.viewport.getAttribute("content"),this.elements.container.onmousedown=e=>{0==e.button&&(this.imgViewerMouseMoved=!1,this.elements.viewer.style.transition="none")},this.elements.container.onmouseup=e=>{0==e.button&&(this.imgViewerMouseMoved||this.close(),this.elements.viewer.style.removeProperty("transition"),this.normalizePosition())},this.elements.container.onmouseleave=e=>{this.elements.viewer.style.removeProperty("transition"),this.normalizePosition()},this.elements.container.onmousemove=e=>{1==e.buttons&&(this.elements.viewer.style.transition="none",this.imgViewerOffsetX+=e.movementX,this.imgViewerOffsetY+=e.movementY,0==e.movementX&&0==e.movementY||(this.imgViewerMouseMoved=!0),this.applyPosition())},this.elements.container.onwheel=e=>{e.preventDefault();var t=1;t=e.deltaY<0?(1e3-e.deltaY)/1e3:1e3/(1e3+e.deltaY),this.imgViewerScale*=t;var n=e.clientX-window.innerWidth/2,s=e.clientY-window.innerHeight/2;Wa&&console.log(n,s),this.imgViewerOffsetX+=(t-1)*(this.imgViewerOffsetX-n),this.imgViewerOffsetY+=(t-1)*(this.imgViewerOffsetY-s),this.imgViewerScale<1&&(this.imgViewerScale=1),Wa&&console.log(this.imgViewerScale),this.normalizePosition(),this.getPixelRatio()>2?this.elements.viewer.style.imageRendering="pixelated":this.elements.viewer.style.removeProperty("image-rendering")}}},eo=Za.view.bind(Za),to=Za.close.bind(Za);try{Za.init()}catch(gl){_a(gl,"Failed to init image viewer")}var no,so={elements:{player:document.getElementById("musicAudio"),playerImg:document.getElementById("musicImg"),playBtn:document.getElementById("musicPlayBtn"),playingIndicators:document.getElementsByClassName("musicPlayingIndicator"),titles:document.getElementsByClassName("currentSong"),progress:document.getElementById("nowPlayingProgress").firstElementChild,list:document.getElementById("songList"),shuffleBtn:document.getElementById("musicShuffleBtn")},playList:[],playOrder:[],userPaused:!0,loadPlayList(e){this.elements.list.innerHTML="",ka(e).then((e=>{this.playList=e.filter((e=>!(e.endsWith(".jpg")||e.endsWith(".disabled")))),this.playOrder=[],this.showPlayList(this.playList);try{this.setActiveSong(ea.getThemeMusic())}catch(gl){this.setActiveSong(0)}}))},showPlayList(e){var n,s=t(e);try{for(s.s();!(n=s.n()).done;){var i=n.value;this.elements.list.appendChild(fa(`\n                <li>${Ca(i,!0)}</li>\n            `))}}catch(r){s.e(r)}finally{s.f()}},setActiveSong(e){if("number"!=typeof e)for(var t=0;t<this.playList.length;t++)if(decodeURIComponent(this.playList[t]).includes(e)){e=t;break}if(null!=this.playList[e]){this.elements.player.src=this.playList[e],this.elements.playerImg.src=this.playList[e]+".jpg",this.elements.playerImg.onclick=function(){eo(this.src)},this.elements.playerImg.onerror=function(){this.onerror=null,this.onclick=null,this.src=`${Tr}res/music_note.svg`};for(var n=0;n<this.elements.titles.length;n++)this.elements.titles[n].textContent=Ca(this.playList[e],!0);for(var s=0;s<this.elements.list.children.length;s++)this.elements.list.children[s].classList.remove("playing");this.elements.list.children[e].classList.add("playing"),navigator.mediaSession&&(navigator.mediaSession.metadata=new MediaMetadata({title:Ca(this.playList[e],!0),artist:"MadoHomu.love",artwork:[{src:this.playList[e]+".jpg"}]}))}},getPlayingIndex(){for(var e=0;e<this.elements.list.children.length;e++)if(this.elements.list.children[e].classList.contains("playing"))return e;return 0},checkPlayOrder(){this.playOrder.length!=this.playList.length&&(this.playOrder=[...Array(this.playList.length).keys()],this.elements.shuffleBtn.checked&&Ea(this.playOrder))},play(e=null){null!=e||this.elements.player.src||(e=0),this.setActiveSong(e),this.elements.player.play(),this.userPaused=!1,va("mutebgm",!1)},playNext(){this.checkPlayOrder(),this.play(xa(this.playOrder,this.getPlayingIndex()))},playPrev(){this.checkPlayOrder(),this.play(Ia(this.playOrder,this.getPlayingIndex()))},pause(){this.userPaused=!0,va("mutebgm",!0),this.elements.player.pause()},setVolume(e){this.elements.player.volume=e},initPlayer(e){this.loadPlayList(e),"true"==ga("mutebgm")?this.userPaused=!0:this.play(),this.elements.playBtn.onclick=()=>{this.elements.player.paused?this.play():this.pause()},this.elements.list.onclick=e=>{Array.from(this.elements.list.children).includes(e.target)&&this.play(Array.from(this.elements.list.children).indexOf(e.target))},this.elements.progress.parentNode.onclick=e=>{var t=e.offsetX/this.elements.progress.parentNode.offsetWidth;this.elements.player.currentTime=this.elements.player.duration*t,this.elements.progress.style.width=100*t+"%"},this.elements.shuffleBtn.onchange=()=>{this.playOrder=[]},this.elements.list.parentNode.parentNode.querySelector("button").onmouseenter=()=>{this.elements.list.querySelector(".playing").scrollIntoView({block:"center"})},this.elements.player.onplay=()=>{for(var e=0;e<this.elements.playingIndicators.length;e++)this.elements.playingIndicators[e].classList.add("playing")},this.elements.player.onpause=()=>{for(var e=0;e<this.elements.playingIndicators.length;e++)this.elements.playingIndicators[e].classList.remove("playing")},this.elements.player.onended=()=>{this.playNext()},document.addEventListener("click",(()=>{!this.userPaused&&this.elements.player.paused&&this.play()})),setInterval((()=>{this.elements.progress.style.width=this.elements.player.currentTime/this.elements.player.duration*100+"%"}),500),navigator.mediaSession&&(navigator.mediaSession.setActionHandler("play",(()=>this.play())),navigator.mediaSession.setActionHandler("pause",(()=>this.pause())),navigator.mediaSession.setActionHandler("previoustrack",(()=>this.playPrev())),navigator.mediaSession.setActionHandler("nexttrack",(()=>this.playNext())))}};try{so.initPlayer(`${Tr}media/bgm/`)}catch(gl){_a(gl,"failed to init music player")}if(document.addEventListener("click",(e=>no=e)),document.onkeydown=function(e){"Escape"!=e.key&&27!=e.keyCode||(Za.isOpen()?to():Yr.isOpen()?Kr():qa?da():Xa.forceLowerPanelDown())},"#view-img"!=window.location.hash&&"#popup"!=window.location.hash||(window.location.hash=""),location.hash.startsWith("#confirmemail=")){var io=location.hash.replace("#confirmemail=","");Sr.post("action",{id:io}).then((e=>{1==e.code&&(yr.show({type:"success",msg:'<span class="ui zh">é‚®ç®±ç¡®è®¤æˆåŠŸ!</span><span class="ui en">Email confirmed successfully!</span>'}),location.hash="")}))}if(location.hash.startsWith("#resetpassword=")){var ro=location.hash.replace("#resetpassword=","");Yr.show("setPasswordPopup",{passwordResetToken:ro})}window.onhashchange=function(e){"view-img"==e.oldURL.split("#")[1]&&to(),"popup"==e.oldURL.split("#")[1]&&"view-img"!=e.newURL.split("#")[1]&&Kr()};var ao={init(){window.addEventListener("resize",this.detect)},detect(){var e=document.getElementById("msgText");e&&document.activeElement==e?!document.body.classList.contains("touchKeyboardShowing")&&document.getElementById("newCommentBox").offsetHeight<370*Lr.pageScale&&(console.log("detected editing newComment with touch keyboard"),document.body.classList.add("touchKeyboardShowing")):document.body.classList.remove("touchKeyboardShowing")}};try{ao.init()}catch(gl){_a(gl,"failed to init TouchKeyboardDetector")}var oo=null;window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),oo=e}));var lo;lo=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),window.wallpaperPropertyListener={applyUserProperties(e){e.ui_scale&&(Lr.pageScale=e.ui_scale.value/100),e.ui_bottom&&(document.getElementById("wallpaperEngineCSS").innerHTML=`\n                #lowerPanel {\n                    padding-bottom: 0rem;\n                    transition: transform 0.5s, padding-bottom 0.5s;\n                }\n\n                #lowerPanel:hover, #lowerPanel.lowerPanelUp {\n                    padding-bottom: ${e.ui_bottom.value/48*3}rem;\n                }\n            `),e.ui_volume&&so.setVolume(e.ui_volume.value/100)}},window.jsLoaded=!0;var co=Object.freeze(Object.defineProperty({__proto__:null,Comments:Xa,ImgViewer:Za,MusicPlayer:so,NewMessage:Vr,Popup:Yr,Settings:Lr,Theme:ea,TouchKeyboardDetector:ao,User:Gr,XHR:Sr,baseUrl:Tr,bgContainer:Ua,changeGraphicsMode:ia,changeLang:sa,clearComments:$r,closeImgViewer:to,closePopup:Kr,commentDiv:Ha,get commentsUpToDate(){return Pa},compareArr:wa,get debug(){return Wa},getArrayNextItem:xa,getArrayPrevItem:Ia,getConfig:ga,getCookie:ha,getCurrentComment:oa,getFileListAsync:ka,getFileNameWithoutExt:Ca,getFirstVisibleComment:zr,getFullscreenHorizonalCommentCount:ra,getMaxCommentID:Or,getMaxCommentTime:Fr,getMaxKamiID:Rr,getMinCommentID:Hr,getMinCommentTime:Nr,getMinKamiID:Dr,getRandomIntInclusive:ma,hideTopCommentElmnt:Fa,hoverCalendarEl:Da,html2elmnt:fa,htmlEscape:ya,initCommentReplyQuote:Mr,insertComment:Br,get installPrompt(){return oo},isEmail:function(e){return/^\S+@\S+\.\S+$/.test(e)},get isFullscreen(){return qa},get isInStandaloneMode(){return lo},lastBgImgs:Ja,get lastClickEvent(){return no},loadComments:Pr,loadNewerComments:Ur,loadOlderComments:Ar,loadTimeline:aa,loadUserInfo:Qr,loadingIndicator:Va,loadingIndicatorBefore:ja,logErr:_a,lowerPanel:Oa,get maxTimelineTime(){return Ba},msgBgCount:Qa,msgBgInfo:Ga,newComment:jr,obj2queryString:ba,playBG:function(){},playWalpurgis:na,previewLocalImgs:Wr,printParaCharOneByOne:ta,readFile:Sa,resizeImg:La,seekComment:Ka,sendMessage:qr,setConfig:va,setCookie:function(e,t,n=999){var s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3);var i="expires="+s.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"},setHoverCalendarActiveDay:ca,setOneTimeCSS:Ta,setTimelineActiveMonth:la,setTodayCommentCount:ua,showPopup:Xr,showTimelineElmnt:Na,showUserComment:Jr,shuffleArray:Ea,toggleFullscreen:da,toggleTimeline:pa,toggleTopComment:function(){va("hideTopComment",Fa.checked),Fa.checked?(document.getElementById("topComment").style.display="none",za=document.getElementById("topComment").outerHTML):(document.getElementById("topComment").style.removeProperty("display"),za=document.getElementById("topComment").outerHTML)},get topComment(){return za},userCommentEl:Ra,get userCommentIsKami(){return Aa},get userCommentOffset(){return $a},userCommentScroll:Zr,get userCommentUser(){return Ma},viewImg:eo},Symbol.toStringTag,{value:"Module"})),uo={data:()=>({baseUrl:Tr,screen:"usernameLogin",loginUsername:"",loginEmail:"",loginPassword:"",userFindResult:[],loginUser:null,regName:"",regEmail:"",regPassword:"",regPasswordConfirm:"",regUseEmail:!1,regRequireEmail:!1}),methods:{convertAvatarPath:Gr.convertAvatarPath,searchUser(){XHR.get("user/find",{name:this.loginUsername,email:isEmail(this.loginUsername)?this.loginUsername:void 0}).then((e=>{this.userFindResult=e,e.length>0?this.screen="userFind":this.gotoRegister()}))},gotoRegister(){this.screen="register",isEmail(this.loginUsername)?(this.regEmail=this.loginUsername,this.regUseEmail=!0):(this.regName=this.loginUsername,this.regUseEmail=!1),this.regRequireEmail=!1,this.userFindResult.forEach((e=>{0==e.hasEmail&&(this.regUseEmail=!0,this.regRequireEmail=!0)}))},previewAvatar(){resizeImg(this.$refs.avatarInput.files[0],1,4e4).then((e=>this.$refs.avatarPreview.src=e))},register(){XHR.post("user/register",{avatar:this.$refs.avatarPreview.src.split(";base64,")[1],name:this.regName,email:this.regUseEmail&&this.regEmail||void 0,password:this.regUseEmail&&this.regPassword||void 0}).then((e=>{1==e.code&&(XHR.token=e.data,setConfig("token",e.data),this.$emit("close"),loadUserInfo(),FloatMsgs.show({type:"success",msg:'<span class="ui zh">æ³¨å†ŒæˆåŠŸ!</span><span class="ui en">Registration successful!</span>'}))}))},userFindLogin(e){this.loginUser=1==this.userFindResult.length?this.userFindResult[0]:this.userFindResult[e],this.loginUser.hasEmail||this.loginUser.hasPassword?(this.screen="emailLogin",this.loginEmail=isEmail(this.loginUsername)&&this.loginUsername!=this.loginUser.name?this.loginUsername:"",this.loginPassword=""):this.login({name:this.loginUser.name})},emailLogin(){this.login({name:this.loginUser&&!this.loginUser.hasEmail?this.loginUser.name:void 0,email:this.loginEmail||void 0,password:this.loginPassword||void 0})},login(e){XHR.post("user/login",e).then((e=>{1==e.code&&(XHR.token=e.data,setConfig("token",e.data),this.$emit("close"),loadUserInfo(),FloatMsgs.show({type:"success",msg:'<span class="ui zh">ç™»å½•æˆåŠŸ!</span><span class="ui en">Login successful!</span>'}))}))},gotoForgotPassword(){!this.loginUser||this.loginUser.hasEmail?Popup.show("promptInputPopup",{title:'<span class="ui zh">å¿˜è®°å¯†ç </span><span class="ui en">Forgot password</span>',subtitle:'\n                            <span class="ui zh">è¾“å…¥ä½ æƒ³è¦æ‰¾å›žå¯†ç çš„é‚®ç®±<br>æˆ‘ä»¬å°†å‘é€ä¸€ä»½é‡ç½®å¯†ç çš„é‚®ä»¶, ç„¶åŽæ‚¨å¯ä»¥è®¾ç½®æ–°å¯†ç </span>\n                            <span class="ui en">Enter the email you wish to recover password.<br>We will then send you a password reset link via email.</span>\n                            ',text:this.loginEmail,action(e){this.disabled=!0,XHR.post("user/resetpassword"+obj2queryString({email:e})).then((e=>{1==e.code&&(this.$emit("close"),FloatMsgs.show({type:"success",persist:!0,msg:'\n                                        <span class="ui zh">å¯†ç é‡ç½®é‚®ä»¶å·²å‘é€! è¯·æ£€æŸ¥æ”¶ä»¶ç®±</span>\n                                        <span class="ui en">A password reset link was sent to your email, check your inbox</span>'})),this.disabled=!1})).catch((()=>{this.disabled=!1}))}}):FloatMsgs.show({type:"warn",persist:!0,msg:'\n                            <span class="ui zh">è¯¥è´¦å·æœªç»‘å®šé‚®ç®±, æ— æ³•é‡ç½®å¯†ç <br>è¯·è”ç³»ç«™é•¿: 3112611479@qq.com</span>\n                            <span class="ui en">This account doesn\'t have an email, for password resets, you must contact: 3112611479@qq.com</span>'})}}},po={class:"loginPopup"},mo={key:0},ho=["disabled"],go={key:1},vo={class:"emailLoginInfo"},fo=["src"],yo={key:0,class:"inputHelperText"},wo={key:1,class:"inputHelperText"},bo={class:"inputHelperText"},ko=["disabled"],Co={key:2},Eo={key:0},xo={key:1},Io=["onClick"],_o={class:"userinfo"},To=["src"],So={class:"username"},Lo={class:"userdetail"},Po={class:"actionBtnContainer"},Bo={key:3},Mo=["src"],$o={class:"setting-switch",style:{margin:"0.25rem 0"}},Ao=["disabled"],Uo={key:0},Oo={key:0,class:"inputHelperText"},Ho={key:1,class:"inputHelperText"},Ro=["disabled"];var Do=dr(uo,[["render",function(e,t,n,s,i,r){return Os(),Fs("div",po,["usernameLogin"==e.screen?(Os(),Fs("div",mo,[t[26]||(t[26]=Gs('<h2><span class="ui zh">æ³¨å†Œ/ç™»å½•</span><span class="ui en">Log in / Register</span></h2><div class="inputHelperText"><span class="ui zh">ç”¨æˆ·å (æ˜µç§°)</span><span class="ui en">Username (nickname)</span></div>',2)),Kt(Ws("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.loginUsername=t),autocomplete:"username",style:{"margin-bottom":"0"},onKeypress:t[1]||(t[1]=t=>"Enter"==t.key&&e.loginUsername.length>0&&r.searchUser())},null,544),[[Qi,e.loginUsername]]),t[27]||(t[27]=Ws("div",{class:"inputHelperText",style:{margin:"0.375rem 0 1rem"}},[Ws("span",{class:"ui zh"},"æœªæ³¨å†Œçš„ç”¨æˆ·å°†è‡ªåŠ¨æ³¨å†Œ"),Ws("span",{class:"ui en"},"Newcomers will create an account automatically")],-1)),Ws("p",{class:"altLoginOption",onClick:t[2]||(t[2]=t=>{e.screen="emailLogin",e.loginUser=null})},t[24]||(t[24]=[Ws("span",{class:"ui zh"},"é‚®ç®±ç™»å½•",-1),Ws("span",{class:"ui en"},"Email login",-1)])),Ws("button",{class:"okBtn",disabled:0==e.loginUsername.length,onClick:t[3]||(t[3]=e=>r.searchUser())},t[25]||(t[25]=[Ws("span",{class:"ui zh"},"ä¸‹ä¸€æ­¥ â†’",-1),Ws("span",{class:"ui en"},"Continue â†’",-1)]),8,ho)])):Qs("",!0),"emailLogin"==e.screen?(Os(),Fs("div",go,[t[37]||(t[37]=Ws("h2",null,[Ws("span",{class:"ui zh"},"é‚®ç®±ç™»å½•"),Ws("span",{class:"ui en"},"Log in with email")],-1)),Ws("form",null,[e.loginUser?(Os(),Fs(Ps,{key:0},[Ws("div",vo,[Ws("img",{src:r.convertAvatarPath(e.loginUser.avatar)},null,8,fo),Ws("div",null,ee(e.loginUser.name),1)]),e.loginUser.hasEmail?(Os(),Fs("div",yo,t[28]||(t[28]=[Ws("span",{class:"ui zh"},[Ks("è¯¥è´¦å·å·²ç»‘å®šé‚®ç®±"),Ws("br"),Ks("åœ¨ä¸‹æ–¹è¾“å…¥ç»‘å®šçš„é‚®ç®±ä»¥ç™»å½•:")],-1),Ws("span",{class:"ui en"},[Ks("This account is linked to an email"),Ws("br"),Ks("Enter your email to log in:")],-1)]))):Qs("",!0)],64)):(Os(),Fs("div",wo,t[29]||(t[29]=[Ws("span",{class:"ui zh"},"é‚®ç®±",-1),Ws("span",{class:"ui en"},"Email",-1)]))),!e.loginUser||e.loginUser.hasEmail?Kt((Os(),Fs("input",{key:2,type:"text","onUpdate:modelValue":t[4]||(t[4]=t=>e.loginEmail=t),autocomplete:"email"},null,512)),[[Qi,e.loginEmail]]):Qs("",!0),!e.loginUser||e.loginUser.hasPassword?(Os(),Fs(Ps,{key:3},[Ws("div",bo,[e.loginUser?(Os(),Fs(Ps,{key:0},[t[30]||(t[30]=Ws("span",{class:"ui zh"},"å¯†ç ",-1)),t[31]||(t[31]=Ws("span",{class:"ui en"},"Password",-1))],64)):(Os(),Fs(Ps,{key:1},[t[32]||(t[32]=Ws("span",{class:"ui zh"},"å¯†ç  (æ²¡æœ‰å¯ä¸å¡«)",-1)),t[33]||(t[33]=Ws("span",{class:"ui en"},"Password (omit if not set)",-1))],64)),Ws("span",{class:"help",onClick:t[5]||(t[5]=(...e)=>r.gotoForgotPassword&&r.gotoForgotPassword(...e))},t[34]||(t[34]=[Ws("span",{class:"ui zh"},"å¿˜è®°å¯†ç ",-1),Ws("span",{class:"ui en"},"Forgot password",-1)]))]),Kt(Ws("input",{type:"password","onUpdate:modelValue":t[6]||(t[6]=t=>e.loginPassword=t),autocomplete:"current-password",onKeypress:t[7]||(t[7]=t=>"Enter"==t.key&&(e.loginEmail.length>0||e.loginPassword.length>0)&&r.emailLogin())},null,544),[[Qi,e.loginPassword]])],64)):Qs("",!0)]),e.loginUser?Qs("",!0):(Os(),Fs("p",{key:0,class:"altLoginOption",onClick:t[8]||(t[8]=t=>e.screen="usernameLogin")},t[35]||(t[35]=[Ws("span",{class:"ui zh"},"ç”¨æˆ·åç™»å½•",-1),Ws("span",{class:"ui en"},"Username login",-1)]))),Ws("button",{class:"okBtn",disabled:0==e.loginEmail.length&&0==e.loginPassword.length,onClick:t[9]||(t[9]=e=>r.emailLogin())},t[36]||(t[36]=[Ws("span",{class:"ui zh"},"ä¸‹ä¸€æ­¥ â†’",-1),Ws("span",{class:"ui en"},"Continue â†’",-1)]),8,ko),e.loginUser?(Os(),Fs("button",{key:1,class:"backBtn",onClick:t[10]||(t[10]=t=>e.screen="userFind")})):Qs("",!0)])):Qs("",!0),"userFind"==e.screen?(Os(),Fs("div",Co,[1==e.userFindResult.length?(Os(),Fs("h2",Eo,t[38]||(t[38]=[Ws("span",{class:"ui zh"},"è¿™æ˜¯æ‚¨çš„è´¦å·å—?",-1),Ws("span",{class:"ui en"},"Is this your account?",-1)]))):(Os(),Fs("h2",xo,t[39]||(t[39]=[Ws("span",{class:"ui zh"},"å“ªä¸ªæ˜¯æ‚¨çš„è´¦å·?",-1),Ws("span",{class:"ui en"},"Which account is yours?",-1)]))),(Os(!0),Fs(Ps,null,xn(e.userFindResult,((n,s)=>(Os(),Fs("div",{class:"userFindItem",onClick:t=>e.userFindResult.length>1&&r.userFindLogin(s)},[Ws("div",_o,[Ws("img",{src:r.convertAvatarPath(n.avatar)},null,8,To),Ws("div",null,[Ws("div",So,ee(n.name),1),Ws("div",Lo,[Ws("span",null,"UID: "+ee(n.id)+"Â Â ",1),Ws("span",null,[t[40]||(t[40]=Ws("span",{class:"ui zh"},"æ³¨å†Œæ—¶é—´: ",-1)),t[41]||(t[41]=Ws("span",{class:"ui en"},"Joined ",-1)),Ks(" "+ee(new Date(1e3*n.create_time).toLocaleDateString()),1)])])])])],8,Io)))),256)),Ws("div",Po,[1==e.userFindResult.length?(Os(),Fs("button",{key:0,onClick:t[11]||(t[11]=e=>r.gotoRegister())},t[42]||(t[42]=[Ws("span",{class:"ui zh"},"ä¸, æ³¨å†Œæ–°è´¦å·",-1),Ws("span",{class:"ui en"},"No, register new account",-1)]))):Qs("",!0),1==e.userFindResult.length?(Os(),Fs("button",{key:1,onClick:t[12]||(t[12]=e=>r.userFindLogin())},t[43]||(t[43]=[Ws("span",{class:"ui zh"},"æ˜¯, ç«‹å³ç™»å½•",-1),Ws("span",{class:"ui en"},"Yes, log in now",-1)]))):(Os(),Fs("p",{key:2,onClick:t[13]||(t[13]=e=>r.gotoRegister())},t[44]||(t[44]=[Ws("span",{class:"ui zh"},"éƒ½ä¸æ˜¯, æ³¨å†Œæ–°è´¦å·",-1),Ws("span",{class:"ui en"},"None is mine, register new account",-1)])))]),Ws("button",{class:"backBtn",onClick:t[14]||(t[14]=t=>e.screen="usernameLogin")})])):Qs("",!0),"register"==e.screen?(Os(),Fs("div",Bo,[t[52]||(t[52]=Ws("h2",null,[Ws("span",{class:"ui zh"},"æ³¨å†Œè´¦å·"),Ws("span",{class:"ui en"},"Registration")],-1)),Ws("img",{ref:"avatarPreview",class:"setAvatarImg",src:`${e.baseUrl}api/data/images/defaultAvatar.png`,onClick:t[15]||(t[15]=t=>e.$refs.avatarInput.click()),style:{"margin-bottom":"0"}},null,8,Mo),Ws("input",{ref:"avatarInput",type:"file",accept:"image/*",onChange:t[16]||(t[16]=e=>r.previewAvatar()),style:{display:"none"}},null,544),t[53]||(t[53]=Gs('<div class="inputHelperText" style="text-align:center;margin:0.25rem 0;"><span class="ui zh">ç‚¹å‡»è®¾ç½®å¤´åƒ</span><span class="ui en">Tap to set avatar</span></div><div class="inputHelperText"><span class="ui zh">æ˜µç§°</span><span class="ui en">Enter a nickname</span></div>',2)),Kt(Ws("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=t=>e.regName=t)},null,512),[[Qi,e.regName]]),Ws("label",$o,[t[45]||(t[45]=Ws("span",{class:"ui zh"},"ç»‘å®šé‚®ç®±",-1)),t[46]||(t[46]=Ws("span",{class:"ui en"},"Link email",-1)),Kt(Ws("input",{type:"checkbox","onUpdate:modelValue":t[18]||(t[18]=t=>e.regUseEmail=t),disabled:e.regRequireEmail},null,8,Ao),[[Ji,e.regUseEmail]])]),e.regUseEmail?(Os(),Fs("form",Uo,[e.regRequireEmail?(Os(),Fs("div",Oo,t[47]||(t[47]=[Ws("span",{class:"ui zh"},[Ks("è¯¥æ˜µç§°å·²è¢«ä½¿ç”¨"),Ws("br"),Ks("è¦ä½¿ç”¨é‡å¤çš„æ˜µç§°ï¼Œå¿…é¡»ç»‘å®šé‚®ç®±")],-1),Ws("span",{class:"ui en"},[Ks("This nickname is already taken"),Ws("br"),Ks("To use a same name, you must provide an email")],-1)]))):(Os(),Fs("div",Ho,t[48]||(t[48]=[Ws("span",{class:"ui zh"},"é‚®ç®±",-1),Ws("span",{class:"ui en"},"Enter your email",-1)]))),Kt(Ws("input",{type:"text","onUpdate:modelValue":t[19]||(t[19]=t=>e.regEmail=t),autocomplete:"email"},null,512),[[Qi,e.regEmail]]),t[50]||(t[50]=Ws("div",{class:"inputHelperText"},[Ws("span",{class:"ui zh"},"è®¾ç½®å¯†ç  (å¯é€‰)"),Ws("span",{class:"ui en"},"Password (optional)")],-1)),Kt(Ws("input",{type:"password","onUpdate:modelValue":t[20]||(t[20]=t=>e.regPassword=t),autocomplete:"current-password"},null,512),[[Qi,e.regPassword]]),e.regPassword.length>0?(Os(),Fs(Ps,{key:2},[t[49]||(t[49]=Ws("div",{class:"inputHelperText"},[Ws("span",{class:"ui zh"},"ç¡®è®¤å¯†ç "),Ws("span",{class:"ui en"},"Confirm password")],-1)),Kt(Ws("input",{type:"password","onUpdate:modelValue":t[21]||(t[21]=t=>e.regPasswordConfirm=t)},null,512),[[Qi,e.regPasswordConfirm]])],64)):Qs("",!0)])):Qs("",!0),Ws("button",{class:"okBtn",disabled:0==e.regName.length||e.regUseEmail&&(0==e.regEmail.length||e.regPassword.length>0&&e.regPassword!=e.regPasswordConfirm),onClick:t[22]||(t[22]=e=>r.register())},t[51]||(t[51]=[Ws("span",{class:"ui zh"},"æ³¨å†Œ â†’",-1),Ws("span",{class:"ui en"},"Register â†’",-1)]),8,Ro),Ws("button",{class:"backBtn",onClick:t[23]||(t[23]=t=>e.screen=0==e.userFindResult.length?"usernameLogin":"userFind")})])):Qs("",!0)])}]]),Fo=["innerHTML"],No=["innerHTML"],zo=["disabled"];var Vo=dr({props:["title","subtitle","text","action"],data:()=>({value:"",disabled:!1}),methods:{submit(){this.submitAction(this.value)},submitAction(e){console.log(e),this.$emit("close")}},mounted(){this.text&&(this.value=this.text),this.action&&(this.submitAction=this.action)}},[["render",function(e,t,n,s,i,r){return Os(),Fs("div",null,[Ws("h2",{innerHTML:n.title},null,8,Fo),Ws("div",{innerHTML:n.subtitle,class:"inputHelperText"},null,8,No),Kt(Ws("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.value=t),onKeypress:t[1]||(t[1]=t=>"Enter"==t.key&&e.value.length>0&&r.submit())},null,544),[[Qi,e.value]]),Ws("button",{class:"okBtn",disabled:0==e.value.length||e.disabled,onClick:t[2]||(t[2]=e=>r.submit())},t[3]||(t[3]=[Ws("span",{class:"ui zh"},"ç¡®å®š âœ”",-1),Ws("span",{class:"ui en"},"OK âœ”",-1)]),8,zo)])}]]),jo={class:"setAvatarPopup"},qo={ref:"preview",class:"setAvatarImg",onclick:"viewImg(this.src)"};var Wo=dr({methods:{previewAvatar(){resizeImg(this.$refs.input.files[0],1,4e4).then((e=>this.$refs.preview.src=e))},uploadAvatar(){var e=this.$refs.preview.src.split(";base64,")[1];e?XHR.put("user/update",{avatar:e}).then((e=>{1==e.code&&(this.$emit("close"),FloatMsgs.show({type:"success",msg:'<span class="ui zh">ä¸Šä¼ æˆåŠŸ</span><span class="ui en">Uploaded successfully</span>'}),loadUserInfo())})):this.$emit("close")}},mounted(){User.getMe().then((e=>this.$refs.preview.src=User.convertAvatarPath(e.avatar)))}},[["render",function(e,t,n,s,i,r){return Os(),Fs("div",jo,[t[3]||(t[3]=Ws("h2",null,[Ws("span",{class:"ui zh"},"è®¾ç½®å¤´åƒ"),Ws("span",{class:"ui en"},"Set avatar")],-1)),Ws("img",qo,null,512),Ws("input",{ref:"input",type:"file",accept:"image/*",onChange:t[0]||(t[0]=e=>r.previewAvatar())},null,544),t[4]||(t[4]=Ws("br",null,null,-1)),Ws("button",{class:"okBtn",onClick:t[1]||(t[1]=e=>r.uploadAvatar())},t[2]||(t[2]=[Ws("span",{class:"ui zh"},"ç¡®å®š âœ”",-1),Ws("span",{class:"ui en"},"OK âœ”",-1)]))])}]]),Yo={key:0,class:"inputHelperText",style:{color:"red","font-weight":"bold"}},Xo=["type"],Ko=["type"],Go={class:"setting-switch",style:{margin:"0.25rem 0"}},Qo=["disabled"];var Jo=dr({props:["passwordResetToken"],data:()=>({password:"",passwordConfirm:"",showPassword:!1,userHasEmail:!0}),methods:{submit(){this.passwordResetToken?XHR.post("action",{id:this.passwordResetToken,data:this.password}).then((e=>{1==e.code&&(this.$emit("close"),FloatMsgs.show({type:"success",msg:'<span class="ui zh">å¯†ç é‡ç½®æˆåŠŸ! è¯·é‡æ–°ç™»å½•</span><span class="ui en">Password reset successfully! Try log in again</span>'}),location.hash="")})):XHR.put("user/update",{password:this.password}).then((e=>{1==e.code&&(this.$emit("close"),FloatMsgs.show({type:"success",msg:'<span class="ui zh">å¯†ç ä¿®æ”¹æˆåŠŸ</span><span class="ui en">Password updated successfully</span>'}))}))}},mounted(){this.passwordResetToken||User.getMe().then((e=>this.userHasEmail=e.hasEmail))}},[["render",function(e,t,n,s,i,r){return Os(),Fs("div",null,[t[8]||(t[8]=Ws("h2",null,[Ws("span",{class:"ui zh"},"è®¾ç½®æ–°å¯†ç "),Ws("span",{class:"ui en"},"Set new password")],-1)),e.userHasEmail?Qs("",!0):(Os(),Fs("div",Yo,t[4]||(t[4]=[Ws("span",{class:"ui zh"},[Ks("è¯¥è´¦å·æœªç»‘å®šé‚®ç®±, è®¾ç½®å¯†ç åŽ, ä¸€æ—¦å¿˜è®°å¯†ç å°†æ— æ³•æ‰¾å›ž"),Ws("br"),Ks("å»ºè®®å…ˆç»‘å®šé‚®ç®±å†è®¾ç½®å¯†ç ")],-1),Ws("span",{class:"ui en"},[Ks("This account doesn't have an email, which means you won't be able to reset password if you forget it."),Ws("br"),Ks("It's strongly recommended to link an email before you proceed.")],-1),Ws("br",null,null,-1),Ws("br",null,null,-1)]))),t[9]||(t[9]=Ws("div",{class:"inputHelperText"},[Ws("span",{class:"ui zh"},"æ–°å¯†ç "),Ws("span",{class:"ui en"},"Enter new password")],-1)),Kt(Ws("input",{type:e.showPassword?"text":"password","onUpdate:modelValue":t[0]||(t[0]=t=>e.password=t),autocomplete:"new-password"},null,8,Xo),[[rr,e.password]]),t[10]||(t[10]=Ws("div",{class:"inputHelperText"},[Ws("span",{class:"ui zh"},"ç¡®è®¤å¯†ç "),Ws("span",{class:"ui en"},"Confirm password")],-1)),Kt(Ws("input",{type:e.showPassword?"text":"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.passwordConfirm=t)},null,8,Ko),[[rr,e.passwordConfirm]]),Ws("label",Go,[t[5]||(t[5]=Ws("span",{class:"ui zh"},"æ˜¾ç¤ºå¯†ç ",-1)),t[6]||(t[6]=Ws("span",{class:"ui en"},"Show password",-1)),Kt(Ws("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.showPassword=t)},null,512),[[Ji,e.showPassword]])]),Ws("button",{class:"okBtn",disabled:e.password&&e.password!=e.passwordConfirm,onClick:t[3]||(t[3]=e=>r.submit())},t[7]||(t[7]=[Ws("span",{class:"ui zh"},"ç¡®å®š âœ”",-1),Ws("span",{class:"ui en"},"OK âœ”",-1)]),8,Qo)])}]]),Zo={props:["id","name","avatar"],data:()=>({baseUrl:Tr,user:{},showAction:!0,comments:[],scrollPaused:!1,toEnd:!1}),methods:{convertAvatarPath:Gr.convertAvatarPath,getUser(){XHR.get(this.id?"user/find":"user/me",{id:this.id}).then((e=>{var t=Array.isArray(e)?e[0]:e;t?(this.user=t,this.showAction=this.user.id==Gr.LoggedOnUserId,this.getComments()):FloatMsgs.show({type:"warn",msg:`<span class="ui zh">æ‰¾ä¸åˆ°ç”¨æˆ·</span><span class="ui en">User not found</span> (ID: ${this.id})`})}))},getComments(){this.scrollPaused=!0,XHR.get("comments",{uid:this.user.id,from:this.comments.length,count:50}).then((e=>{e.forEach((e=>{var t=new Date(1e3*e.time);e.timeStr=t.toLocaleDateString()+" "+t.toLocaleTimeString(),"string"==typeof e.image&&e.image?e.image=e.image.split(","):e.image=[],this.comments.push(e)})),e.length<10?this.toEnd=!0:this.scrollPaused=!1})).catch((()=>{this.scrollPaused=!1}))},scroll(e){this.scrollPaused||e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<100&&this.getComments()},gotoComment(e){clearComments(1),loadComments({from:this.comments[e].id}),closePopup()}},mounted(){this.user={id:this.id,name:this.name,avatar:this.avatar},this.getUser()}},el={class:"userinfo"},tl=["src"],nl={key:0,class:"useraction"},sl=["src"],il=["src"],rl=["onClick"],al=["src"],ol={key:1},ll={class:"ui zh"},cl={class:"ui en"};var ul=dr(Zo,[["render",function(e,t,n,s,i,r){return Os(),Fs("div",{class:"userHome",onScroll:t[0]||(t[0]=(...e)=>r.scroll&&r.scroll(...e))},[Ws("div",el,[Ws("img",{src:r.convertAvatarPath(e.user.avatar),onclick:"viewImg(this.src)"},null,8,tl),Ws("div",null,[Ws("div",null,ee(e.user.name),1),Ws("div",null,[Ws("span",null,"UID: "+ee(e.user.id)+"Â Â ",1),Ws("span",null,[t[1]||(t[1]=Ws("span",{class:"ui zh"},"æ³¨å†Œæ—¶é—´: ",-1)),t[2]||(t[2]=Ws("span",{class:"ui en"},"Joined ",-1)),Ks(" "+ee(new Date(1e3*e.user.create_time).toLocaleDateString()),1)])])])]),e.showAction?(Os(),Fs("div",nl,[Ws("div",null,[Ws("img",{src:`${e.baseUrl}res/edit.svg`},null,8,sl),t[3]||(t[3]=Ws("span",{class:"ui zh"},"ç¼–è¾‘èµ„æ–™",-1)),t[4]||(t[4]=Ws("span",{class:"ui en"},"Edit profile",-1)),t[5]||(t[5]=Ws("ul",null,[Ws("li",{onclick:"User.changeName()"},[Ws("span",{class:"ui zh"},"ä¿®æ”¹æ˜µç§°"),Ws("span",{class:"ui en"},"Change nickname")]),Ws("li",{onclick:"User.changeAvatar()"},[Ws("span",{class:"ui zh"},"ä¿®æ”¹å¤´åƒ"),Ws("span",{class:"ui en"},"Change avatar")]),Ws("li",{onclick:"User.changeEmail()"},[Ws("span",{class:"ui zh"},"ä¿®æ”¹é‚®ç®±"),Ws("span",{class:"ui en"},"Change email")]),Ws("li",{onclick:"User.changePassword()"},[Ws("span",{class:"ui zh"},"ä¿®æ”¹å¯†ç "),Ws("span",{class:"ui en"},"Change password")])],-1))]),Ws("div",null,[Ws("img",{src:`${e.baseUrl}res/logout.svg`},null,8,il),t[6]||(t[6]=Ws("span",{class:"ui zh"},"é€€å‡ºç™»å½•",-1)),t[7]||(t[7]=Ws("span",{class:"ui en"},"Log out",-1)),t[8]||(t[8]=Ws("ul",null,[Ws("li",{onclick:"User.logout()"},[Ws("span",{class:"ui zh"},"é€€å‡ºç™»å½• (å½“å‰è®¾å¤‡)"),Ws("span",{class:"ui en"},"Log out (from this device)")]),Ws("li",{onclick:"User.resetToken()",style:{color:"red"}},[Ws("span",{class:"ui zh"},"é€€å‡ºç™»å½• (æ‰€æœ‰è®¾å¤‡)"),Ws("span",{class:"ui en"},"Log out (from all devices)")])],-1))])])):Qs("",!0),(Os(!0),Fs(Ps,null,xn(e.comments,((n,s)=>(Os(),Fs("div",{key:n.source+n.id,class:"userCommentItem"},[Ws("p",null,[Ks(ee(n.timeStr),1),Ws("span",null,"#"+ee(n.id),1)]),Ws("p",null,[Ws("span",{onClick:e=>r.gotoComment(s)},ee(n.comment),9,rl),t[9]||(t[9]=Ws("i",null,null,-1)),(Os(!0),Fs(Ps,null,xn(n.image,(t=>(Os(),Fs("img",{src:`${e.baseUrl}api/data/images/posts/${t}.jpg`,loading:"lazy",onclick:"viewImg(this.src)"},null,8,al)))),256))])])))),128)),e.toEnd?(Os(),Fs("h4",ol,[Ws("span",ll,"- å…± "+ee(e.comments.length)+" æ¡ç•™è¨€ -",1),Ws("span",cl,"- Total "+ee(e.comments.length)+" messages -",1)])):Qs("",!0)],32)}]]);Ir.component("loginPopup",Do),Ir.component("promptInputPopup",Vo),Ir.component("setAvatarPopup",Wo),Ir.component("setPasswordPopup",Jo),Ir.component("userHome",ul);var dl={FloatMsgs:yr},pl="Vue 3 loaded",ml=Zt({__name:"App",setup:e=>(console.log(pl),yr.show({type:"warn",msg:`æœåŠ¡å™¨ç»´æŠ¤ä¸­, é¢„è®¡1å°æ—¶å†…æ¢å¤<br>é¢„è®¡æ¢å¤æ—¶é—´: ${new Date("2025-06-19T15:30:00+08:00").toLocaleString()}`,persist:!0}),(e,t)=>ee(pl))});Object.assign(window,co),Object.assign(window,dl),cr(ml).mount("#app")}}}))}();
