<!DOCTYPE html>
<html lang="zh" style="font-size: 16px;">

<head>
    <meta charset="UTF-8">
    <meta id="viewport1" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>圆焰圆CP站 | MadoHomu.love</title>
    <meta name="author" content="浩劫者12345">
    <meta name="description" content="圆焰圆CP站 | 魔法少女小圆 | Madoka & Homura - Puella Magi Madoka Magica">
    <meta name="keywords" content="魔法少女小圆, 圆焰, 焰圆, 圆焰圆, puella magi madoka magica, madoka magica, madohomu, homumado, 魔法少女まどか☆マギカ, まどマギ, まどほむ, ほむまど">
    <meta name="theme-color" content="#ffaacc">

    <script src="https://haojiezhe12345.top:82/madohomu/res/vue2.min.js" defer></script>
    <script src="index.js" defer></script>

    <link rel="stylesheet" href="index.css" type="text/css">
    <style id="langCSS"></style>
    <style id="wallpaperEngineCSS"></style>

    <link rel="manifest" href="index.manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="application-name" content="MadoHomu.love">
    <meta name="apple-mobile-web-app-title" content="MadoHomu.love">

    <link rel="icon" type="image/png" sizes="320x320" href="https://haojiezhe12345.top:82/madohomu/res/favicon-320.png">
    <link rel="apple-touch-icon" type="image/png" sizes="320x320" href="https://haojiezhe12345.top:82/madohomu/res/favicon-320.png">

    <link rel="canonical" href="https://madohomu.love/" />
    <link rel="alternate" href="https://homumado.love/" />
    <link rel="alternate" href="https://haojiezhe12345.top:82/madohomu" />

    <meta name="baidu-site-verification" content="codeva-V0EIVkSEQr" />
    <meta name="baidu-site-verification" content="codeva-IFVIZ5XacW" />
    <meta name="sogou_site_verification" content="DipYziapu2" />

</head>

<body>

    <div id="bgContainer">
        <!--
        <div id="mainbg1" class="mainbg bgzoom" style="background-image: url(https://haojiezhe12345.top:82/madohomu/bg/mainbg1.jpg); opacity: 1; /*display: none*/"></div>
        <div id="mainbg2" class="mainbg" style="background-image: url(https://haojiezhe12345.top:82/madohomu/bg/mainbg2.jpg); opacity: 0; animation-name: none; /*display: none*/"></div>
        -->

        <div class="mainbg defaultbg" data-pixivid="61717580" ><div style="background-position: 45% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>HISA</span></div>
        <div class="mainbg defaultbg" data-pixivid="89897632" ><div style="background-position: 40% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>Rumoon</span></div>
        <div class="mainbg defaultbg" data-pixivid="82577782" ><div style="background-position: 50% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>南山tsd</span></div>
        <div class="mainbg defaultbg" data-pixivid="21428206" ><div style="background-position: 75% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>LIN+</span></div>
        <div class="mainbg defaultbg" data-pixivid="104087822"><div style="background-position: 45% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>eps3rd</span></div>
        <div class="mainbg defaultbg" data-pixivid="54804736" ><div style="background-position: 50% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>冰封死神</span></div>

        <div class="mainbg birthdaybg" data-pixivid="101655453"><div style="background-position: 50% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>八重ハルラ</span></div>
        <div class="mainbg birthdaybg" data-pixivid="91842494" ><div style="background-position: 50% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>ほんわか紳士</span></div>
        <div class="mainbg birthdaybg" data-pixivid="22161754" ><div style="background-position: 35% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>mizuki</span></div>
        <div class="mainbg birthdaybg" data-pixivid="90502009" ><div style="background-position: 65% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>ゆきねこ</span></div>

        <div class="mainbg christmasbg" data-pixivid="114522904"><div style="background-position: 50% 55%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>五十兎</span></div>
        <div class="mainbg christmasbg" data-pixivid="23876072" ><div style="background-position: 60% 15%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>山田あこ</span></div>
        <div class="mainbg christmasbg"                         ><div style="background-position: 80% 50%;"></div><span><span class="ui zh">官图</span><span class="ui en">Official art</span></span></div>
        <div class="mainbg christmasbg" data-pixivid="40497980" ><div style="background-position: 5% 100%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>ほし</span></div>
        <div class="mainbg christmasbg" data-pixivid="114519696"><div style="background-position: 60% 100%"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>くるるまどか</span></div>
        <div class="mainbg christmasbg" data-pixivid="86539485" ><div style="background-position: 50% 0%; "></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>いとぅー</span></div>
        <div class="mainbg christmasbg"                         ><div style="background-position: 50% 10%;"></div><span><span class="ui zh">官图</span><span class="ui en">Official art</span></span></div>

        <div class="mainbg lunarNewYearbg" data-pixivid="108497603"><div style="background-position: 25% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>Miuue</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="32580324" ><div style="background-position: 47% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>あゆっこ (Forest Village)</span></div>
        <div class="mainbg lunarNewYearbg"                         ><div style="background-position: 50% 60%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>谷口淳一郎</span></div>
        <div class="mainbg lunarNewYearbg"                         ><div style="background-position: 50% 75%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>長田寛人</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="115011226"><div style="background-position: 50% 30%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>星影ワタル</span></div>
        <div class="mainbg lunarNewYearbg"                         ><div style="background-position: 50% 70%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>谷口淳一郎</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="106843943"><div style="background-position: 75% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>五十兎</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="69754996" ><div style="background-position: 70% 20%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>猫さかな。</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="48810660" ><div style="background-position: 55% 100%"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>Heytwo黑兎</span></div>
        <div class="mainbg lunarNewYearbg"                         ><div style="background-position: 90% 30%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>渡辺明夫</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="86712658" ><div style="background-position: 25% 15%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>うちゃ</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="48354919" ><div style="background-position: 47% 30%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>あゆっこ (Forest Village)</span></div>
        <div class="mainbg lunarNewYearbg"                         ><div style="background-position: 50% 30%;"></div><span><span class="ui zh">官图</span><span class="ui en">Official art</span></span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="114949786"><div style="background-position: 50% 20%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>ノート</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="29271922" ><div style="background-position: 40% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>たんこ</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="29579137" ><div style="background-position: 67% 25%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>Heytwo黑兎</span></div>
        <div class="mainbg lunarNewYearbg" data-pixivid="55142687" ><div style="background-position: 40% 30%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>Heytwo黑兎</span></div>
        
        <div class="mainbg qixibg" data-pixivid="121143621"><div style="background-position: 70% 20%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>五十兎</span></div>
        <div class="mainbg qixibg"                         ><div style="background-position: 50% 25%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>g小调恰空舞曲</span></div>
        <div class="mainbg qixibg" data-pixivid="112618522"><div style="background-position: 60% 50%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>MOIEKO</span></div>
        <div class="mainbg qixibg" data-pixivid="117294789"><div style="background-position: 33% 20%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>Lauraaa</span></div>
        <div class="mainbg qixibg" data-pixivid="68266300" ><div style="background-position: 33% 20%;"></div><span><span class="ui zh">同人游戏&nbsp;</span><span class="ui en">Fan game&nbsp;</span>ゆめのおにわでchasing CG</span></div>
        <div class="mainbg qixibg" data-pixivid="112717128"><div style="background-position: 0% 33%;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>翻車魚</span></div>

        <div class="mainbg nightbg"><div style="background-position: 60% 50%;"></div><span><span class="ui zh">官图 (战斗五芒星CG)</span><span class="ui en">Official art (PMMM: The Battle Pentagram)</span></span></div>
        
        <div class="mainbg kamibg" data-pixivid="48824021"><div style="background-position: 45% 50%; filter: brightness(0.85) !important;"></div><span><span class="ui zh">画师:&nbsp;</span><span class="ui en">Illustrator:&nbsp;</span>lyiet</span></div>


        <div class="fireworks">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>


        <div id="mainCaptions" style="opacity: 0;">
            <div class="defaultCaption">
                <p><span class="ui zh">如果有人说怀有希望是错误的话，</span><span class="ui en">If you told me it was wrong to harbour hope,</span></p>
                <p><span class="ui zh">「不是这样的。」</span><span class="ui en">I would tell you that it wasn't wrong.</span></p>
                <p><span class="ui zh">无论多少次我都会这样回答，</span><span class="ui en">I'd say it as many times as necessary.</span></p>
                <p><span class="ui zh">无论什么时候我都这样坚持。</span><span class="ui en">I'd keep saying it forever.</span></p>
            </div>
            <div class="defaultCaption">
                <p><span class="ui zh">重复 无论多少次我都将重复。</span><span class="ui en">I'll repeat it. I'll continue to repeat it over and over.</span></p>
                <p><span class="ui zh">小圆 我唯一的朋友，</span><span class="ui en">Visiting the same time again and again, searching for the single way out.</span></p>
                <p><span class="ui zh">为了你，如果是为了你，</span><span class="ui en">Madoka... my one and only friend.</span></p>
                <p><span class="ui zh">即使我被困在永远的迷宫中，</span><span class="ui en">If it's... If it's for you,</span></p>
                <p><span class="ui zh">也在所不惜。</span><span class="ui en">I have no problem being trapped eternally in this maze.</span></p>
            </div>
            <div class="defaultCaption">
                <p><span class="ui zh">连小焰都会为之哭泣的痛苦的事情</span><span class="ui en">If it's hard to the point to make you cry, you, Homura,</span></p>
                <p><span class="ui zh">我怎么可能忍受得了呢</span><span class="ui en">how can i bear it?</span></p>
                <p><span class="ui zh">我啊, 和谁都不想分开呢</span><span class="ui en">I don't want to say goodbye to anyone.</span></p>
                <p><span class="ui zh">就算是到了别无选择的时候</span><span class="ui en">Even if there was no other way,</span></p>
                <p><span class="ui zh">我也没有那种勇气的</span><span class="ui en">I would not have this courage.</span></p>
            </div>
            <div class="defaultCaption">
                <p><span class="ui zh">静静偎依在我身旁，</span><span class="ui en">Come closer quietly,</span></p>
                <p><span class="ui zh">不要再往他方。</span><span class="ui en">don't go anywhere.</span></p>
                <p><span class="ui zh">在窗边婉转歌唱，</span><span class="ui en">Chirp your song by the window,</span></p>
                <p><span class="ui zh">无论失去什么珍贵之物。</span><span class="ui en">don't go anywhere.</span></p>
                <p style="font-size: 2.5vh; font-size: min(3.75vw, 2.5vh);"><span class="ui zh">—— 梶浦由記《君の銀の庭》　</span><span class="ui en">- <i>Your Silver Garden</i>, Yuki Kajiura -</span></p>
            </div>
            <div class="birthdayCaption">
                <p>Happy birthday, Madoka!</p>
                <p id="birthdayDate">10/3/2011 - Madoka's 0th birthday</p>
            </div>
            <div class="christmasCaption">
                <p>Merry Christmas!</p>
            </div>
            <div class="lunarNewYearCaption">
                <p>新年快乐!</p>
            </div>
            <div class="qixiCaption">
                <p><span class="ui zh">七夕快乐!</span><span class="ui en">Happy Chinese Valentine's Day!</span></p>
            </div>
            <div class="nightCaption">
                <p><span class="ui zh">晚安，小焰～</span><span class="ui en">Good night, Homura-chan ~</span></p>
                <p><span class="ui zh">晚安，小圆。</span><span class="ui en">Good night, Madoka.</span></p>
            </div>
            <div class="kamiCaption">
                <p>Darkness cannot drive out darkness,</p>
                <p>only light can do that.</p>
                <p>Hate cannot drive out hate,</p>
                <p>only love can do that.</p>
                <p style="font-weight: bold;">Your sin, I bear.</p>
            </div>
        </div>

        <div class="mainbg walpurgisbg" style="display: none;"><div></div><span>回天宣传海报 1</span></div>

        <div id="videoBgBox" style="display: none;">
            <video id="mainVideoBg" muted></video>
            <video id="mainVideo" muted></video>
        </div>

        <div id="banner" class="banner20231123 banner-info">
            <span>
                <span class="ui zh">若要切换圆神(kami.im)/圆诞主题, 请点击"工具"-"切换主题"</span>
                <span class="ui en">Tip: You can change theme in "Tools" menu</span>
            </span>
            <i onclick="
                this.parentNode.style.display = 'none'
                setConfig('hiddenBanner', this.parentNode.classList[0])
                ">×</i>
        </div>
    
    </div>

    <div id="header">

        <div id="mainTitle">
            <a>
                <span style="color: #ff80c0;">Mado</span>
                <span style="color: #c074ff;">Homu</span>
                <span style="color: #f00;">.love</span>
            </a>
        </div>
    
        <br>

        <div class="mainTitleUnder" onclick="showPopup('themeSelectorPopup')">
            <img class="musicPlayingIndicator" src="https://haojiezhe12345.top:82/madohomu/res/music_note.svg">
            <div id="themeIndicator">
                <div class="currentSong"></div>
                <span><span class="ui zh">主题:</span><span class="ui en">Theme:</span></span>
                <span id="currentTheme">
                    <span id="themeTxt-default"><span class="ui zh">圆焰</span><span class="ui en">MadoHomu</span></span>
                    <span id="themeTxt-night"><span class="ui zh">晚安</span><span class="ui en">Night</span></span>
                    <span id="themeTxt-birthday"><span class="ui zh">圆诞</span><span class="ui en">MadoBirthday</span></span>
                    <span id="themeTxt-christmas"><span class="ui zh">圣诞</span><span class="ui en">Christmas</span></span>
                    <span id="themeTxt-lunarNewYear"><span class="ui zh">新年</span><span class="ui en">Lunar New Year</span></span>
                    <span id="themeTxt-qixi"><span class="ui zh">七夕</span><span class="ui en">Qixi Festival</span></span>
                    <span id="themeTxt-kami">kami.im</span>
                </span>
            </div>
            <img src="https://haojiezhe12345.top:82/madohomu/res/arrow_right.svg">
        </div>

        <br>

        <div class="mainTitleUnder" onclick="showPopup('game2')">
            <img src="https://haojiezhe12345.top:82/madohomu/res/sports_esports.svg">
            <span><span class="ui zh">小情侣(?)</span><span class="ui en">Minigame</span></span>
            <img src="https://haojiezhe12345.top:82/madohomu/res/arrow_right.svg">
        </div>

        <div id="userInfo">
            <img id="userInfoAvatar">
            <span id="userInfoName"></span>
            
            <div id="my-dropdown" style="display: none;">
                <div>
                    <div onclick="User.changeName()"><span class="ui zh">修改昵称</span><span class="ui en">Change nickname</span></div>
                    <div onclick="User.changeAvatar()"><span class="ui zh">修改头像</span><span class="ui en">Change avatar</span></div>
                    <div onclick="User.changeEmail()"><span class="ui zh">修改邮箱</span><span class="ui en">Change email</span></div>
                    <div onclick="User.showMe()"><span class="ui zh">我的留言</span><span class="ui en">My sent messages</span></div>
                    <div onclick="User.logout()"><span class="ui zh">退出</span><span class="ui en">Logout</span></div>
                </div>
            </div>
        </div>
    
    </div>

    <div id="lowerPanel">

        <div class="tooltip">
            <span class="ui zh">今日留言: </span><span class="ui en">Messages today: </span>
            <span id="todayCommentCount"></span>
        </div>

        <div id="comments" class="noscrollbar">

            <div class="commentBox" id="topComment">
                <img class="bg" src="https://haojiezhe12345.top:82/madohomu/bg/msgbg1.jpg">
                <div class="bgcover"></div>
                <img class="avatar" src="https://haojiezhe12345.top:82/madohomu/api/data/images/avatars/浩劫者12345.jpg" onerror="this.onerror=null;this.src='https://haojiezhe12345.top:82/madohomu/api/data/images/defaultAvatar.png'">
                <div class="sender"><span class="ui zh">浩劫者12345 (站长)</span><span class="ui en">haojiezhe12345</span></div>
                <div class="id"><span class="ui zh">#置顶</span><span class="ui en">#Pinned</span></div>
                <div class="comment">
                    <div class="ui zh">
                        欢迎来到 <strong style="text-decoration: underline;">MadoHomu.love</strong> !<br>
                        这里是<strong><span style="color: #ffbbdd;">圆</span><span style="color: #d5a2ff;">焰</span><span style="color: #ffbbdd;">圆</span></strong>的主题网站<br>
                        友情链接: <a href="http://kami.im" target="_blank">kami.im (圆神站)</a> <a href="https://bbs.ihomura.com" target="_blank">bbs.ihomura.com (焰魔站)</a>
                        <br><br>
                        <b>下面这一块是留言板~ 想说些什么都可以!</b><br>
                        比如发早安/晚安打卡, 许愿, 祷告, 拜圆神/焰魔; 或者记录日常, 分享作品, 碎碎念都可以…
                        <br><br>
                        <b>※ 请友善发言, 共同维护网站的圣洁 ※</b><br>
                        请尊重角色, <b>不要发送烂梗</b><br>
                        禁止拆CP、对角色发电等不雅言论
                        <br><br>
                        账号系统已经做好, 支持用户名注册和邮箱注册<br>
                        仅使用用户名注册时, 任何人都可以使用你的用户名直接登录<br>
                        绑定邮箱后, 仅能使用邮箱登录, 这更安全<br>
                        (暂不支持发送邮件恢复账号, 之后计划支持)
                        <br><br>
                        对于没有账号系统 (2024年8月之前) 注册的账号, 我们根据头像上传和发留言时间分配了UID, 可以直接用原昵称登录, 也可以绑定邮箱
                        <br><br>
                        本站支持查看<a href="http://kami.im" target="_blank">kami.im (圆神站)</a>的留言, 可在"工具"手动启用 (切换主题为kami.im会自动启用)
                        <!--感谢<a href="https://discord.gg/AFqn4yQcM9" target="_blank">Discord kami.im</a>频友Yuudachi_Kai2备份的数据!-->
                        <br><br>
                        本站还使用了以下图片, 非常感谢这些画师!<br>
                        <a href="javascript:;" onclick="showPopup('getImgPopup')">→ 点击查看全部图源 ←</a>
                        <br><br>
                        网站默认随机播放魔圆及同人音乐, 可以点开左上角主题切歌
                        <br><br>
                        本站已在GitHub开源<br>
                        前端: <a href="https://github.com/haojiezhe12345/haojiezhe12345.github.io" target="_blank">haojiezhe12345.github.io</a><br>
                        后端: <a href="https://github.com/haojiezhe12345/MadoHomuAPI" target="_blank">MadoHomuAPI</a><br>
                        本站完整备份(每天更新): <a href="https://1drv.ms/f/s!AhBOA0l_B26M51sTobCapRxkqXoS" target="_blank">https://1drv.ms/f/s!AhBOA0l_B26M51sTobCapRxkqXoS</a>
                        <br><br>
                        站长QQ: 3112611479 (邮箱同号)<br>
                        B站: <a href="https://space.bilibili.com/252913909" target="_blank">浩劫者12345</a><br>
                        欢迎扩列。有什么建议/BUG反馈可以直接发邮箱或者加QQ
                    </div>
                    <div class="ui en">
                        Welcome to <strong style="text-decoration: underline;">MadoHomu.love</strong> , a website made for <strong><span style="color: #ffbbdd;">Madoka</span> & <span style="color: #d5a2ff;">Homura</span></strong> !
                        <br>
                        Also try: <a href="http://kami.im" target="_blank">kami.im (for Madokami)</a> <a href="https://bbs.ihomura.com" target="_blank">bbs.ihomura.com (for Akuma Homura)</a>
                        <br><br>
                        <strong>You can:</strong> Make wishes, pray, say morning to Madokami / Homura, share artworks, your feelings about Madoka Magica, and of course your everyday life.
                        <br><br>
                        <strong>You cannot:</strong> Post spams, Ads, harassing, or NSFW content.
                        <br><br>
                        You can log in with username or email. Linking an email prevents others from logging in using your nickname.
                        <br><br>
                        We support viewing messages from <a href="http://kami.im" target="_blank">kami.im</a> which can be enabled in "Tools" menu (this will be automatically enabled if you switch theme to kami.im)
                        <br><br>
                        Below are the sources of background images. Great thanks to these illustrators!<br>
                        <a href="javascript:;" onclick="showPopup('getImgPopup')">→ CLICK HERE to view all of them ←</a>
                        <br><br>
                        You can view the BGM playlist via the top-left "Themes" button.
                        <br><br>
                        MadoHomu.love is open source on GitHub<br>
                        Frontend: <a href="https://github.com/haojiezhe12345/haojiezhe12345.github.io" target="_blank">haojiezhe12345.github.io</a><br>
                        Backend: <a href="https://github.com/haojiezhe12345/MadoHomuAPI" target="_blank">MadoHomuAPI</a><br>
                        Daily backup: <a href="https://1drv.ms/f/s!AhBOA0l_B26M51sTobCapRxkqXoS" target="_blank">https://1drv.ms/f/s!AhBOA0l_B26M51sTobCapRxkqXoS</a>
                        <br><br>
                        My Mail: qq3112611479@gmail.com<br>
                        X (Twitter): <a href="https://twitter.com/haojiezhe12345" target="_blank">@haojiezhe12345</a><br>
                        Any suggestions and advices are welcome. Feel free to contact me.
                    </div>
                </div>

                <div class="time" onclick="
                    hideTopCommentElmnt.click();
                    FloatMsgs.show({ type: 'success', persist: true, msg: `
                        <span class='ui zh'>隐藏成功。可在【工具】→【显示设置】中重新打开</span>
                        <span class='ui en'>Hidden. Can be displayed again via [Tools] → [Display settings]</span>
                    ` })
                " style="
                    text-decoration: underline;
                    font-size: 1rem;
                    right: 0;
                    left: initial;
                    cursor: pointer;
                "><span class="ui zh">隐藏 ×</span><span class="ui en">Hide ×</span></div>

                <div class="time" style="font-size: 0.75rem;">
                    <a href="https://icp.gov.moe/?keyword=20230631" target="_blank" style="color: white;">萌ICP备20230631号</a>
                </div>
            </div>
            
            <div class="commentBox loadingIndicator" id="loadingIndicatorBefore">
                <div class="loadingCircle"></div>
            </div>
            
            <div class="commentBox loadingIndicator" id="loadingIndicator">
                <div class="loadingCircle"></div>
            </div>

        </div>

        <div id="timelineContainer">
            <div id="timeline">
                <p>
                    <strong>2023</strong>
                    <span>12</span>
                    <span>11</span>
                    <span>10</span>
                    <span>9</span>
                    <span>8</span>
                    <span>7</span>
                    <span>6</span>
                </p>
            </div>

            <div id="hoverCalendar" style="display: none;">

            </div>
        </div>

        <div class="commentSeekArrow" onclick="seekComment(-1)" style="left: 2vw; display: none;">
            <img src="https://haojiezhe12345.top:82/madohomu/res/arrow_left.svg">
        </div>
        <div class="commentSeekArrow" onclick="seekComment(1)" style="right: 2vw;">
            <img src="https://haojiezhe12345.top:82/madohomu/res/arrow_right.svg">
            <div id="mouseScrollTooltip" class="tooltip">
                <span class="ui zh">用鼠标滚轮也可滚动</span><span class="ui en">Scrollable with wheel</span>
            </div>
        </div>

        <div id="newMsgContainer" class="backTransparent">
            <button id="newMsg" onclick="newComment()"><span class="ui zh">➕ 发送留言</span><span class="ui en">➕ New message</span></button>
        </div>

        <div id="toolbarContainer" class="backTransparent">
            <div id="toolbar">
                <div id="menu" class="toolbarItem">
                    <span class="ui zh">工具 🛠</span><span class="ui en">Tools 🛠</span>
                    <ul>
                        <li onclick="clearComments();loadComments()"><span class="ui zh">🔄 刷新</span><span class="ui en">🔄 Refresh</span></li>
                        <li onclick="showPopup('themeSelectorPopup')"><span class="ui zh">🖌️ 主题&音乐设置</span><span class="ui en">🖌️ Themes & Music</span></li>
                        <li onclick="showPopup('displaySettings')"><span class="ui zh">🖥️ 显示设置</span><span class="ui en">🖥️ Display settings</span></li>
                        <li onclick="showPopup('getImgPopup')"><span class="ui zh">💾 保存背景图片</span><span class="ui en">💾 Download backgrounds</span></li>
                        <li onclick="
                            if (installPrompt != null) installPrompt.prompt()
                            else if (isInStandaloneMode) FloatMsgs.show({ type: 'info', msg: `<span class='ui zh'>你已安装过App</span><span class='ui en'>App already installed</span>` })
                            else window.alert('你的浏览器不支持安装PWA App\n\n建议使用谷歌Chrome/微软Edge浏览器\n\n你也可以从浏览器菜单手动添加到桌面\n\nYour browser doesn\'t seem to support PWA Apps.\nWe recommend using Google Chrome or Microsoft Edge to do this.')
                            "><span class="ui zh">📲 安装App到桌面</span><span class="ui en">📲 Install as App</span></li>
                        <!--<li onclick="playWalpurgis()">📺 播放回天PV(缩剪版)</li>-->
                        <li>
                            <span>🌎 Language (语言)</span>
                            <i></i>
                            <ul>
                                <li onclick="changeLang(); setConfig('lang', '')"><span class="ui zh">(自动)</span><span class="ui en">(Auto)</span></li>
                                <li onclick="changeLang('en'); setConfig('lang', 'en')"><span>English</span></li>
                                <li onclick="changeLang('zh'); setConfig('lang', 'zh')"><span>中文</span></li>
                            </ul>
                        </li>
                        <li>
                            <label>
                                <input type="checkbox" id="showKami">
                                <b><span class="ui zh">显示kami.im留言</span><span class="ui en">Show messages from kami.im</span></b>
                            </label>
                        </li>
                        <li>
                            <span class="ui zh">跳转到留言(#ID)</span><span class="ui en">Go to message (#ID)</span>
                            <span style="display: inline-flex; align-items: center; padding: 0;">
                                <input id="goto" style="width: 4rem;">
                                <button onclick="clearComments(1);loadComments({ 'from': document.getElementById('goto').value })">Go</button>
                            </span>
                        </li>
                    </ul>
                </div>
                <button id="fullscreenBtn" class="toolbarItem" onclick="toggleFullscreen()"><span class="ui zh">全屏 ↗</span><span class="ui en">Expand ↗</span></button>
            </div>
        </div>

    </div>

    <div id="popupContainer" class="popupContainer" style="display: none;">

        <div id="popupBG" class="popupBG"></div>

        <div id="getImgPopup" class="popupItem">
            <div>
                <h2><span class="ui zh">保存背景图片</span><span class="ui en">Download backgrounds</span></h2>
                <h4><span class="ui zh">长按/右键图片, 然后选"保存到手机/下载图片/图片另存为"</span><span class="ui en">Long press / right click,<br>then select Download image / Save image as...</span></h4>
                <div></div>
            </div>
            <button class="closeBtn"></button>
        </div>

        <div id="showUserCommentPopup" class="popupItem">
            <div id="userComment">
                <h2>
                    <img src="https://haojiezhe12345.top:82/madohomu/api/data/images/avatars/.jpg">
                    <span>User</span>
                </h2>
                <div class="userCommentItem">
                    <p>2023/1/1<span>#1000</span></p>
                    <p>
                        <span onclick="clearComments(1); loadComments({ 'from': this.parentNode.parentNode.querySelector('span').innerText.replace('#', '') }); closePopup()">
                            Hello, world!
                        </span>
                        <i></i>
                        <img src="https://haojiezhe12345.top:82/madohomu/api/data/images/defaultAvatar.png">
                        <img src="https://haojiezhe12345.top:82/madohomu/api/data/images/defaultAvatar.png">
                    </p>
                </div>
                <h4>
                    <span class="ui zh">- 共 0 条留言 -</span>
                    <span class="ui en">- Total 0 messages -</span>
                </h4>
            </div>
            <button class="closeBtn"></button>
        </div>
        
        <div id="themeSelectorPopup" class="popupItem">
            <div>
                <h2><span class="ui zh">主题 & 音乐</span><span class="ui en">Themes & Music</span></h2>
                <p style="width: 100%;">
                    <span onclick="showPopup('displaySettings')" class="underlinedIconLink">
                        <span class="ui zh">🖥️ 显示设置</span><span class="ui en">🖥️ Display settings</span>
                    </span>
                    <span onclick="showPopup('getImgPopup')" class="underlinedIconLink" style="float: right; padding-left: 4px;">
                        <span class="ui zh">下载背景图片</span><span class="ui en">Download backgrounds</span>
                        <img src="https://haojiezhe12345.top:82/madohomu/res/download.svg">
                    </span>
                </p>
                <div id="themeList">
                    <div data-theme="">
                        <img loading="lazy" src="https://haojiezhe12345.top:82/madohomu/res/auto_theme.jpg" style="border: 0.5rem solid white;">
                        <span><span class="ui zh">自动</span><span class="ui en">Auto</span></span>
                    </div>
                    <div data-theme="default">
                        <img loading="lazy" src="https://haojiezhe12345.top:82/madohomu/bg/mainbg1.jpg">
                        <span><span class="ui zh">圆焰</span><span class="ui en">MadoHomu</span></span>
                    </div>
                    <div data-theme="night">
                        <img loading="lazy" src="https://haojiezhe12345.top:82/madohomu/bg/night/mainbg1.jpg">
                        <span><span class="ui zh">晚安 (11:00-6:00)</span><span class="ui en">Night (11PM-6AM)</span></span>
                    </div>
                    <div data-theme="birthday">
                        <img loading="lazy" src="https://haojiezhe12345.top:82/madohomu/bg/birthday/mainbg1.jpg">
                        <span><span class="ui zh">圆诞 (10.3)</span><span class="ui en">MadoBirthday (Oct 3)</span></span>
                    </div>
                    <div data-theme="christmas">
                        <img loading="lazy" src="https://haojiezhe12345.top:82/madohomu/bg/christmas/mainbg1.jpg">
                        <span><span class="ui zh">圣诞 (12.25)</span><span class="ui en">Christmas</span></span>
                    </div>
                    <div data-theme="lunarNewYear">
                        <img loading="lazy" src="https://haojiezhe12345.top:82/madohomu/bg/lunarNewYear/mainbg1.jpg">
                        <span><span class="ui zh">新年 (农历)</span><span class="ui en">Lunar New Year</span></span>
                    </div>
                    <div data-theme="qixi">
                        <img loading="lazy" src="https://haojiezhe12345.top:82/madohomu/bg/qixi/mainbg1.jpg">
                        <span><span class="ui zh">七夕</span><span class="ui en">Chinese Valentine's Day</span></span>
                    </div>
                    <div data-theme="kami">
                        <img loading="lazy" src="https://haojiezhe12345.top:82/madohomu/bg/kami/mainbg1.jpg">
                        <span>kami.im</span>
                    </div>
                </div>
            </div>
            <div id="musicPlayer">
                <audio id="musicAudio"></audio>
                <img id="musicImg">
                <div>
                    <div class="currentSong">No Music Playing</div>
                    <div id="nowPlayingProgress">
                        <div></div>
                    </div>
                </div>
                <button id="musicPlayBtn" class="musicPlayingIndicator"></button>
                <div id="musicPlayerList">
                    <button><img src="https://haojiezhe12345.top:82/madohomu/res/playlist_play.svg"></button>
                    <div>
                        <div>
                            <b><span class="ui zh">播放列表</span><span class="ui en">Playlist</span></b>
                            <label class="setting-switch">
                                <span><span class="ui zh">随机播放</span><span class="ui en">Shuffle</span></span>
                                <input id="musicShuffleBtn" type="checkbox" checked>
                            </label>
                        </div>
                        <ol id="songList">
                            <li>Music 1</li>
                            <li>Music 2</li>
                            <li>Music 3</li>
                            <li>Music 4</li>
                        </ol>
                    </div>
                </div>
            </div>
            <button class="closeBtn"></button>
        </div>

        <div id="displaySettings" class="popupItem">
            <div>
                <h2><span class="ui zh">显示设置</span><span class="ui en">Display settings</span></h2>
                <ul>
                    <li>
                        <label class="setting-switch">
                            <span><span class="ui zh">显示时间轴</span><span class="ui en">Show timeline</span></span>
                            <input type="checkbox" id="showTimeline" onchange="toggleTimeline()" checked>
                        </label>
                    </li>
                    <li>
                        <label class="setting-switch">
                            <span class="ui zh">隐藏置顶公告</span><span class="ui en">Hide pinned announcement</span>
                            <input type="checkbox" id="hideTopComment" onchange="toggleTopComment()">
                        </label>
                    </li>
                    <li>
                        <label class="setting-switch">
                            <span class="ui zh">显示被隐藏留言</span><span class="ui en">Show hidden messages</span>
                            <input type="checkbox" id="showHidden" onchange="Settings.showHidden = this.checked">
                        </label>
                    </li>
                    <li>
                        <span>
                            <span class="ui zh">画面效果</span><span class="ui en">Graphics</span>
                        </span>
                        <select id="graphicsMode" onchange="changeGraphicsMode(this.value)">
                            <option value="high">极高 | Fancy</option>
                            <option value="mid">中等 | Balanced</option>
                            <option value="low">流畅 | Fast</option>
                        </select>
                    </li>
                    <li>
                        <span>
                            <span class="ui zh">界面缩放</span><span class="ui en">UI scale</span>
                        </span>
                        <div style="white-space: nowrap;">
                            <button onclick="
                                var el = this.nextElementSibling
                                if (parseInt(el.value) > 50) el.value = parseInt(el.value) - 10
                                el.dispatchEvent(new Event('change'))
                                ">-</button>
                            <input id="pageZoomController" value="100" style="width: 3em;" onchange="
                                let x = parseInt(this.value)
                                if (50 <= x && x <= 500) Settings.pageScale = x / 100
                                ">
                            <button onclick="
                                var el = this.previousElementSibling
                                if (parseInt(el.value) < 500) el.value = parseInt(el.value) + 10
                                el.dispatchEvent(new Event('change'))
                                ">+</button>
                        </div>
                    </li>
                </ul>
            </div>
            <button class="closeBtn"></button>
        </div>

        <div id="game1" class="popupItem">
            <div>
                <h2><span class="ui zh">馒头卡？点一下！</span><span class="ui en">Madoka Click</span></h2>
                <div>
                    <label class="setting-switch">
                        <input type="checkbox" onchange="
                            if (this.checked) {
                                this.parentNode.classList.add('active')
                            } else {
                                this.parentNode.classList.remove('active')
                            }
                        ">
                    </label>
                </div>
                <p>图片作者: 星浩</p>
            </div>
            <button class="closeBtn"></button>
        </div>

        <div id="game2" class="popupItem">
            <div>
                <h2><span class="ui zh">小情侣（？）</span><span class="ui en">Minigame</span></h2>
                <label id="game2-main" class="setting-switch">
                    <img>
                    <input type="checkbox" onchange="
                        const promises = []
                        if (!this.picList) {
                            this.picList = {}
                            for (let name of ['hmr', 'mdk']) {
                                promises.push(getFileListAsync(`https://haojiezhe12345.top:82/madohomu/res/mello/${name}/`).then(l => this.picList[name] = l))
                            }
                        }
                        Promise.all(promises).then(() => {
                            if (this.checked) {
                                this.nextElementSibling.src = this.picList.mdk[Math.floor(Math.random() * this.picList.mdk.length)]
                                this.nextElementSibling.style.animationName = 'bounceRight'
                            } else {
                                this.previousElementSibling.src = this.picList.hmr[Math.floor(Math.random() * this.picList.hmr.length)]
                                this.previousElementSibling.style.animationName = 'bounceLeft'
                            }
                            setTimeout(() => {
                                this.nextElementSibling.style.removeProperty('animation-name')
                                this.previousElementSibling.style.removeProperty('animation-name')
                            }, 300);
                        })
                    ">
                    <img>
                </label>
                <p><span class="ui zh">点上面的按钮看小情侣互动！</span><span class="ui en">Click the button above to start!</span></p>
                <p><span class="ui zh">(是随机抽图的呢)</span><span class="ui en">(Images are randomly displayed :D)</span></p>
                <p><span class="ui zh">图源 (X/推特): </span><span class="ui en">Image source (X/Twitter): </span><a href="https://twitter.com/swan0517/media" target="_blank">@swan0517 (Mello)</a></p>
                <a onclick="showPopup('game1')"><img src="https://haojiezhe12345.top:82/madohomu/res/xh_mdk1.png"></a>
            </div>
            <button class="closeBtn"></button>
        </div>

    </div>

    <div id="popups">
        <div v-for="(item, index) in popups" class="popupContainer">
            <div class="popupBG" @click="close(index)"></div>
            <div class="popupItem">
                <component :is="item.component" v-bind="item.props" @close="close(index)"></component>
                <button class="closeBtn" @click="close(index)"></button>
            </div>
        </div>
    </div>

    <div id="imgViewerBox" style="display: none">
        <img id="imgViewer" draggable="false" style="transform: translateX(0px) translateY(0px) scale(1)">
    </div>

    <div id="floatMsgs">
        <div v-for="item in msgs" :key="item.id" :class="[item.type, item.persist ? 'persist' : '']">
            <i v-if="item.type == 'info'">💡</i>
            <i v-if="item.type == 'success'">✅</i>
            <i v-if="item.type == 'warn'">⚠️</i>
            <i v-if="item.type == 'error'">❌</i>
            <span v-html="item.msg"></span>
            <i v-if="item.persist" class="closeBtn" @click="close(item.id)"></i>
        </div>
    </div>
    
    <div id="vue-templates">
        <template id="loginPopup">
            <div class="loginPopup">
                <div v-if="screen == 'usernameLogin'">
                    <h2><span class="ui zh">注册/登录</span><span class="ui en">Log in / Register</span></h2>

                    <div class="inputHelperText"><span class="ui zh">用户名 (昵称)</span><span class="ui en">Username (nickname)</span></div>
                    <input type="text" v-model="loginUsername" autocomplete="username" style="margin-bottom: 0;"
                        @keypress="e => e.key == 'Enter' && loginUsername.length > 0 && searchUser()">

                    <div class="inputHelperText" style="margin: 0.375rem 0 1rem;">
                        <span class="ui zh">未注册的用户将自动注册</span><span class="ui en">Newcomers will create an account automatically</span>
                    </div>

                    <p class="altLoginOption" @click="screen = 'emailLogin'; loginUser = null">
                        <span class="ui zh">邮箱登录</span><span class="ui en">Email login</span>
                    </p>

                    <button class="okBtn" :disabled="loginUsername.length == 0" @click="searchUser()">
                        <span class="ui zh">下一步 →</span><span class="ui en">Continue →</span>
                    </button>
                </div>

                <div v-if="screen == 'emailLogin'">
                    <h2><span class="ui zh">邮箱登录</span><span class="ui en">Log in with email</span></h2>

                    <form>
                        <template v-if="loginUser">
                            <div class="emailLoginInfo">
                                <img :src="convertAvatarPath(loginUser.avatar)">
                                <div>{{ loginUser.name }}</div>
                            </div>
                            <div v-if="loginUser.hasEmail" class="inputHelperText">
                                <span class="ui zh">该账号已绑定邮箱<br>在下方输入绑定的邮箱以登录:</span><span class="ui en">This account is linked to an email<br>Enter your email to log in:</span>
                            </div>
                        </template>
                        <div v-else class="inputHelperText"><span class="ui zh">邮箱</span><span class="ui en">Email</span></div>

                        <input v-if="loginUser ? loginUser.hasEmail : true" type="text" v-model="loginEmail" autocomplete="email">

                        <template v-if="loginUser ? loginUser.hasPassword : true">
                            <div class="inputHelperText">
                                <template v-if="loginUser">
                                    <span class="ui zh">密码</span><span class="ui en">Password</span>
                                </template>
                                <template v-else>
                                    <span class="ui zh">密码 (没有可不填)</span><span class="ui en">Password (omit if not set)</span>
                                </template>
                                <span class="help" @click="gotoForgotPassword"><span class="ui zh">忘记密码</span><span class="ui en">Forgot password</span></span>
                            </div>
                            <input type="password" v-model="loginPassword" autocomplete="current-password"
                                @keypress="e => e.key == 'Enter' && (loginEmail.length > 0 || loginPassword.length > 0) && emailLogin()">
                        </template>
                    </form>

                    <p v-if="!loginUser" class="altLoginOption" @click="screen = 'usernameLogin'">
                        <span class="ui zh">用户名登录</span><span class="ui en">Username login</span>
                    </p>

                    <button class="okBtn" :disabled="loginEmail.length == 0 && loginPassword.length == 0" @click="emailLogin()">
                        <span class="ui zh">下一步 →</span><span class="ui en">Continue →</span>
                    </button>

                    <button v-if="loginUser" class="backBtn" @click="screen = 'userFind'"></button>
                </div>

                <div v-if="screen == 'userFind'">
                    <h2 v-if="userFindResult.length == 1"><span class="ui zh">这是您的账号吗?</span><span class="ui en">Is this your account?</span></h2>
                    <h2 v-else><span class="ui zh">哪个是您的账号?</span><span class="ui en">Which account is yours?</span></h2>

                    <div v-for="(item, index) in userFindResult" class="userFindItem" @click="userFindResult.length > 1 && userFindLogin(index)">
                        <div class="userinfo">
                            <img :src="convertAvatarPath(item.avatar)">
                            <div>
                                <div class="username">{{ item.name }}</div>
                                <div class="userdetail">
                                    <span>UID: {{ item.id }}&nbsp;&nbsp;</span>
                                    <span>
                                        <span class="ui zh">注册时间: </span><span class="ui en">Joined </span>
                                        {{ new Date(item.create_time * 1000).toLocaleDateString() }}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="actionBtnContainer">
                        <button v-if="userFindResult.length == 1" @click="gotoRegister()"><span class="ui zh">不, 注册新账号</span><span class="ui en">No, register new account</span></button>
                        <button v-if="userFindResult.length == 1" @click="userFindLogin()"><span class="ui zh">是, 立即登录</span><span class="ui en">Yes, log in now</span></button>
                        <p v-else @click="gotoRegister()"><span class="ui zh">都不是, 注册新账号</span><span class="ui en">None is mine, register new account</span></p>
                    </div>

                    <button class="backBtn" @click="screen = 'usernameLogin'"></button>
                </div>

                <div v-if="screen == 'register'" class="userRegister">
                    <h2><span class="ui zh">注册账号</span><span class="ui en">Registration</span></h2>
                    
                    <img ref="avatarPreview" class="setAvatarImg" src="https://haojiezhe12345.top:82/madohomu/api/data/images/defaultAvatar.png" @click="$refs.avatarInput.click()">
                    <input ref="avatarInput" type="file" accept="image/*" @change="previewAvatar()"/>

                    <div class="inputHelperText"><span class="ui zh">昵称</span><span class="ui en">Enter a nickname</span></div>
                    <input type="text" v-model="regName">

                    <label class="setting-switch">
                        <span class="ui zh">绑定邮箱</span><span class="ui en">Link email</span>
                        <input type="checkbox" id="hideTopComment" v-model="regUseEmail" :disabled="regRequireEmail">
                    </label>

                    <form v-if="regUseEmail">
                        <div v-if="regRequireEmail" class="inputHelperText">
                            <span class="ui zh">该昵称已被使用<br>要使用重复的昵称，必须绑定邮箱</span>
                            <span class="ui en">This nickname is already taken<br>To use a same name, you must provide an email</span>
                        </div>
                        <div v-else class="inputHelperText"><span class="ui zh">邮箱</span><span class="ui en">Enter your email</span></div>
                        <input type="text" v-model="regEmail" autocomplete="email">

                        <div class="inputHelperText"><span class="ui zh">设置密码 (可选)</span><span class="ui en">Password (optional)</span></div>
                        <input type="password" v-model="regPassword" autocomplete="current-password">

                        <template v-if="regPassword.length > 0">
                            <div class="inputHelperText"><span class="ui zh">确认密码</span><span class="ui en">Confirm password</span></div>
                            <input type="password" v-model="regPasswordConfirm">
                        </template>
                    </form>

                    <button class="okBtn" :disabled="regName.length == 0 || (regUseEmail && (regEmail.length == 0 || (regPassword.length > 0 && regPassword != regPasswordConfirm)))" @click="register()">
                        <span class="ui zh">注册 →</span><span class="ui en">Register →</span>
                    </button>

                    <button class="backBtn" @click="screen = userFindResult.length == 0 ? 'usernameLogin' : 'userFind'"></button>
                </div>
            </div>
        </template>

        <template id="promptInputPopup">
            <div>
                <h2 v-html="title"></h2>
                <div v-html="subtitle" class="inputHelperText"></div>
                <input type="text" v-model="value" @keypress="e => e.key == 'Enter' && value.length > 0 && submit()">
                <button class="okBtn" :disabled="value.length == 0 || disabled" @click="submit()"><span class="ui zh">确定 ✔</span><span class="ui en">OK ✔</span></button>
            </div>
        </template>

        <template id="setPasswordPopup">
            <div>
                <h2><span class="ui zh">设置新密码</span><span class="ui en">Set new password</span></h2>

                <div v-if="!userHasEmail" class="inputHelperText" style="color: red; font-weight: bold;">
                    <span class="ui zh">该账号未绑定邮箱, 设置密码后, 一旦忘记密码将无法找回<br>建议先绑定邮箱再设置密码</span>
                    <span class="ui en">This account doesn't have an email, which means you won't be able to reset password if you forget it.<br>It's strongly recommended to link an email before you proceed.</span>
                    <br><br>
                </div>

                <div class="inputHelperText"><span class="ui zh">新密码</span><span class="ui en">Enter new password</span></div>
                <input type="text" v-model="password" autocomplete="new-password">

                <div class="inputHelperText"><span class="ui zh">确认密码</span><span class="ui en">Confirm password</span></div>
                <input type="text" v-model="passwordConfirm">

                <button class="okBtn" :disabled="password && password != passwordConfirm" @click="submit()"><span class="ui zh">确定 ✔</span><span class="ui en">OK ✔</span></button>
            </div>
        </template>

        <template id="setAvatarPopup">
            <div class="setAvatarPopup">
                <h2><span class="ui zh">设置头像</span><span class="ui en">Set avatar</span></h2>
                <img ref="preview" class="setAvatarImg" onclick="viewImg(this.src)">
                <input ref="input" type="file" accept="image/*" @change="previewAvatar()"/>
                <br>
                <button class="okBtn" @click="uploadAvatar()"><span class="ui zh">确定 ✔</span><span class="ui en">OK ✔</span></button>
            </div>
        </template>

        <template id="userHome">
            <div class="userHome" @scroll="scroll">
                <div class="userinfo">
                    <img :src="convertAvatarPath(user.avatar)" onclick="viewImg(this.src)">
                    <div>
                        <div>{{ user.name }}</div>
                        <div>
                            <span>UID: {{ user.id }}&nbsp;&nbsp;</span>
                            <span>
                                <span class="ui zh">注册时间: </span><span class="ui en">Joined </span>
                                {{ new Date(user.create_time * 1000).toLocaleDateString() }}
                            </span>
                        </div>
                    </div>
                </div>
                <div class="useraction">
                    <div>
                        <img src="https://haojiezhe12345.top:82/madohomu/res/edit.svg"><span class="ui zh">编辑资料</span><span class="ui en">Edit profile</span>
                        <ul>
                            <li onclick="User.changeName()"><span class="ui zh">修改昵称</span><span class="ui en">Change nickname</span></li>
                            <li onclick="User.changeAvatar()"><span class="ui zh">修改头像</span><span class="ui en">Change avatar</span></li>
                            <li onclick="User.changeEmail()"><span class="ui zh">修改邮箱</span><span class="ui en">Change email</span></li>
                            <li onclick="User.changePassword()"><span class="ui zh">修改密码</span><span class="ui en">Change password</span></li>
                        </ul>
                    </div>
                    <div onclick="User.logout()"><img src="https://haojiezhe12345.top:82/madohomu/res/logout.svg"><span class="ui zh">退出登录</span><span class="ui en">Log out</span></div>
                </div>
                <div v-for="(item, index) in comments" :key="item.source + item.id" class="userCommentItem">
                    <p>{{ item.timeStr }}<span>#{{ item.id }}</span></p>
                    <p>
                        <span @click="gotoComment(index)">{{ item.comment }}</span>
                        <i></i>
                        <img v-for="img in item.image" :src="`https://haojiezhe12345.top:82/madohomu/api/data/images/posts/${img}.jpg`" loading="lazy" onclick="viewImg(this.src)">
                    </p>
                </div>
                <h4 v-if="toEnd">
                    <span class="ui zh">- 共 {{ comments.length }} 条留言 -</span>
                    <span class="ui en">- Total {{ comments.length }} messages -</span>
                </h4>
            </div>
        </template>
    </div>

</body>

</html>